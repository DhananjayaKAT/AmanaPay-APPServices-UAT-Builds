{"version":3,"file":"js/463.cc1db16a.js","mappings":"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","sources":["webpack://amana-pay-project/./src/views/Login.vue","webpack://amana-pay-project/src/views/Login.vue","webpack://amana-pay-project/./src/views/Login.vue?3cb7","webpack://amana-pay-project/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"hero is-fullheight\"},[_c('full-screen-loader'),_c('div',{staticClass:\"hero-body has-text-centered\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered\",staticStyle:{\"width\":\"400px\"}},[_c('div',[_c('div',{staticStyle:{\"padding-bottom\":\"1.5rem\"}},[_c('form',{staticClass:\"card-content p-0\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"../assets/logoap.png\"),\"alt\":\"logo\"}}),_c('p',{staticClass:\"title is-4 responsive-title\",staticStyle:{\"margin-top\":\"4px\"}},[_vm._v(\"Welcome back,\")]),_c('img',{staticStyle:{\"width\":\"250px\",\"margin-bottom\":\"15px\"},attrs:{\"src\":require(\"../assets/text.png\")}}),_c('b-field',{attrs:{\"label\":\"Username\",\"label-position\":\"on-border\",\"type\":_vm.loginData.username.class,\"message\":_vm.loginData.username.message}},[_c('b-input',{attrs:{\"maxlength\":\"30\",\"icon\":\"account\"},on:{\"input\":function($event){return _vm.loginData.username.blur()}},model:{value:(_vm.loginData.username.value),callback:function ($$v) {_vm.$set(_vm.loginData.username, \"value\", $$v)},expression:\"loginData.username.value\"}})],1),_c('b-field',{attrs:{\"label\":\"Password\",\"label-position\":\"on-border\",\"type\":_vm.loginData.password.class,\"message\":_vm.loginData.password.message}},[_c('b-input',{attrs:{\"type\":_vm.passwordVisible ? '' : 'password',\"icon\":\"form-textbox-password\",\"maxlength\":\"30\",\"password-reveal\":\"\"},on:{\"input\":function($event){return _vm.loginData.password.blur()}},model:{value:(_vm.loginData.password.value),callback:function ($$v) {_vm.$set(_vm.loginData.password, \"value\", $$v)},expression:\"loginData.password.value\"}})],1),_c('div',{staticClass:\"buttons\"},[_c('b-button',{staticClass:\"is-primary\",staticStyle:{\"background-color\":\"#00534E\"},attrs:{\"native-type\":\"submit\",\"loading\":_vm.btnLoading,\"expanded\":\"\"}},[_vm._v(\"Login\")])],1)],1),_c('div',{staticClass:\"has-text-extra-small\"},[_vm._v(\"Version \"),_c('strong',[_vm._v(_vm._s(_vm.getAppVersionData().version))]),_vm._v(\" © \"+_vm._s(_vm.getAppVersionData().year)+\" APay (Pvt) Ltd. All Rights Reserved\")])])])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"hero is-fullheight\">\r\n     <full-screen-loader></full-screen-loader>\r\n     <div class=\"hero-body has-text-centered\">\r\n       <div class=\"container\">\r\n         <div class=\"columns is-centered \" style=\"width:400px\">\r\n           <div >\r\n             <div class=\"\" style=\"padding-bottom: 1.5rem; \">\r\n               <form class=\"card-content p-0\" @submit.prevent=\"login\" >\r\n                 <img src=\"../assets/logoap.png\" alt=\"logo\">\r\n                 <p class=\"title is-4  responsive-title\" style=\" margin-top:4px;\">Welcome back,</p>\r\n                 <img src=\"../assets/text.png\" style=\"width: 250px; margin-bottom: 15px;\">\r\n\r\n                 <b-field label=\"Username\" label-position=\"on-border\" :type=\"loginData.username.class\" :message=\"loginData.username.message\">\r\n                   <b-input maxlength=\"30\" icon=\"account\" v-model=\"loginData.username.value\" @input=\"loginData.username.blur()\"></b-input>\r\n                 </b-field>\r\n \r\n                 <b-field label=\"Password\" label-position=\"on-border\" :type=\"loginData.password.class\" :message=\"loginData.password.message\">\r\n                   <b-input :type=\"passwordVisible ? '' : 'password'\" icon=\"form-textbox-password\" maxlength=\"30\" v-model=\"loginData.password.value\" @input=\"loginData.password.blur()\" password-reveal></b-input>\r\n                 </b-field>\r\n \r\n                 <div class=\"buttons\">\r\n                   <b-button style=\"background-color: #00534E;\" class=\"is-primary\" native-type=\"submit\" :loading=\"btnLoading\" expanded>Login</b-button>\r\n                 </div>\r\n               </form>\r\n               <div class=\"has-text-extra-small\">Version <strong>{{ getAppVersionData().version }}</strong> © {{ getAppVersionData().year }} APay (Pvt) Ltd. All Rights Reserved</div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   </section>\r\n </template>\r\n\r\n<script>\r\nimport jwtUtils from \"@/helpers/jwtUtils\"\r\nimport NetworkManager from \"@/network\"\r\nimport {FieldValidator} from \"@/helpers/validators/fieldValidator\"\r\nimport FullScreenLoader from \"@/components/FullScreenLoader\";\r\nimport {appSettings} from \"@/appSettings\";\r\nimport User from \"@/mixins/modules/authMixins\";\r\n\r\nexport default {\r\n  name: 'loginPage',\r\n  components: {FullScreenLoader},\r\n  data() {\r\n    return {\r\n      tcAccepted: 1,\r\n      tcAgreed: true,\r\n      btnLoading: false,\r\n      passwordVisible: false,\r\n      loginData: {\r\n        username: new FieldValidator(),\r\n        password: new FieldValidator()\r\n      },\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getAppVersionData: function (){\r\n      return {\r\n        version: appSettings.version,\r\n        year: appSettings.year\r\n      }\r\n    },\r\n\r\n    validate: function (){\r\n      let isValid = true\r\n\r\n      let usernameErrorMessage = \"Username cannot contain spaces or special characters except '_'\"\r\n      if(!this.loginData.username.validate(usernameErrorMessage)) isValid = false\r\n\r\n      let passwordErrorMessage =  \"Please enter a valid password\"\r\n      if(!this.loginData.password.validate(passwordErrorMessage)) isValid = false\r\n\r\n      return isValid\r\n    },\r\n\r\n    login: async function () {\r\n      //e.preventDefault()\r\n      const self = this\r\n\r\n      if(self.validate()){\r\n        self.btnLoading = true\r\n\r\n        const data = {\r\n          username: self.loginData.username.value,\r\n          password: self.loginData.password.value\r\n        }\r\n\r\n        await NetworkManager.apiRequest('api/Auth', data,\r\n            function (e) {\r\n              \r\n              let params = {\r\n                type: '',\r\n                message: ''\r\n              }\r\n\r\n              switch (e.statusCode) {\r\n              case 200:\r\n                jwtUtils.saveToken(e.data.token)\r\n                if (e.data.resetPassword === 1) {\r\n                  self.showFullScreenLoader()\r\n                  self.navigateTo('ResetPassword')\r\n                }\r\n                else {\r\n                  self.showFullScreenLoader()\r\n                  \r\n                  if (User.hasPermission('auditor-dashboard-view') && !User.hasSuperPermission()) {\r\n                    self.navigateTo('AuditDashboard');\r\n                  } else {\r\n                    self.navigateTo('Dashboard');\r\n                  }\r\n                }\r\n                break\r\n                case 400:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                case 404:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                  case 422:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                case 500:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n              }\r\n\r\n              self.btnLoading = false\r\n            }, false)\r\n      }\r\n    },\r\n    handleTCAccepted(){\r\n      const self = this\r\n      const data={\r\n        tcAgree: self.tcAgreed\r\n      }\r\n\r\n      NetworkManager.apiRequest('api/dutyfree/DFAuth/tc-agree', data, function (e) {\r\n        if (e.statusCode === 200) {\r\n          const params = {\r\n            type: 'is-success',\r\n            message: e.data.message + ' successfully'\r\n          }\r\n          self.$buefy.toast.open(params)\r\n          // location.reload()\r\n        } else {\r\n          const params = {\r\n            type: 'is-warning',\r\n            message: e.data.message + ' failed!'\r\n          }\r\n          self.$buefy.toast.open(params)\r\n        }\r\n\r\n        self.crIsLoading = false\r\n      })\r\n    },\r\n    handleTCRejected(){\r\n      this.tcAccepted = 1\r\n    }\r\n  },\r\n   mounted() {\r\n     this.stopTokenTimer()\r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hero{\r\n  background-image: url(../assets/Login.webp);\r\n  background-size: cover;\r\n}\r\n.has-text-extra-small{\r\n  font-size: 13px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=583b1808&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=583b1808&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"583b1808\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","on","$event","preventDefault","login","apply","arguments","attrs","require","_v","loginData","username","class","message","blur","model","value","callback","$$v","$set","expression","password","passwordVisible","btnLoading","_s","getAppVersionData","version","year","staticRenderFns","name","components","FullScreenLoader","data","tcAccepted","tcAgreed","FieldValidator","methods","appSettings","validate","isValid","usernameErrorMessage","passwordErrorMessage","self","NetworkManager","apiRequest","e","params","type","statusCode","jwtUtils","saveToken","token","resetPassword","showFullScreenLoader","navigateTo","User","hasPermission","hasSuperPermission","$buefy","toast","open","handleTCAccepted","tcAgree","crIsLoading","handleTCRejected","mounted","stopTokenTimer","component"],"sourceRoot":""}