{"version":3,"file":"js/337.aa249a29.js","mappings":"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","sources":["webpack://amana-pay-project/./src/components/TermsAndConditionsModal.vue","webpack://amana-pay-project/src/components/TermsAndConditionsModal.vue","webpack://amana-pay-project/./src/components/TermsAndConditionsModal.vue?1860","webpack://amana-pay-project/./src/components/TermsAndConditionsModal.vue?ee36","webpack://amana-pay-project/./src/views/Login.vue","webpack://amana-pay-project/src/views/Login.vue","webpack://amana-pay-project/./src/views/Login.vue?3cb7","webpack://amana-pay-project/./src/views/Login.vue?a6ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('b-modal',{attrs:{\"active\":_vm.modalActive,\"has-modal-card\":\"\",\"trap-focus\":\"\",\"destroy-on-hide\":false,\"aria-role\":\"dialog\",\"aria-label\":\"Example Modal\",\"close-button-aria-label\":\"Close\",\"aria-modal\":\"\"},on:{\"update:active\":function($event){_vm.modalActive=$event}}},[_c('div',{staticClass:\"modal-card\"},[_c('header',{staticClass:\"modal-card-head\"},[_c('p',{staticClass:\"modal-card-title has-text-centered\"},[_vm._v(\"Notice of Disclaimer\")]),_c('button',{staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.modalActive = false}}})]),_c('section',{staticClass:\"modal-card-body\"},[_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Use at your own risk\")]),_c('p',[_vm._v(\"All information in the Service is provided \\\"as is\\\", with no guarantee of completeness, accuracy and timeliness or of the results obtained from the use of this information. Full responsibility for any risks associated with its use shall be with the User.\")]),_c('br'),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"No Liability for Damages\")]),_c('p',[_vm._v(\"LankaPay (Private) Limited and affiliates, officers, directors, employees, agents, agents and partners shall not be liable for the User or to any third party for any decision made or action taken in reliance of the information provided in the App or for any direct or indirect damages including but not limited to loss of data, business, revenue arising out of or in connection with the use of the App or any content or service through the App\")]),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Third Party Content.\")]),_c('br'),_c('p',[_vm._v(\"The App may contain links to third-party websites, services, or content. LankaPay (Private) Limited do not endorse or assume any responsibility for the content or practices of these third-party sites. User’s interactions with third-party content or services are solely between the User and the third party, and LankaPay (Private) Limited shall not responsible for any damages or issues that may arise from such interactions.\")]),_c('br'),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Indemnification.\")]),_c('p',[_vm._v(\"By using this App, the User agrees to indemnify and hold LankaPay (Private) Limited harmless from any claims, losses, liabilities, damages, costs, or expenses (including attorneys' fees) arising out of or related to the use of the App or any violation of these terms by the User.\")]),_c('div',{staticClass:\"m-4\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"flex-direction\":\"column\"}},[_c('img',{attrs:{\"src\":require(\"../assets/brand-logo.png\"),\"width\":\"100px\",\"alt\":\"Lanka-pay\"}}),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"LankaPay (Pvt) Ltd\")])])]),_c('footer',{staticClass:\"modal-card-foot is-flex is-justify-content-center\"},[_c('button',{staticClass:\"button is-success is-medium\",attrs:{\"label\":\"Approve\"},on:{\"click\":_vm.acceptTerms}},[_vm._v(\"Agree\")]),_c('button',{staticClass:\"button is-danger is-medium\",attrs:{\"label\":\"Reject\"},on:{\"click\":_vm.rejectTerms}},[_vm._v(\"Reject\")])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-modal :active.sync=\"modalActive\" has-modal-card trap-focus :destroy-on-hide=\"false\" aria-role=\"dialog\"\r\n      aria-label=\"Example Modal\" close-button-aria-label=\"Close\" aria-modal>\r\n      <div class=\"modal-card\">\r\n        <header class=\"modal-card-head\">\r\n              <p class=\"modal-card-title has-text-centered\">Notice of Disclaimer</p> \r\n              <button type=\"button\" class=\"delete\" @click=\"modalActive = false\" />\r\n            </header>\r\n            <section class=\"modal-card-body\">\r\n              <p style=\"font-weight: bold;\">Use at your own risk</p>\r\n              <p>All information in the Service is provided \"as is\", with no guarantee of completeness, accuracy and timeliness or of the results obtained from the use of this information. Full responsibility for any risks associated with its use shall be with the User.</p><br>\r\n              <p style=\"font-weight: bold;\">No Liability for Damages</p>\r\n              <p>LankaPay (Private) Limited and affiliates, officers, directors, employees, agents, agents and partners shall not be liable for the User or to any third party for any decision made or action taken in reliance of the information provided in the App or for any direct or indirect damages including but not limited to loss of data, business, revenue arising out of or in connection with the use of the App or any content or service through the App</p>\r\n            <p style=\"font-weight: bold;\">Third Party Content.</p><br>\r\n              <p>The App may contain links to third-party websites, services, or content. LankaPay (Private) Limited do not endorse or assume any responsibility for the content or practices of these third-party sites. User’s interactions with third-party content or services are solely between the User and the third party, and LankaPay (Private) Limited shall not responsible for any damages or issues that may arise from such interactions.</p><br>\r\n              <p style=\"font-weight: bold;\">Indemnification.</p>\r\n              <p>By using this App, the User agrees to indemnify and hold LankaPay (Private) Limited harmless from any claims, losses, liabilities, damages, costs, or expenses (including attorneys' fees) arising out of or related to the use of the App or any violation of these terms by the User.</p>\r\n              <div style=\"display: flex; align-items: center; justify-content: center; flex-direction: column;\" class=\"m-4\">\r\n                <img src=\"../assets/brand-logo.png\" width=\"100px\" alt=\"Lanka-pay\">\r\n                <p style=\"font-weight: bold;\">LankaPay (Pvt) Ltd</p>\r\n              </div>\r\n\r\n        </section>\r\n\r\n        <footer class=\"modal-card-foot is-flex is-justify-content-center\">\r\n          <button class=\"button is-success is-medium\" label=\"Approve\" @click=\"acceptTerms\">Agree</button>\r\n          <button class=\"button is-danger is-medium\" label=\"Reject\" @click=\"rejectTerms\">Reject</button>\r\n        </footer>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'termsAndConditions',\r\n  props: {\r\n    tcAccepted: Number, // Receive the prop tcAccepted\r\n  },\r\n  data() {\r\n    return {\r\n      modalActive: this.tcAccepted == 0 ,\r\n    };\r\n  },\r\n  watch: {\r\n  tcAccepted: function(newVal) {\r\n    this.modalActive = newVal === 0;\r\n  },\r\n},\r\n  methods: {\r\n    acceptTerms() {\r\n      console.log(this.modalActive);\r\n      this.$emit(\"tcAccepted\")\r\n      this.modalActive = false;\r\n    },\r\n    rejectTerms() {\r\n      this.$emit(\"tcRejected\")\r\n      this.modalActive = false;     \r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TermsAndConditionsModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TermsAndConditionsModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TermsAndConditionsModal.vue?vue&type=template&id=6838ac1e\"\nimport script from \"./TermsAndConditionsModal.vue?vue&type=script&lang=js\"\nexport * from \"./TermsAndConditionsModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"hero is-fullheight\"},[_c('full-screen-loader'),_c('div',{staticClass:\"hero-body has-text-centered\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"columns is-centered\",staticStyle:{\"width\":\"400px\"}},[_c('div',[_c('div',{staticStyle:{\"padding-bottom\":\"1.5rem\"}},[_c('form',{staticClass:\"card-content p-0\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('img',{attrs:{\"src\":require(\"../assets/logoap.png\"),\"alt\":\"logo\"}}),_c('p',{staticClass:\"title is-4 responsive-title\",staticStyle:{\"margin-top\":\"4px\"}},[_vm._v(\"Welcome back,\")]),_c('img',{staticStyle:{\"width\":\"250px\",\"margin-bottom\":\"15px\"},attrs:{\"src\":require(\"../assets/text.png\")}}),_c('b-field',{attrs:{\"label\":\"Username\",\"label-position\":\"on-border\",\"type\":_vm.loginData.username.class,\"message\":_vm.loginData.username.message}},[_c('b-input',{attrs:{\"maxlength\":\"30\",\"icon\":\"account\"},on:{\"input\":function($event){return _vm.loginData.username.blur()}},model:{value:(_vm.loginData.username.value),callback:function ($$v) {_vm.$set(_vm.loginData.username, \"value\", $$v)},expression:\"loginData.username.value\"}})],1),_c('b-field',{attrs:{\"label\":\"Password\",\"label-position\":\"on-border\",\"type\":_vm.loginData.password.class,\"message\":_vm.loginData.password.message}},[_c('b-input',{attrs:{\"type\":_vm.passwordVisible ? '' : 'password',\"icon\":\"form-textbox-password\",\"maxlength\":\"30\",\"password-reveal\":\"\"},on:{\"input\":function($event){return _vm.loginData.password.blur()}},model:{value:(_vm.loginData.password.value),callback:function ($$v) {_vm.$set(_vm.loginData.password, \"value\", $$v)},expression:\"loginData.password.value\"}})],1),_c('div',{staticClass:\"buttons\"},[_c('b-button',{staticClass:\"is-primary\",staticStyle:{\"background-color\":\"#00534E\"},attrs:{\"native-type\":\"submit\",\"loading\":_vm.btnLoading,\"expanded\":\"\"}},[_vm._v(\"Login\")])],1)],1),_c('div',{staticClass:\"has-text-extra-small\"},[_vm._v(\"Version \"),_c('strong',[_vm._v(_vm._s(_vm.getAppVersionData().version))]),_vm._v(\" © \"+_vm._s(_vm.getAppVersionData().year)+\" APay (Pvt) Ltd. All Rights Reserved\")])])])])])]),_c('terms-and-conditions',{attrs:{\"tcAccepted\":_vm.tcAccepted},on:{\"tcAccepted\":_vm.handleTCAccepted,\"tcRejected\":_vm.handleTCRejected}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"hero is-fullheight\">\r\n     <full-screen-loader></full-screen-loader>\r\n     <div class=\"hero-body has-text-centered\">\r\n       <div class=\"container\">\r\n         <div class=\"columns is-centered \" style=\"width:400px\">\r\n           <div >\r\n             <div class=\"\" style=\"padding-bottom: 1.5rem; \">\r\n               <form class=\"card-content p-0\" @submit.prevent=\"login\" >\r\n                 <img src=\"../assets/logoap.png\" alt=\"logo\">\r\n                 <p class=\"title is-4  responsive-title\" style=\" margin-top:4px;\">Welcome back,</p>\r\n                 <img src=\"../assets/text.png\" style=\"width: 250px; margin-bottom: 15px;\">\r\n\r\n                 <b-field label=\"Username\" label-position=\"on-border\" :type=\"loginData.username.class\" :message=\"loginData.username.message\">\r\n                   <b-input maxlength=\"30\" icon=\"account\" v-model=\"loginData.username.value\" @input=\"loginData.username.blur()\"></b-input>\r\n                 </b-field>\r\n \r\n                 <b-field label=\"Password\" label-position=\"on-border\" :type=\"loginData.password.class\" :message=\"loginData.password.message\">\r\n                   <b-input :type=\"passwordVisible ? '' : 'password'\" icon=\"form-textbox-password\" maxlength=\"30\" v-model=\"loginData.password.value\" @input=\"loginData.password.blur()\" password-reveal></b-input>\r\n                 </b-field>\r\n \r\n                 <div class=\"buttons\">\r\n                   <b-button style=\"background-color: #00534E;\" class=\"is-primary\" native-type=\"submit\" :loading=\"btnLoading\" expanded>Login</b-button>\r\n                 </div>\r\n               </form>\r\n               <div class=\"has-text-extra-small\">Version <strong>{{ getAppVersionData().version }}</strong> © {{ getAppVersionData().year }} APay (Pvt) Ltd. All Rights Reserved</div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     <terms-and-conditions :tcAccepted=\"tcAccepted\" @tcAccepted=\"handleTCAccepted\" @tcRejected=\"handleTCRejected\" />\r\n   </section>\r\n </template>\r\n\r\n<script>\r\nimport jwtUtils from \"@/helpers/jwtUtils\"\r\nimport NetworkManager from \"@/network\"\r\nimport {FieldValidator} from \"@/helpers/validators/fieldValidator\"\r\nimport FullScreenLoader from \"@/components/FullScreenLoader\";\r\nimport termsAndConditions from \"@/components/TermsAndConditionsModal\";\r\nimport {appSettings} from \"@/appSettings\";\r\n\r\nexport default {\r\n  name: 'loginPage',\r\n  components: {FullScreenLoader,termsAndConditions},\r\n  data() {\r\n    return {\r\n      tcAccepted: 1,\r\n      tcAgreed: true,\r\n      btnLoading: false,\r\n      passwordVisible: false,\r\n      loginData: {\r\n        username: new FieldValidator(),\r\n        password: new FieldValidator()\r\n      },\r\n\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getAppVersionData: function (){\r\n      return {\r\n        version: appSettings.version,\r\n        year: appSettings.year\r\n      }\r\n    },\r\n\r\n    validate: function (){\r\n      let isValid = true\r\n\r\n      let usernameErrorMessage = \"Username cannot contain spaces or special characters except '_'\"\r\n      if(!this.loginData.username.validate(usernameErrorMessage)) isValid = false\r\n\r\n      let passwordErrorMessage =  \"Please enter a valid password\"\r\n      if(!this.loginData.password.validate(passwordErrorMessage)) isValid = false\r\n\r\n      return isValid\r\n    },\r\n\r\n    login: async function () {\r\n      //e.preventDefault()\r\n      const self = this\r\n\r\n      if(self.validate()){\r\n        self.btnLoading = true\r\n\r\n        const data = {\r\n          username: self.loginData.username.value,\r\n          password: self.loginData.password.value\r\n        }\r\n\r\n        await NetworkManager.apiRequest('api/Auth', data,\r\n            function (e) {\r\n              \r\n              let params = {\r\n                type: '',\r\n                message: ''\r\n              }\r\n\r\n              switch (e.statusCode) {\r\n                case 200:\r\n                  jwtUtils.saveToken(e.data.token)\r\n                  if (e.data.tcAccepted === 0) {\r\n                  self.tcAccepted = 0;\r\n                  console.log(self.tcAccepted);\r\n                  self.btnLoading = false; // Ensure the button is not in the loading state\r\n                  return;\r\n                }\r\n                  \r\n                  if(e.data.resetPassword === 1){\r\n                    self.showFullScreenLoader()\r\n                    self.navigateTo('ResetPassword')\r\n                  }\r\n                  else {\r\n                    self.showFullScreenLoader()\r\n                    self.navigateTo('DashboardDFMinistry')\r\n                    \r\n                  }\r\n                  break\r\n                case 400:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                case 404:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                  case 422:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n                case 500:\r\n                  params = {\r\n                    type: 'is-warning',\r\n                    message: 'Username or Password is invalid!'\r\n                  }\r\n                  self.$buefy.toast.open(params)\r\n                  self.loginData.username.value = ''\r\n                  self.loginData.password.value = ''\r\n                  break\r\n              }\r\n\r\n              self.btnLoading = false\r\n            }, false)\r\n      }\r\n    },\r\n    handleTCAccepted(){\r\n      const self = this\r\n      const data={\r\n        tcAgree: self.tcAgreed\r\n      }\r\n\r\n      NetworkManager.apiRequest('api/dutyfree/DFAuth/tc-agree', data, function (e) {\r\n        if (e.statusCode === 200) {\r\n          const params = {\r\n            type: 'is-success',\r\n            message: e.data.message + ' successfully'\r\n          }\r\n          self.$buefy.toast.open(params)\r\n          // location.reload()\r\n        } else {\r\n          const params = {\r\n            type: 'is-warning',\r\n            message: e.data.message + ' failed!'\r\n          }\r\n          self.$buefy.toast.open(params)\r\n        }\r\n\r\n        self.crIsLoading = false\r\n      })\r\n    },\r\n    handleTCRejected(){\r\n      this.tcAccepted = 1\r\n    }\r\n  },\r\n   mounted() {\r\n     this.stopTokenTimer()\r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hero{\r\n  background-image: url(../assets/Login.png);\r\n  background-size: cover;\r\n}\r\n.has-text-extra-small{\r\n  font-size: 13px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7ebc1d44&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7ebc1d44&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ebc1d44\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","modalActive","on","$event","staticClass","_v","staticStyle","require","acceptTerms","rejectTerms","staticRenderFns","name","props","tcAccepted","Number","data","watch","newVal","methods","console","log","$emit","component","preventDefault","login","apply","arguments","loginData","username","class","message","blur","model","value","callback","$$v","$set","expression","password","passwordVisible","btnLoading","_s","getAppVersionData","version","year","handleTCAccepted","handleTCRejected","components","FullScreenLoader","termsAndConditions","tcAgreed","FieldValidator","appSettings","validate","isValid","usernameErrorMessage","passwordErrorMessage","self","NetworkManager","apiRequest","e","params","type","statusCode","jwtUtils","saveToken","token","resetPassword","showFullScreenLoader","navigateTo","$buefy","toast","open","tcAgree","crIsLoading","mounted","stopTokenTimer"],"sourceRoot":""}