(function(){"use strict";var t={5326:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover-spin",attrs:{id:"fullScreenLoader"}})},i=[],n={name:"FullScreenLoader"},o=n,l=a(1001),r=(0,l.Z)(o,s,i,!1,null,null,null),c=r.exports},2394:function(t,e,a){let s;a.d(e,{$:function(){return s}}),s={$api_url:"https://apay-test.paymediasolutions.com:5000",$api_url_internal:"https://uatlankaremitv2.lankapay.net:7016",timeoutDuration:9e4},s.canAccessInternally=!0,s.internalWebPort="7027",s.version="1.0",s.year="2023"},7357:function(t,e,a){a(3429);var s=a(4735),i=a(1806),n=a(9613);const o={status:{valid:"valid",invalid:"invalid",expired:"expired",margin:"margin"},loadToken:function(){try{let t=null;const e=localStorage.getItem("token"),a=this.parseJwt(e),s=this.validateJwt(a);switch(s){case this.status.valid:t={token:e,jwtObj:a};break;case this.status.margin:t={token:e,jwtObj:a},setTimeout((()=>{this.refreshJwt().then()}),5e3);break;case this.status.expired:console.error("Token expired!"),this.logoutTheUser();break;case this.status.invalid:console.error("Token invalid!"),this.logoutTheUser();break}return t}catch(t){return console.error(t.message),this.logoutTheUser(),null}},saveToken:function(t){try{this.parseJwt(t),this.parseJwt(t)?(localStorage.setItem("token",t),localStorage.setItem("isTokenRefreshing","false")):console.error("Failed to parse token.")}catch(e){console.error("Token save failed:",e)}},validateToken:function(){try{let t=!0;const e=localStorage.getItem("token"),a=this.parseJwt(e),s=this.validateJwt(a);switch(s){case this.status.valid:t=!0;break;case this.status.margin:t=!0;break;case this.status.expired:console.error("Token expired!"),this.logoutTheUser(),t=!1;break;case this.status.invalid:console.error("Token invalid!"),this.logoutTheUser(),t=!1;break}return t}catch(t){return console.error(t.message),this.logoutTheUser(),!1}},parseJwt:function(t){try{return JSON.parse(atob(t.split(".")[1]))}catch(e){throw console.error("Token parsing failed:",e),e}},validateJwt:function(t){try{let e=this.status.valid;const a=t.iat,s=t.exp,i=t.rfh,n=Date.now()/1e3,o=n-a;return n>=s&&(e=this.status.expired),o>=i/1e3&&(e=this.status.margin),e}catch{return this.status.invalid}},refreshJwt:async function(){const t=this,e=localStorage.getItem("isTokenRefreshing");"false"===e&&(console.log("Refreshing token..."),localStorage.setItem("isTokenRefreshing","true"),await n.Z.apiRequest("api/auth/token",{},(function(e){if(200===e.statusCode){let a=e.data.token;t.saveToken(a)}})))},logoutTheUser:function(t=!1){if(null!=localStorage.getItem("token")&&localStorage.removeItem("token"),"Login"!==s.Z.currentRoute.name)if(t)s.Z.replace({path:"/login"}).then(null);else{const t={type:"is-warning",message:"Session expired!. Please login again"};i.V.open(t),setTimeout((()=>{s.Z.replace({path:"/login"}).then(null)}),100)}}};e.Z=o},4339:function(t,e,a){a.d(e,{Y:function(){return i}});var s=a(4956);class i{constructor(t,e,a,i=!1){(0,s.Z)(this,"value",""),(0,s.Z)(this,"regex",/^[\S\d]+$/),(0,s.Z)(this,"message",""),(0,s.Z)(this,"errorMessage","This field is invalid"),(0,s.Z)(this,"class",""),(0,s.Z)(this,"errorClass","is-danger"),(0,s.Z)(this,"skipValidation",!1),this.regex=t||this.regex,this.errorMessage=e||this.errorMessage,this.value=a||this.value,this.skipValidation=i}validate(t=null){return console.log(this),!!this.skipValidation||(!!this.regex.test(this.value)||(this.class=this.errorClass,this.message=null===t?this.errorMessage:t,!1))}invalidate(t){this.class=this.errorClass,this.message=t||this.errorMessage}blur(){this.class="",this.message=""}}},4321:function(t,e,a){var s=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o={name:"App"},l=o,r=a(1001),c=(0,r.Z)(l,i,n,!1,null,null,null),u=c.exports,d=a(4735),p=a(4239),m=a(4833),b=(a(7885),a(560),a(8892)),v=a(7357);const f={timer:null,start:function(t=5e3){stop(),null===this.timer&&(this.timer=setInterval(this.checkToken,t))},checkToken:function(t=5e3){v.Z.validateToken(),null!==this.timer&&setInterval(this.checkToken,t)},stop:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}};var g=f;const h={name:"GlobalMixin",created:function(){},data(){return{regex:{passwordValidation:/((?=(.*\d))(?=(.*[a-z]){2})(?=(.*[A-Z]){2})(?=(.*[@#$!%*?&()[\]{}\-_+=|/\\:;"<>])))=?([\w@#$!%*?&()[\]{}\-_+=|/\\:;"<>]{8,16})/,nameValidation:/^([A-Za-z\d]+\s?[A-Za-z\d]*){3,}$/,addressValidation:/^[A-Za-z\d@$!%*?&]{3,}[\w\W]+$/,contactValidation:/^\d{4,32}$/,websiteValidation:/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?)((?:\/[+~%/.\w-_]*)?\??#?)?)$/,singleWordValidation:/^\w+$/,multiWordValidation:/^[\w\s]+$/,decimalValidation:/^\d+(.\d+)?$/,emptyOrWebsite:/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?|(?:www.|[-;:&=+$,\w]+@)[A-Za-z\d.-]+)((?:\/[+~%/.\w-_]*)?\??#?)?)$|^$/}}},props:{},methods:{showFullScreenLoader(){document.getElementById("fullScreenLoader").style.display="block"},hideFullScreenLoader(){setTimeout((()=>{document.getElementById("fullScreenLoader").style.display="none"}),200)},hasPermission:function(t){return b.Z.hasPermission(t)},isSuperAdmin:function(){return b.Z.hasSuperPermission()},authUser:function(){return b.Z.authUser()},navigateTo:function(t,e=null){d.Z.currentRoute.name!==t&&(null!==e?d.Z.push({name:t,params:e}).then(null):d.Z.push({name:t}).then(null))},startTokenTimer:function(t){t?g.start(t):g.start()},stopTokenTimer:function(){g.stop()},vhToPixels:function(t){return Math.round(window.innerHeight/(100/t))+"px"},getDateTimeForDisplaying:function(t){let e=new Date(t);return this.isValidDate(e)?e.toLocaleString():"-"},isValidDate:function(t){return t instanceof Date&&!isNaN(t)},formatDate:function(t){let e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},formatDateTime:function(t){let e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear(),n=""+e.getHours(),o=""+e.getMinutes(),l=""+e.getSeconds();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),l.length<2&&(l="0"+l),[i,a,s].join("-")+"T"+[n,o,l].join(":")},numberWithCommas:function(t){return t.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},generateRandomPassword:function(){const t=Math.floor(8*Math.random())+8;let e="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="abcdefghijklmnopqrstuvwxyz",i="0123456789",n='@#$!%*?&()[]{}-_+=|/:;"<>?',o=a+s+i+n,l=o.length,r=Math.floor(Math.random()*(a.length-1))+1,c=Math.floor(Math.random()*(t-1))+1,u=a[r],d=Math.floor(Math.random()*(s.length-1))+1,p=Math.floor(Math.random()*(t-1))+1,m=s[d],b=Math.floor(Math.random()*(i.length-1))+1,v=Math.floor(Math.random()*(t-1))+1,f=i[b],g=Math.floor(Math.random()*(n.length-1))+1,h=Math.floor(Math.random()*(t-1))+1,_=n[g],y=Math.floor(Math.random()*(a.length-1))+1,w=Math.floor(Math.random()*(t-1))+1,C=a[y],D=Math.floor(Math.random()*(s.length-1))+1,k=Math.floor(Math.random()*(t-1))+1,S=s[D];for(let x=0;x<t;x++)x===c&&(e+=u),x===p&&(e+=m),x===v&&(e+=f),x===h&&(e+=_),x===w&&(e+=C),x===k&&(e+=S),e+=o.charAt(Math.floor(Math.random()*l));return e}}};var _=h,y=a(1970);s.ZP.config.productionTip=!1,s.ZP.use(m.ZP),s.ZP.mixin(_),s.ZP.use(y,{load:{key:"AIzaSyBOgPcz0lMH325jBnqVdX7tuaST1V9QIuw",libraries:"places"},installComponents:!0}),new s.ZP({router:d.Z,store:p.Z,render:t=>t(u)}).$mount("#app")},8892:function(t,e,a){var s=a(7357);const i={hasPermission:function(t){try{let e=!1;const a=s.Z.loadToken(),i=a.jwtObj,n=JSON.parse(i.permissions);return this.hasSuperPermission()?e=!0:n.forEach((function(a){a===t&&(e=!0)})),e}catch{return!1}},hasSuperPermission:function(){let t=!1;const e=s.Z.loadToken(),a=e.jwtObj,i=JSON.parse(a.permissions);return i.forEach((function(e){"super-permission"===e&&(t=!0)})),t},authUser:function(){const t=s.Z.loadToken();return t.jwtObj}};e.Z=i},9613:function(t,e,a){var s=a(4956),i=a(7357),n=a(4161),o=a(2394);class l{constructor(){(0,s.Z)(this,"statusCode",void 0),(0,s.Z)(this,"data",void 0),this.statusCode=0,this.data=null}}const r={apiRequest:function(t,e,a,s=!0){console.log(window.location.host);let r=o.$.$api_url+"/"+t;o.$.canAccessInternally&&window.location.host.includes(":"+o.$.internalWebPort)&&(r=o.$.$api_url_internal+"/"+t),console.log(r);let c={headers:{},timeout:o.$.timeoutDuration};s&&(c.headers={Authorization:`Bearer ${i.Z.loadToken().token}`,"Content-Type":"application/json"}),n.Z.post(r,e,c).then((function(t){a(t.data)})).catch((function(t){let e=new l;console.log(t),t.response?(e.statusCode=t.response.status,t.response.data&&(e=t.response.data),401===e.statusCode&&i.Z.logoutTheUser()):e.statusCode=502,a(e)}))}};e.Z=r},4735:function(t,e,a){a.d(e,{Z:function(){return gn}});var s=a(6369),i=a(2631);function n(t,e,a){const s=e[a];return s?()=>{s({...t,next:n(t,e,a+1)})}:t.next}var o=a(4239),l=function(){var t=this,e=t._self._c;return e("section",[e("nav-bar"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-fifth"},[e("side-bar",{staticStyle:{height:"90vh"}})],1),e("div",{staticClass:"column"},[e("app-main",{staticClass:"card app-main"})],1)])],1)},r=[],c=function(){var t=this,e=t._self._c;return e("section",{staticClass:"app-main",staticStyle:{margin:"0",width:"100%"}},[e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("div",{staticClass:"container",staticStyle:{width:"100%"}},[e("full-screen-loader"),e("router-view",{key:t.key})],1)])],1)},u=[],d=a(5326),p={name:"AppMain",components:{FullScreenLoader:d.Z},computed:{key(){return this.$route.path}}},m=p,b=a(1001),v=(0,b.Z)(m,c,u,!1,null,null,null),f=v.exports,g=function(){var t=this,e=t._self._c;return e("b-navbar",{staticStyle:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"},scopedSlots:t._u([{key:"brand",fn:function(){return[e("div",[e("b-navbar-item",{staticClass:"pl-10",attrs:{tag:"router-link",to:{path:"/dashboard"}}},[e("img",{staticClass:"pl-5",staticStyle:{height:"500px",width:"auto"},attrs:{src:a(5738)}})])],1)]},proxy:!0},{key:"end",fn:function(){return[e("b-navbar-item",{attrs:{tag:"div"}},[e("b-icon",{attrs:{icon:"account-circle",size:"is-medium"}}),e("b-navbar-dropdown",{attrs:{label:t.getUsername}},[e("b-navbar-item",{on:{click:function(e){return t.logout()}}},[t._v(" Logout ")])],1)],1)]},proxy:!0}])})},h=[],_=a(7357),y={name:"NavBar",data(){return{user:null}},computed:{getUsername(){return null!==this.user?this.user.username:"User"}},methods:{logout:function(){_.Z.logoutTheUser(!0)}},mounted(){this.user=_.Z.loadToken().jwtObj}},w=y,C=(0,b.Z)(w,g,h,!1,null,"a6094ee4",null),D=C.exports,k=function(){var t=this,e=t._self._c;return t.isSidebarOpen?e("b-sidebar",{staticClass:"b-sidebar",attrs:{position:"static",mobile:t.mobile,"expand-on-hover":t.expandOnHover,reduce:t.reduce,delay:t.expandWithDelay?500:null,type:"is-white",fullheight:"",open:""}},[e("div",{staticClass:"p-1"},[e("b-menu",{staticClass:"is-custom-mobile p-4",staticStyle:{"text-align":"left"},attrs:{activable:!1}},[e("b-menu-list",{staticStyle:{"text-align":"left"},attrs:{label:"Menu"}},t._l(t.menuItems,(function(a){return e("div",{key:a.id},[a.isVisible()?e("b-menu-item",{attrs:{icon:a.meta.icon,label:a.meta.title,active:!(a.children.length>1)&&a.meta.isActive,expanded:a.meta.isActive},on:{click:function(e){t.menuClick(a.redirect())}}},t._l(a.children,(function(a){return e("div",{key:a.id},[a.isVisible()?e("b-menu-item",{attrs:{icon:a.meta.icon,label:a.meta.title,active:a.meta.isActive},on:{click:function(e){return t.menuClick(a.name)}}}):t._e()],1)})),0):t._e()],1)})),0)],1)],1)]):t._e()},S=[],x=(a(560),a(4956));class P{constructor(){(0,x.Z)(this,"name",""),(0,x.Z)(this,"redirect",""),(0,x.Z)(this,"isVisible",(()=>!0)),(0,x.Z)(this,"meta",{type:"",icon:"",title:"",isActive:!1}),(0,x.Z)(this,"children",[])}}var T={name:"SideBar",data(){return{expandOnHover:!1,expandWithDelay:!1,mobile:"reduce",reduce:!1,currentRoute:this.$router.currentRoute,isSidebarOpen:!0,menuItems:[]}},methods:{checkPermissions:function(){},menuClick:function(t){null!==t&&void 0!==t&&""!==t&&this.navigateTo(t)},loadMenuItems:function(){this.menuItems=[];for(let t=0;t<vn.length;t++){let e=vn[t];if(e.meta&&"menu"===e.meta.type){let t=new P;t.name=e.name,t.isVisible=e.isVisible,t.redirect=e.redirect,t.meta=e.meta,t.meta.isActive=!1,e.children.forEach((function(e){"menu-item"===e.meta.type&&(e.meta.isActive=!1,t.children.push(e))})),this.menuItems.push(t)}}},checkScreenWidth(){this.isSidebarOpen=window.innerWidth>768}},watch:{$route(t){console.log("Route changed to: "+t.name);let e=null;this.menuItems.forEach((function(a){a.redirect===t.name?e=a:a.meta.isActive=!1,null!==a.children&&void 0!==a.children&&a.children.forEach((function(s){s.name===t.name?(s.meta.isActive=!0,e=a):(s.meta.isActive=!1,a.meta.isActive=!1)}))})),null!==e&&(console.log(e.name),e.meta.isActive=!0)}},beforeDestroy(){window.removeEventListener("resize",this.checkScreenWidth)},mounted(){this.loadMenuItems(),this.$router.push({path:this.$router.currentRoute.path+"#"}),this.checkScreenWidth(),window.addEventListener("resize",this.checkScreenWidth)}},I=T,A=(0,b.Z)(I,k,S,!1,null,null,null),R=A.exports,O={name:"layoutPage",components:{AppMain:f,NavBar:D,SideBar:R},mounted(){const t=this;setTimeout((()=>{t.hideFullScreenLoader()}),500)}},L=O,F=(0,b.Z)(L,l,r,!1,null,"cf162a9e",null),z=F.exports;function U({next:t}){return _.Z.loadToken(),t()}var N=a(8892),E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block"},[e("div",{staticStyle:{"overflow-y":"auto","overflow-x":"hidden"}},[e("div",{staticClass:"container",staticStyle:{height:"78vh",width:"75vw"}},[e("TransactionCounts"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column s-half"},[e("AllTransactions")],1),e("div",{staticClass:"column",staticStyle:{width:"500px"}},[e("TransactionsChart")],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-fifths"},[e("AppUsersChart")],1),e("div",{staticClass:"column"},[e("CurrencyTransactionsLineChart")],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("OverallTransactionsBarChart")],1)])],1)])])},$=[],Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"300px"}},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns",staticStyle:{width:"80%"}},[e("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[t._v("All Transactions")]),e("div",{staticClass:"column is-flex is-align-items-center margin-right: 10px"},[e("b-field",[e("b-datepicker",{attrs:{disabled:t.isTableLoading,"mobile-native":!1,range:""},on:{input:t.loadData},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("span",{staticStyle:{color:"#01635D","margin-right":"5px"}},[e("b",[t._v("Custom")])]),e("b-icon",{staticStyle:{color:"#01635D"},attrs:{icon:"calendar-month-outline","custom-color":"blueviolet","aria-hidden":"true","aria-label":"Calendar icon"}})],1)]},proxy:!0}]),model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)],1),e("div",{staticClass:"column"},[e("b-dropdown",{staticClass:"is-pulled-right",attrs:{disabled:t.isTableLoading,"aria-role":"list"},on:{change:t.loadData},scopedSlots:t._u([{key:"trigger",fn:function(){return[e("b-button",{staticStyle:{border:"none","box-shadow":"none","font-size":"14px"},attrs:{type:"is-primary",size:"is-small","icon-right":"menu-down",outlined:""}},[e("b",[t._v(t._s(t.selectedFilter.text))])])]},proxy:!0}]),model:{value:t.selectedFilter,callback:function(e){t.selectedFilter=e},expression:"selectedFilter"}},t._l(t.filters,(function(a){return e("b-dropdown-item",{key:a.id,attrs:{value:a,"aria-role":"listitem"}},[e("span",[t._v(t._s(a.text))])])})),1)],1)]),e("div",{staticClass:"card-content"},[e("b-table",{attrs:{height:t.vhToPixels(30),loading:t.isTableLoading,data:t.data,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection,"sort-icon":t.sortIcon,"sort-icon-size":t.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","page-input":t.hasInput,"page-input-position":t.inputPosition,"debounce-page-input":t.inputDebounce},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"type",label:"Type",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.type)+" ")]}}])}),e("b-table-column",{attrs:{field:"amount",label:"Amount((LKR)",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.amount)+" ")]}}])})],1)],1)])])},V=[],q=a(9613);const j=new Date;var B={name:"AllTransactions",data(){return{dateRange:[j,j],selectedFilter:{value:7,text:"Last Year"},filters:[{value:7,text:"This Week"},{value:14,text:"Last Two Weeks"},{value:30,text:"Last Month"},{value:90,text:"Last Three Months"},{value:365,text:"Last Year"},{value:0,text:"Custom"}],tableHeaders:[],isTableLoading:!1,data:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:""}},watch:{dateRange(){this.selectedFilter={value:0,text:"Custom"}}},methods:{formatDate:function(t){let e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),i=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},loadData:function(){const t=this;t.isTableLoading=!0,setTimeout((()=>{const e={range:t.selectedFilter.value,fromDate:t.formatDate(t.dateRange[0]),toDate:t.formatDate(t.dateRange[1])};q.Z.apiRequest("api/dashboard/totalTransactionValues",e,(function(e){200===e.statusCode&&(t.data=e.data.transactions),t.isTableLoading=!1}))}),200)}},mounted(){this.loadData()}},M=B,H=(0,b.Z)(M,Z,V,!1,null,"61a62182",null),Y=H.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"370px"}},[e("div",{staticClass:"card-content"},[t._m(0),e("vue-apex-charts",{ref:"donutChart",attrs:{type:"donut",height:"250",options:t.chartOptions,series:t.chartSeries}})],1)])},K=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns",staticStyle:{width:"60%"}},[e("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[t._v("Transactions")])])])}],W=a(3373),J=a.n(W),X={name:"TransactionsChart",components:{VueApexCharts:J()},data(){return{chartSeries:[65,34,65,65],chartOptions:{chart:{zoom:{enabled:!1},toolbar:{show:!1}},labels:["Send Money","Bill Payments","Thayga","E-Channeling"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{text:""},grid:{row:{colors:["#00534E","#00534E"],opacity:.5}},xaxis:{categories:[],title:{text:"Months"}},yaxis:{title:{text:"Number of Allowances"}},legend:{position:"right"}}}},methods:{loadData:function(){const t=this;q.Z.apiRequest("api/dashboard/getTotalTransactionsByMonth",{},(function(e){200===e.statusCode&&(t.chartSeries=e.data.transactions,t.chartOptions.labels=e.data.monthNames)}))}},mounted(){this.loadData()}},Q=X,tt=(0,b.Z)(Q,G,K,!1,null,"c47c5756",null),et=tt.exports,at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"370px"}},[e("div",{staticClass:"card-content"},[t._m(0),e("vue-apex-charts",{ref:"pieChart",attrs:{type:"pie",height:"250",options:t.chartOptions,series:t.chartSeries}})],1)])},st=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns ml-5",staticStyle:{width:"90%"}},[e("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[t._v(" App Users ")])])}];const it=new Date;var nt={name:"AppUsersChart",components:{VueApexCharts:J()},data(){return{dateRange:[it,it],selectedFilter:{value:7,text:"Last Year"},filters:[{value:7,text:"This Week"},{value:14,text:"Last Two Weeks"},{value:30,text:"Last Month"},{value:90,text:"Last Three Months"},{value:365,text:"Last Year"},{value:0,text:"Custom"}],chartSeries:[],chartOptions:{chart:{zoom:{enabled:!1},toolbar:{show:!1}},labels:[],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{text:""},grid:{row:{colors:["#00534E","#00534E"],opacity:.5}},xaxis:{categories:[],title:{text:"Months"}},yaxis:{title:{text:"Number of Allowances"}},legend:{position:"right"}}}},methods:{loadData:function(){const t=this;q.Z.apiRequest("api/dashboard/getAppUsersByCountry",{},(function(e){200===e.statusCode&&(t.chartSeries=e.data.counts,t.$refs.pieChart.updateOptions({labels:e.data.countries}))}))}},mounted(){this.loadData()}},ot=nt,lt=(0,b.Z)(ot,at,st,!1,null,"59050dab",null),rt=lt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",staticStyle:{margin:"10px"}},[e("div",{staticClass:"card-content"},[t._m(0),e("vue-apex-charts",{ref:"barChart",attrs:{type:"bar",width:"500",height:"260",options:t.chartOptions,series:t.series}})],1)])},ut=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns ml-5",staticStyle:{width:"90%"}},[e("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[t._v(" Currency Transactions ")])])}],dt={name:"CurrencyTransactionsBarChart",components:{VueApexCharts:J()},data(){return{series:[{name:"Amount",data:[]}],chartOptions:{chart:{height:500,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{dataLabels:{position:"bottom"},colors:{colors:["#027D75"]}}},xaxis:{currencies:[]},title:{text:""}}}},methods:{loadData:function(){const t=this;q.Z.apiRequest("api/dashboard/currencyWiseTransactionValues",{},(function(e){200===e.statusCode&&(t.series=[{name:"Amount",data:e.data.amounts}],t.$refs.barChart.updateOptions({xaxis:{currencies:e.data.currencies}}))}))}},mounted(){this.loadData()}},pt=dt,mt=(0,b.Z)(pt,ct,ut,!1,null,"5ccf346e",null),bt=mt.exports,vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",staticStyle:{margin:"10px"}},[t._m(0),e("div",{staticClass:"card-content"},[e("vue-apex-charts",{ref:"barChart",attrs:{type:"bar",width:"90%",height:"350",options:t.chartOptions,series:t.chartSeries}})],1)])},ft=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns",staticStyle:{width:"60%"}},[e("div",{staticClass:"column is-two-thirds ml-5",staticStyle:{"font-weight":"bold"}},[t._v(" Overall Transactions ")])])])}],gt={name:"CurrencyTransactionsBarChart",components:{VueApexCharts:J()},data(){return{chartSeries:[],chartOptions:{chart:{height:500,type:"bar"},plotOptions:{bar:{dataLabels:{position:"bottom"}}},xaxis:{categories:[]},title:{text:""}}}},methods:{loadData:function(){const t=this;q.Z.apiRequest("api/dashboard/getTotalTransactionsByMonth",{},(function(e){200===e.statusCode&&(t.chartSeries=e.data.transactions.map((t=>({name:t.name,data:t.data}))),t.$refs.barChart.updateOptions({xaxis:{categories:e.data.monthNames}}))}))}},mounted(){this.loadData()}},ht=gt,_t=(0,b.Z)(ht,vt,ft,!1,null,"033d1c0d",null),yt=_t.exports,wt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"card",staticStyle:{"margin-left":"10px","margin-right":"10px"}},[e("div",{staticClass:"columns mt-2 pt-4",staticStyle:{"margin-left":"24px","margin-right":"24px"}},[e("div",{staticClass:"column is-half"},[e("div",{staticClass:"card card-content",staticStyle:{"margin-left":"10px","margin-right":"10px",height:"90px"}},[e("div",{staticClass:"columns is-align-center"},[e("div",{staticClass:"column is-two-thirds"},[e("p",[e("b",[t._v("Total Remittance Transactions(USD)")]),e("br"),e("span",{staticStyle:{"margin-left":"18px",color:"#0a341a","font-weight":"bold"}},[t._v(t._s(t.tranData.ceftTransactions))])])]),t._m(0)])])]),e("div",{staticClass:"column is-half"},[e("div",{staticClass:"card card-content",staticStyle:{"margin-left":"10px","margin-right":"10px",height:"90px"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-two-thirds"},[e("p",[e("b",[t._v("Total Value of Transactions(LKR)")]),e("br"),e("span",{staticStyle:{"margin-left":"18px",color:"#0a341a","font-weight":"bold"}},[t._v(t._s(t.tranData.totalCeftValueLKR))])])]),t._m(1)])])])]),e("div",{staticClass:"section pt-0"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered"},[e("div",{staticStyle:{height:"100px"}},[e("img",{staticStyle:{height:"50px"},attrs:{src:a(1501)}}),t._m(2),e("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v(" "+t._s(t.tranData.ceftTransactions)+" ")])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered"},[e("div",{staticStyle:{height:"100px"}},[e("img",{staticStyle:{height:"50px"},attrs:{src:a(9271)}}),t._m(3),e("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v(" "+t._s(t.tranData.billTransactions)+" ")])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered"},[e("div",{staticStyle:{height:"100px"}},[e("img",{staticStyle:{height:"50px"},attrs:{src:a(3537)}}),t._m(4),e("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v(" "+t._s(t.tranData.ecTransactions)+" ")])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered"},[e("div",{staticStyle:{height:"100px"}},[e("img",{staticStyle:{height:"50px"},attrs:{src:a(6621)}}),t._m(5),e("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v(" "+t._s(t.tranData.thyagaTransactions)+" ")])])])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content has-text-centered"},[e("div",{staticStyle:{height:"100px"}},[e("img",{staticStyle:{height:"50px"},attrs:{src:a(4931)}}),t._m(6),e("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v(" "+t._s(t.tranData.appUsers)+" ")])])])])])])])])])},Ct=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"coloum"},[e("img",{staticStyle:{height:"30px","margin-top":"20%","margin-left":"25%"},attrs:{src:a(9426)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"coloum"},[e("img",{staticStyle:{height:"40px","margin-top":"20%","margin-left":"25%"},attrs:{src:a(5701)}})])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[t._v(" Total "),e("br"),t._v("Remittances ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[t._v(" Total "),e("br"),t._v("Bill Payments ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[t._v(" Total "),e("br"),t._v("EChannelling ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[t._v(" Total "),e("br"),t._v("Thyaga ")])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[t._v(" Total "),e("br"),t._v("Users ")])}],Dt={name:"TransactionCounts",data(){return{tranData:{ceftTransactions:0,billTransactions:0,thyagaTransactions:0,ecTransactions:0,appUsers:0,totalCeftValueLKR:0}}},methods:{loadData:function(){const t=this;q.Z.apiRequest("api/dashboard/totalCountsAndValues",{},(function(e){200===e.statusCode&&(t.tranData=e.data)}))}},mounted(){this.loadData()}},kt=Dt,St=(0,b.Z)(kt,wt,Ct,!1,null,"7726106a",null),xt=St.exports,Pt={name:"DashboardApay",components:{AllTransactions:Y,TransactionsChart:et,CurrencyTransactionsLineChart:bt,AppUsersChart:rt,OverallTransactionsBarChart:yt,TransactionCounts:xt}},Tt=Pt,It=(0,b.Z)(Tt,E,$,!1,null,null,null),At=It.exports,Rt=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Users")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("user-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("CreateUser")}}},[t._v("Create User")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("user-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.users,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"name",centered:"",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"email",centered:"",label:"Email",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.email.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"contact_number",centered:"",label:"Contact Number",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.contact_number.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"username",centered:"",label:"Username",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.username.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"branch",centered:"",label:"Branch",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.branch.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"status",centered:"",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:("Active"===a.row.status.value?"is-success":"is-danger")+" is-light"}},[t._v(t._s(a.row.status.value))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at.value).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at.value).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked.value?e("div",{staticClass:"buttons"},[t.hasPermission("user-edit")?e("b-tooltip",{attrs:{label:"Edit"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("EditUser",{id:a.row.id.value})}}})],1):t._e(),e("b-tooltip",{attrs:{label:"Change Password",position:"is-left"}},[t.hasPermission("user-password-reset")?e("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"rotate-3d-variant"},on:{click:function(e){return t.onChangePasswordClick(a.row.username)}}}):t._e()],1)],1):e("b-tooltip",{attrs:{label:"Locked"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),e("br"),e("b-modal",{attrs:{"has-modal-card":"","can-cancel":!1,"trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Example Modal","close-button-aria-label":"Close","aria-modal":""},model:{value:t.isPwChangeModalActive,callback:function(e){t.isPwChangeModalActive=e},expression:"isPwChangeModalActive"}},[[e("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("Change Password")])]),e("section",{staticClass:"modal-card-body"},[e("b-field",{attrs:{horizontal:"",type:t.newPassword.class,message:t.newPassword.message}},[e("template",{slot:"label"},[t._v("Password"),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",{attrs:{type:t.newPassword.class,grouped:""}},[e("b-input",{on:{blur:function(e){return t.newPassword.blur()}},model:{value:t.newPassword.value,callback:function(e){t.$set(t.newPassword,"value",e)},expression:"newPassword.value"}}),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.generatePassword}},[t._v("Generate")])]),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.copyToClipboard}},[t._v("Copy")])])],1)],2)],1),e("footer",{staticClass:"modal-card-foot"},[e("b-button",{attrs:{label:"Close"},on:{click:function(e){t.isPwChangeModalActive=!1}}}),e("b-button",{attrs:{loading:t.isPwChangeModalLoading,label:"Change",type:"is-primary"},on:{click:t.changePassword}})],1)])]],2)],1)},Ot=[],Lt=function(){var t=this,e=t._self._c;return e("section",[t.data&&t.data.length>0?e("b-collapse",{staticClass:"card",staticStyle:{"margin-bottom":"20px"},attrs:{animation:"slide",open:!1},scopedSlots:t._u([{key:"trigger",fn:function(a){return[e("div",{staticClass:"card-header",staticStyle:{"background-color":"#01635D",color:"white"},attrs:{role:"button","aria-controls":"contentIdForA11y3","aria-expanded":a.open}},[e("p",{staticClass:"card-header-title",staticStyle:{color:"white"}},[t._v(" Change Requests "),e("b-tag",{staticStyle:{"margin-left":"5px",color:"#01635D","font-weight":"bold","border-radius":"25px"},attrs:{type:"is-white"}},[t._v(t._s(t.data.length))])],1),e("a",{staticClass:"card-header-icon"},[e("b-icon",{attrs:{icon:a.open?"menu-down":"menu-up"}})],1)])]}}],null,!1,3822930209)},[e("div",{staticClass:"card-content",attrs:{type:"is-primary"}},[e("div",[e("b-table",{attrs:{data:t.data,paginated:"","pagination-position":"bottom","per-page":"5"}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}}],null,!1,2818734045)}),e("b-table-column",{attrs:{field:"pendingAction",label:"Pending Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.pendingAction)+" ")]}}],null,!1,2496415452)}),e("b-table-column",{attrs:{field:"requestedBy",label:"Requested By"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.requestedBy)+" ")]}}],null,!1,1755987702)}),e("b-table-column",{attrs:{field:"requestedTime",label:"Requested Time",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.requestedTime).toLocaleString())+" ")])]}}],null,!1,3964871459)}),e("b-table-column",{attrs:{label:"Action"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-right":"eye"},on:{click:function(e){return t.selectChangeRequest(a.row)}}},[t._v(" View ")])]}}],null,!1,3755948555)})],1)],1)]),e("footer",{staticClass:"card-footer"})]):t._e(),void 0===t.customChangeRequest?e("div",[e("change-request-approve-modal",{attrs:{"is-visible":t.isApproveModalActive,"change-request":t.selectedChangeRequest,"filter-out":t.filterOut,"is-loading":t.isLoading},on:{"close-modal":function(e){return t.closeApproveModal()},"approve-or-reject":t.approve_or_reject}})],1):t._e(),"providerCurrency"===t.customChangeRequest?e("div",[e("provider-currency-approve-modal",{attrs:{"is-visible":t.isApproveModalActive,"change-request":t.selectedChangeRequest,"filter-out":t.filterOut,"is-loading":t.isLoading},on:{"close-modal":function(e){return t.closeApproveModal()},"approve-or-reject":t.approve_or_reject}})],1):t._e()],1)},Ft=[],zt=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{width:450,scroll:"keep",animation:"zoom-out","can-cancel":!1},model:{value:t.modelVisible,callback:function(e){t.modelVisible=e},expression:"modelVisible"}},[e("div",{staticClass:"model-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modelHeader.type)),e("b-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:t.modelHeader.tagClass}},[t._v(t._s(t.modelHeader.tag))])],1),e("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-modal")}}})]),e("div",{staticClass:"modal-card-body",staticStyle:{"max-height":"50vh","overflow-y":"auto"}},[e("div",{staticClass:"content pt-2"},t._l(t.fields,(function(a){return e("div",{key:a.id},["STRING"===a.newValue.type?e("div",[e("change-request-string-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):t._e(),"STRING_ARRAY"===a.newValue.type?e("div",[e("change-request-string-array-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):t._e(),"IMAGE"===a.newValue.type?e("div",[e("change-request-image-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):t._e(),"IMAGE_ARRAY"===a.newValue.type?e("div",[e("change-request-image-array-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):t._e()])})),0)]),e("footer",{staticClass:"modal-card-foot"},[e("div",{staticClass:"is-full column py-0 px-0"},[e("div",{staticClass:"column"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"}),e("div",{staticClass:"buttons"},[e("b-button",{attrs:{type:"is-primary is-small",loading:t.isLoading},on:{click:function(e){return t.$emit("approve-or-reject","approve")}}},[t._v("Approve")]),e("b-button",{attrs:{type:"is-danger is-small",loading:t.isLoading},on:{click:function(e){return t.$emit("approve-or-reject","reject")}}},[t._v("Reject")])],1)])])])])])])},Ut=[],Nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half has-text-right"},[e("p",{staticClass:"comparison-header"},[t._v(t._s(t.header)+" :")])]),e("div",{staticClass:"column is-half has-text-left"},[e("div",[t._v(t._s(t.newValue.value))]),void 0!==t.oldValue&&null!==t.oldValue&&t.oldValue.value!==t.newValue.value?e("div",{staticClass:"old-value"},[t._v(t._s(t.oldValue.value))]):t._e()])])},Et=[],$t={name:"ChangeRequestStringComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{},mounted(){console.log(this.header)}},Zt=$t,Vt=(0,b.Z)(Zt,Nt,Et,!1,null,"56bd9d2a",null),qt=Vt.exports,jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half has-text-right"},[e("p",{staticClass:"comparison-header"},[t._v(t._s(t.header)+" :")])]),e("div",{staticClass:"column is-half has-text-left"},[e("b-taglist",t._l(t.newValue.value,(function(a){return e("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[t._v(t._s(a))])})),1),void 0===t.oldValue||null===t.oldValue||t.isArrayEqual(t.oldValue.value,t.newValue.value)?t._e():e("b-taglist",{staticClass:"old-value"},t._l(t.oldValue.value,(function(a){return e("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[t._v(t._s(a))])})),1)],1)])},Bt=[],Mt={name:"ChangeRequestStringArrayComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{isArrayEqual:function(t,e){let a=!0;if(t.length!==e.length)a=!1;else for(let s=0;s<t.length;s++)t[s]!==e[s]&&(a=!1);return a}}},Ht=Mt,Yt=(0,b.Z)(Ht,jt,Bt,!1,null,"b03050e4",null),Gt=Yt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half has-text-right"},[e("p",{staticClass:"comparison-header"},[t._v(t._s(t.header)+" :")])]),e("div",{staticClass:"column is-half has-text-left"},[e("div",[e("p",[t._v("New Image")]),e("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:t.getImageUrl(t.newValue.value)}})]),void 0!==t.oldValue&&null!==t.oldValue&&t.oldValue.value!==t.newValue.value?e("div",{staticClass:"old-value"},[e("p",[t._v("Old Image")]),e("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:t.getImageUrl(t.oldValue.value)}})]):t._e()])])},Wt=[],Jt=a(2394),Xt={name:"ChangeRequestImageComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{getImageUrl(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()}}},Qt=Xt,te=(0,b.Z)(Qt,Kt,Wt,!1,null,"73c7d3a3",null),ee=te.exports,ae=function(){var t=this,e=t._self._c;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half has-text-right"},[e("p",{staticClass:"comparison-header"},[t._v(t._s(t.header)+" :")])]),e("div",{staticClass:"column is-half has-text-left"},[e("div",[e("p",[t._v("New Images")]),e("div",{staticClass:"columns"},t._l(t.newValue.value,(function(a){return e("div",{key:a.id,staticClass:"column"},[e("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:t.getImageUrl(a)}})])})),0)]),void 0!==t.oldValue&&null!==t.oldValue&&t.oldValue.value!==t.newValue.value?e("div",{staticClass:"old-value"},[e("p",[t._v("Old Images")]),e("div",{staticClass:"columns"},t._l(t.oldValue.value,(function(a){return e("div",{key:a.id,staticClass:"column"},[e("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:t.getImageUrl(a)}})])})),0)]):t._e()])])},se=[],ie={name:"ChangeRequestImageArrayComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{getImageUrl(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()}}},ne=ie,oe=(0,b.Z)(ne,ae,se,!1,null,"cfd96fb6",null),le=oe.exports,re={name:"ChangeRequestApproveModal",components:{ChangeRequestStringComparisonItem:qt,ChangeRequestStringArrayComparisonItem:Gt,ChangeRequestImageComparisonItem:ee,ChangeRequestImageArrayComparisonItem:le},props:["changeRequest","isVisible","filterOut","isLoading"],emits:["close-modal","approve-or-reject"],data(){return{modelVisible:!1,fields:[],pendingActions:{CREATE:"is-success",EDIT:"is-warning",DELETE:"is-danger"}}},computed:{modelHeader(){let t="",e="",a="is-light ";return void 0!==this.changeRequest&&null!==this.changeRequest&&(t=this.changeRequest.type,e=this.changeRequest.pendingAction,a+=this.pendingActions[e]),{type:t,tag:e,tagClass:a}}},methods:{manipulateData:function(){const t=this;if(this.fields=[],void 0!==this.changeRequest&&null!==this.changeRequest){const e=this.changeRequest.newRecord,a=this.changeRequest.originalRecord,s=Object.entries(e).map((([t,e])=>({key:t,value:e})));s.forEach((function(s){let i={header:e[s.key].header,newValue:e[s.key],oldValue:void 0!==a&&null!==a?a[s.key]:void 0};t.excludeFromList(s.key)||t.fields.push(i)}))}},excludeFromList:function(t){if(null!==this.filterOut&&void 0!==this.filterOut){for(let e=0;e<this.filterOut.length;e++)if(t===this.filterOut[e])return!0;return!1}}},mounted(){},watch:{isVisible:function(t){this.modelVisible=t},changeRequest:function(){this.manipulateData()}}},ce=re,ue=(0,b.Z)(ce,zt,Ut,!1,null,"a364c1a4",null),de=ue.exports,pe=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{width:450,scroll:"keep",animation:"zoom-out","can-cancel":!1},model:{value:t.modelVisible,callback:function(e){t.modelVisible=e},expression:"modelVisible"}},[e("div",{staticClass:"model-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modelHeader.type)),e("b-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:t.modelHeader.tagClass}},[t._v(t._s(t.modelHeader.tag))])],1),e("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-modal")}}})]),e("div",{staticClass:"modal-card-body",staticStyle:{"max-height":"50vh","overflow-y":"auto"}},[e("b-table",{attrs:{data:t.newRecord}},[e("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"transaction_rate",label:"Transaction Rate",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(a.row.transaction_rate))]),t.oldRecord[a.index].transaction_rate!==a.row.transaction_rate?e("div",{staticClass:"old-value"},[t._v(t._s(t.oldRecord[a.index].transaction_rate))]):t._e()]}}])}),e("b-table-column",{attrs:{field:"settlement_rate",label:"Settlement Rate",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(a.row.settlement_rate))]),t.oldRecord[a.index].settlement_rate!==a.row.settlement_rate?e("div",{staticClass:"old-value"},[t._v(t._s(t.oldRecord[a.index].settlement_rate))]):t._e()]}}])}),e("b-table-column",{attrs:{field:"disable",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))]),t.oldRecord[a.index].disabled!==a.row.disabled?e("div",{staticClass:"old-value"},[t._v(t._s(0===t.oldRecord[a.index].disabled?"Active":"Inactive"))]):t._e()]}}])})],1)],1),e("footer",{staticClass:"modal-card-foot"},[e("div",{staticClass:"is-full column py-0 px-0"},[e("div",{staticClass:"column"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"}),e("div",{staticClass:"buttons"},[e("b-button",{attrs:{type:"is-primary is-small",loading:t.isLoading},on:{click:function(e){return t.$emit("approve-or-reject","approve")}}},[t._v("Approve")]),e("b-button",{attrs:{type:"is-danger is-small",loading:t.isLoading},on:{click:function(e){return t.$emit("approve-or-reject","reject")}}},[t._v("Reject")])],1)])])])])])])},me=[],be={name:"ChangeRequestApproveModal",components:{},props:["changeRequest","isVisible","filterOut","isLoading"],emits:["close-modal","approve-or-reject"],data(){return{modelVisible:!1,fields:[],pendingActions:{CREATE:"is-success",EDIT:"is-warning",DELETE:"is-danger"},newRecord:[],oldRecord:[]}},computed:{modelHeader(){let t="",e="",a="is-light ";return void 0!==this.changeRequest&&null!==this.changeRequest&&(t=this.changeRequest.type,e=this.changeRequest.pendingAction,a+=this.pendingActions[e]),{type:t,tag:e,tagClass:a}}},methods:{},mounted(){},watch:{isVisible:function(t){this.modelVisible=t},changeRequest:function(t){this.newRecord=t?t.newRecord.currencies:[],this.oldRecord=t?t.originalRecord.currencies:[],console.log(this.newRecord),console.log(this.oldRecord)}}},ve=be,fe=(0,b.Z)(ve,pe,me,!1,null,"41373c4f",null),ge=fe.exports,he={name:"ChangeRequest",components:{ChangeRequestApproveModal:de,ProviderCurrencyApproveModal:ge},props:["data","filterOut","isLoading","customChangeRequest"],emits:["approve-or-reject"],data(){return{stickyHeaders:!0,dateSearchable:!1,isApproveModalActive:!1,selectedChangeRequest:null}},computed:{},methods:{approve_or_reject:function(t){let e={changeRequestID:this.selectedChangeRequest.changeRequestId,actionTaken:t};this.$emit("approve-or-reject",e)},closeApproveModal:function(){this.isApproveModalActive=!1,this.selectedChangeRequest=null},selectChangeRequest:function(t){this.selectedChangeRequest=t,this.isApproveModalActive=!0}}},_e=he,ye=(0,b.Z)(_e,Lt,Ft,!1,null,"d018f7f8",null),we=ye.exports,Ce=a(4339),De={name:"userTable",components:{ChangeRequest:we},data(){return{users:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],isPwChangeModalActive:!1,isPwChangeModalLoading:!1,selectedUsername:"",newPassword:new Ce.Y,tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{onChangePasswordClick:function(t){this.selectedUsername=t,this.isPwChangeModalActive=!0,this.newPassword.value="",this.newPassword.blur()},generatePassword:function(){const t=this;t.newPassword.blur(),t.newPassword.value=t.generateRandomPassword()},copyToClipboard:function(){const t=this,e=document.createElement("textarea");document.body.appendChild(e),e.value=t.newPassword.value,e.select(),document.execCommand("copy"),document.body.removeChild(e),t.$buefy.toast.open({message:"Copied to Clipboard"})},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/User/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,console.log(t.crData),t.users=e.data.users),t.hideFullScreenLoader()}))},changePassword:function(){const t=this;if(t.newPassword.validate()){t.isPwChangeModalLoading=!0;const e={username:t.selectedUsername.value,password:t.newPassword.value};t.showFullScreenLoader(),q.Z.apiRequest("api/user/change-password",e,(function(e){if(200===e.statusCode){t.isPwChangeModalActive=!1,t.isPwChangeModalLoading=!1;const e={type:"is-success",message:'Password changed for user "'+t.selectedUsername.value+'" successfully'};t.$buefy.toast.open(e)}else{t.isPwChangeModalActive=!1,t.isPwChangeModalLoading=!1;const e={type:"is-warning",message:"Password change failed!"};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/user/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"User "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"User "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)',this.loadData()}},ke=De,Se=(0,b.Z)(ke,Rt,Ot,!1,null,null,null),xe=Se.exports,Pe=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/users"}},[t._v("Users")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.userData.name.class,message:t.userData.name.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.userData.name.blur()}},model:{value:t.userData.name.value,callback:function(e){t.$set(t.userData.name,"value",e)},expression:"userData.name.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.username.class,message:t.userData.username.message}},[e("template",{slot:"label"},[t._v("Username "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.userData.username.blur()}},model:{value:t.userData.username.value,callback:function(e){t.$set(t.userData.username,"value",e)},expression:"userData.username.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.email.class,message:t.userData.email.message}},[e("template",{slot:"label"},[t._v("Email "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{input:function(e){return t.userData.email.blur()}},model:{value:t.userData.email.value,callback:function(e){t.$set(t.userData.email,"value",e)},expression:"userData.email.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.contactNo.class,message:t.userData.contactNo.message}},[e("template",{slot:"label"},[t._v("Contact No "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"10"},on:{blur:function(e){return t.userData.contactNo.blur()}},model:{value:t.userData.contactNo.value,callback:function(e){t.$set(t.userData.contactNo,"value",e)},expression:"userData.contactNo.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.userType.class,message:t.userData.userType.message}},[e("template",{slot:"label"},[t._v("User Type "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(e){return t.userData.userType.blur()}},model:{value:t.userData.userType.value,callback:function(e){t.$set(t.userData.userType,"value",e)},expression:"userData.userType.value"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select a Type")]),e("option",{key:1,attrs:{value:"BACKEND"}},[t._v("Backend User")]),e("option",{key:2,attrs:{value:"IPGBANK"}},[t._v("IPG Bank User")]),e("option",{key:3,attrs:{value:"AUDITOR"}},[t._v("Auditor")])])],2),"BACKEND"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("Branch "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Branch")]),t._l(t.branchList,(function(a){return e("option",{key:a.id,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],2):t._e(),"IPGBANK"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("IPG Banks "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Bank"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Bank")]),t._l(t.providerList,(function(a){return e("option",{key:a.id,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],2):t._e(),"AUDITOR"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("Branch "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Auditor"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{key:0,attrs:{selected:""},domProps:{value:"AUDITOR"}},[t._v("Auditor")])])],2):t._e(),e("b-field",{attrs:{horizontal:"",type:t.userData.role.class,message:t.userData.role.message}},[e("template",{slot:"label"},[t._v("Role "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Role"},on:{input:function(e){return t.onRoleSelected(t.userData.role.value)},blur:function(e){return t.userData.role.blur()}},model:{value:t.userData.role.value,callback:function(e){t.$set(t.userData.role,"value",e)},expression:"userData.role.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Role")]),t._l(t.roleListRef,(function(a){return e("option",{key:a.roleId,domProps:{value:a.roleId}},[t._v(t._s(a.roleName))])}))],2)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:""}},[e("template",{slot:"label"},[t._v("Permissions")]),e("div",{staticClass:"permissions-container"},t._l(t.permissionsListRef,(function(a){return e("div",{key:a.index,staticClass:"permission-group-wrapper"},[e("div",{staticClass:"permission-group-title"},[t._v(t._s(a.type))]),e("div",{staticClass:"permission-group-permission-list"},t._l(a.permissions,(function(a){return e("div",{key:a.index,staticClass:"field"},[e("label",{staticClass:"b-checkbox checkbox check"},[e("input",{attrs:{type:"checkbox",autocomplete:"on","true-value":"true",value:"false",disabled:""},domProps:{checked:a.checked}}),e("span",{staticClass:"check"}),e("span",{staticClass:"control-label"},[t._v(t._s(a.value))])])])})),0)])})),0)],2),e("b-field",{attrs:{horizontal:"",type:t.userData.password.class,message:t.userData.password.message}},[e("template",{slot:"label"},[t._v("Password "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",{attrs:{type:t.userData.password.class,grouped:""}},[e("b-input",{on:{blur:function(e){return t.userData.password.blur()}},model:{value:t.userData.password.value,callback:function(e){t.$set(t.userData.password,"value",e)},expression:"userData.password.value"}}),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.generatePassword}},[t._v("Generate")])]),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.copyToClipboard}},[t._v("Copy")])])],1)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.userData.disabled.value,callback:function(e){t.$set(t.userData.disabled,"value",e)},expression:"userData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.userData.disabled.value,callback:function(e){t.$set(t.userData.disabled,"value",e)},expression:"userData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},Te=[];class Ie{constructor(){(0,x.Z)(this,"index",0),(0,x.Z)(this,"type",""),(0,x.Z)(this,"userType",""),(0,x.Z)(this,"permissions",[])}}class Ae{constructor(){(0,x.Z)(this,"index",0),(0,x.Z)(this,"value",""),(0,x.Z)(this,"checked",!1)}}var Re={name:"UserCreate",data(){return{branchList:[],roleList:[],permissionsList:[],providerList:[],userData:{userType:new Ce.Y(/^\w+$/,"Please select a type"),name:new Ce.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Name can only have alphanumeric characters and should be at least 3 characters long"),username:new Ce.Y(/^\w{3,}$/,"Username can only have alphanumeric characters with '_' and should be at least 3 characters long"),email:new Ce.Y(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/,"Please enter a valid email"),contactNo:new Ce.Y(/^\d{4,32}$/,"Please enter a valid contact number"),branch:new Ce.Y(/\w+/,"Please select a branch"),role:new Ce.Y(/\w+/,"Please select a role"),password:new Ce.Y(/^(?=(.*\d){2})(?=(.*[a-z]){2})(?=(.*[A-Z]){2})(?=(.*[@$!%*?&()[\]{}\-_+=|/:;"<>]){2})$/,'Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)'),disabled:new Ce.Y},checkBoxVal:!1}},computed:{roleListRef(){const t=this,e=[];return t.roleList.forEach((function(a){a.userType===t.userData.userType.value&&e.push(a)})),e},permissionsListRef(){const t=this,e=[];return t.permissionsList.forEach((function(a){a.userType===t.userData.userType.value&&e.push(a)})),e},userTypeRef(){return this.userData.userType.value}},watch:{userTypeRef(t){const e=this;let a="";switch(t){case"BACKEND":a="a branch";break;case"EXCHANGEHOUSE":a="an exchange house";break;case"IPGBANK":a="a bank";break}e.userData.branch.blur(),e.userData.branch.value="",e.userData.role.value="",e.userData.branch.errorMessage="Please select "+a}},methods:{generatePassword:function(){const t=this;t.userData.password.blur(),t.userData.password.value=t.generateRandomPassword()},copyToClipboard:function(){const t=document.createElement("textarea");document.body.appendChild(t),t.value=this.userData.password.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),this.$buefy.toast.open({message:"Copied to Clipboard"})},initialData:function(){const t=this;q.Z.apiRequest("api/user/initial-create-data",{},(function(e){200===e.statusCode&&(t.branchList=e.data.branchList,t.bankList=e.data.bankList,t.roleList=e.data.roleList,t.providerList=e.data.providerList,e.data.permissionsList.forEach((function(e,a){const s=new Ie;s.index=a,s.type=e.type,s.userType=e.userType,e.permissions.forEach((function(t,e){const a=new Ae;a.index=e,a.value=t,s.permissions.push(a)})),t.permissionsList.push(s)})))}))},onRoleSelected:function(t){const e=this;let a=null;for(let s=0;s<e.roleList.length;s++)e.roleList[s].roleId===t&&(a=e.roleList[s]);null!==a&&e.permissionsList.forEach((function(t){t.permissions.forEach((function(t){t.checked=a.permissions.includes(t.value)}))}))},validate:function(){const t=this;let e=!0;return Object.keys(t.userData).forEach((function(a){console.log(t.userData[a].validate()),t.userData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={type:t.userData.userType.value,name:t.userData.name.value,email:t.userData.email.value,contact:t.userData.contactNo.value,username:t.userData.username.value,branch_code:t.userData.branch.value,role:t.userData.role.value,password:t.userData.password.value,disabled:t.userData.disabled.value};q.Z.apiRequest("api/user/create",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"User sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"User save failed!."};t.$buefy.toast.open(e)}}))}}},mounted(){this.userData.disabled.value=0,this.userData.password.regex=this.regex.passwordValidation,this.initialData()}},Oe=Re,Le=(0,b.Z)(Oe,Pe,Te,!1,null,"0b21c220",null),Fe=Le.exports,ze=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/users"}},[t._v("Users")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.userData.name.class,message:t.userData.name.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.userData.name.blur()}},model:{value:t.userData.name.value,callback:function(e){t.$set(t.userData.name,"value",e)},expression:"userData.name.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.username.class,message:t.userData.username.message}},[e("template",{slot:"label"},[t._v("Username "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.userData.username.blur()}},model:{value:t.userData.username.value,callback:function(e){t.$set(t.userData.username,"value",e)},expression:"userData.username.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.email.class,message:t.userData.email.message}},[e("template",{slot:"label"},[t._v("Email "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{input:function(e){return t.userData.email.blur()}},model:{value:t.userData.email.value,callback:function(e){t.$set(t.userData.email,"value",e)},expression:"userData.email.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.contactNo.class,message:t.userData.contactNo.message}},[e("template",{slot:"label"},[t._v("Contact No "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"10"},on:{blur:function(e){return t.userData.contactNo.blur()}},model:{value:t.userData.contactNo.value,callback:function(e){t.$set(t.userData.contactNo,"value",e)},expression:"userData.contactNo.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.userData.userType.class,message:t.userData.userType.message}},[e("template",{slot:"label"},[t._v("User Type "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Type"},on:{input:t.onUserTypeChange,blur:function(e){return t.userData.userType.blur()}},model:{value:t.userData.userType.value,callback:function(e){t.$set(t.userData.userType,"value",e)},expression:"userData.userType.value"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select a Type")]),e("option",{key:1,attrs:{value:"BACKEND"}},[t._v("Backend User")]),e("option",{key:2,attrs:{value:"IPGBANK"}},[t._v("IPG Bank User")]),e("option",{key:3,attrs:{value:"AUDITOR"}},[t._v("Auditor")])])],2),"BACKEND"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("Branch "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Branch")]),t._l(t.branchList,(function(a){return e("option",{key:a.id,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],2):t._e(),"IPGBANK"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("IPG Banks "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Bank"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Bank")]),t._l(t.providerList,(function(a){return e("option",{key:a.id,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],2):t._e(),"AUDITOR"===t.userData.userType.value?e("b-field",{attrs:{horizontal:"",type:t.userData.branch.class,message:t.userData.branch.message}},[e("template",{slot:"label"},[t._v("Branch "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Auditor"},on:{blur:function(e){return t.userData.branch.blur()}},model:{value:t.userData.branch.value,callback:function(e){t.$set(t.userData.branch,"value",e)},expression:"userData.branch.value"}},[e("option",{key:0,attrs:{selected:""},domProps:{value:"AUDITOR"}},[t._v("Auditor")])])],2):t._e(),e("b-field",{attrs:{horizontal:"",type:t.userData.role.class,message:t.userData.role.message}},[e("template",{slot:"label"},[t._v("Role "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Role"},on:{input:function(e){return t.onRoleSelected(t.userData.role.value)},blur:function(e){return t.userData.role.blur()}},model:{value:t.userData.role.value,callback:function(e){t.$set(t.userData.role,"value",e)},expression:"userData.role.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Role")]),t._l(t.roleListRef,(function(a){return e("option",{key:a.roleId,domProps:{value:a.roleId}},[t._v(t._s(a.roleName))])}))],2)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:""}},[e("template",{slot:"label"},[t._v("Permissions")]),e("div",{staticClass:"permissions-container"},t._l(t.permissionsListRef,(function(a){return e("div",{key:a.index,staticClass:"permission-group-wrapper"},[e("div",{staticClass:"permission-group-title"},[t._v(t._s(a.type))]),e("div",{staticClass:"permission-group-permission-list"},t._l(a.permissions,(function(a){return e("div",{key:a.index,staticClass:"field"},[e("label",{staticClass:"b-checkbox checkbox check"},[e("input",{attrs:{type:"checkbox",autocomplete:"on","true-value":"true",value:"false",disabled:""},domProps:{checked:a.checked}}),e("span",{staticClass:"check"}),e("span",{staticClass:"control-label"},[t._v(t._s(a.value))])])])})),0)])})),0)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.userData.disabled.value,callback:function(e){t.$set(t.userData.disabled,"value",e)},expression:"userData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.userData.disabled.value,callback:function(e){t.$set(t.userData.disabled,"value",e)},expression:"userData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success",disabled:!t.formChanged},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},Ue=[],Ne={name:"UserEdit",data(){return{branchList:[],bankList:[],roleList:[],initialUserData:{},formChanged:!1,permissionsList:[],providerList:[],userData:{name:new Ce.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ce.Y(/^\w+$/,"Please select a type"),username:new Ce.Y(/^\w{3,}$/,"Username can only have alphanumeric characters with '_' and should be at least 3 characters long"),email:new Ce.Y(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/,"Please enter a valid email"),contactNo:new Ce.Y(/^\d{4,32}$/,"Please enter a valid contact number"),branch:new Ce.Y(/\w+/,"Please select a branch"),role:new Ce.Y(/\w+/,"Please select a role"),disabled:new Ce.Y},checkBoxVal:!1}},computed:{roleListRef(){const t=this,e=[];return t.roleList.forEach((function(a){console.log(t.userData.userType.value),a.userType===t.userData.userType.value&&e.push(a)})),e},permissionsListRef(){const t=this,e=[];return t.permissionsList.forEach((function(a){a.userType===t.userData.userType.value&&e.push(a)})),e}},watch:{"userData.name.value":function(){this.formChanged=this.userData.name.value!==this.initialUserData.name},"userData.username.value":function(){this.formChanged=this.userData.username.value!==this.initialUserData.username},"userData.email.value":function(){this.formChanged=this.userData.email.value!==this.initialUserData.email},"userData.contactNo.value":function(){this.formChanged=this.userData.contactNo.value!==this.initialUserData.contactNo},"userData.branch.value":function(){this.formChanged=this.userData.branch.value!==this.initialUserData.branch},"userData.role.value":function(){this.formChanged=this.userData.role.value!==this.initialUserData.role},"userData.disabled.value":function(){this.formChanged=this.userData.disabled.value!==this.initialUserData.disabled}},methods:{onUserTypeChange:function(t){const e=this;let a="";switch(t){case"BACKEND":a="a branch";break;case"IPGBANK":a="a bank";break}e.userData.branch.blur(),e.userData.branch.value="",e.userData.role.value="",e.userData.branch.errorMessage="Please select "+a},initialData:function(){const t=this;q.Z.apiRequest("api/user/initial-create-data",{},(function(e){200===e.statusCode&&(t.branchList=e.data.branchList,t.bankList=e.data.bankList,t.roleList=e.data.roleList,t.providerList=e.data.providerList,e.data.permissionsList.forEach((function(e,a){const s=new Ie;s.index=a,s.type=e.type,s.userType=e.userType,e.permissions.forEach((function(t,e){const a=new Ae;a.index=e,a.value=t,s.permissions.push(a)})),t.permissionsList.push(s)})),t.getUserForEdit())}))},getUserForEdit:function(){const t=this,e={id:t.$route.params.id};q.Z.apiRequest("api/user/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.customUser;t.initialUserData={name:a.name,userType:a.user_type,username:a.username,email:a.email,contactNo:a.contact,branch:a.branch_code,role:a.role,disabled:a.disabled},console.log(e.data.customUser),t.userData.name.value=a.name,t.userData.userType.value=a.user_type,t.userData.username.value=a.username,t.userData.email.value=a.email,t.userData.contactNo.value=a.contact,t.userData.branch.value=a.branch_code,t.userData.role.value=a.role,t.userData.disabled.value=a.disabled,t.onRoleSelected(a.role)}}))},onRoleSelected:function(t){const e=this;let a=null;for(let s=0;s<e.roleList.length;s++)e.roleList[s].roleId===t&&(a=e.roleList[s]);null!==a&&e.permissionsList.forEach((function(t){t.permissions.forEach((function(t){t.checked=a.permissions.includes(t.value)}))}))},validate:function(){const t=this;let e=!0;return Object.keys(t.userData).forEach((function(a){console.log(t.userData[a].validate()),t.userData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={id:t.$route.params.id,type:t.userData.userType.value,name:t.userData.name.value,email:t.userData.email.value,contact:t.userData.contactNo.value,username:t.userData.username.value,branch_code:t.userData.branch.value,role:t.userData.role.value,disabled:t.userData.disabled.value};q.Z.apiRequest("api/user/edit",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"User sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"User edit failed!."};t.$buefy.toast.open(e)}}))}}},mounted(){this.userData.disabled.value=0,this.initialData()}},Ee=Ne,$e=(0,b.Z)(Ee,ze,Ue,!1,null,"3996968a",null),Ze=$e.exports,Ve=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Roles")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("role-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("CreateRole")}}},[t._v("Create Role")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("role-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(65),data:t.roles,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.role_name.value)+" ")]}}])}),e("b-table-column",{attrs:{field:"permissions",label:"Permissions",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-taglist",{staticStyle:{"max-width":"300px"}},t._l(a.row.permissions.value,(function(a){return e("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[t._v(t._s(a))])})),1)]}}])}),e("b-table-column",{attrs:{field:"status",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:("Active"===a.row.status.value?"is-success":"is-danger")+" is-light"}},[t._v(t._s(a.row.status.value))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at.value).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at.value).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked.value&&t.hasPermission("role-edit")?e("b-tooltip",{attrs:{label:"Edit"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("EditRole",{id:a.row.id.value})}}})],1):e("b-tooltip",{attrs:{label:"Locked"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),e("br")])},qe=[],je={name:"RoleList",components:{ChangeRequest:we},data(){return{roles:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/role/list",{},(function(e){200===e.statusCode&&(t.roles=e.data.roles,t.crData=e.data.changeRequests),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/role/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Role "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Role "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},Be=je,Me=(0,b.Z)(Be,Ve,qe,!1,null,null,null),He=Me.exports,Ye=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/roles"}},[t._v("Role")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.roleData.role_name.class,message:t.roleData.role_name.message}},[e("template",{slot:"label"},[t._v("Role Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.roleData.role_name.blur()}},model:{value:t.roleData.role_name.value,callback:function(e){t.$set(t.roleData.role_name,"value",e)},expression:"roleData.role_name.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.roleData.userType.class,message:t.roleData.userType.message}},[e("template",{slot:"label"},[t._v("User Type "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(e){return t.roleData.userType.blur()}},model:{value:t.roleData.userType.value,callback:function(e){t.$set(t.roleData.userType,"value",e)},expression:"roleData.userType.value"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select a Type")]),e("option",{key:1,attrs:{value:"BACKEND"}},[t._v("Backend User")]),e("option",{key:2,attrs:{value:"IPGBANK"}},[t._v("IPG Bank User")]),e("option",{key:3,attrs:{value:"AUDITOR"}},[t._v("Auditor")])])],2),e("b-field",{attrs:{horizontal:"",type:t.roleData.user_level.class,message:t.roleData.user_level.message}},[e("template",{slot:"label"},[t._v("User Level "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(e){return t.roleData.user_level.blur()}},model:{value:t.roleData.user_level.value,callback:function(e){t.$set(t.roleData.user_level,"value",e)},expression:"roleData.user_level.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Level")]),t._l(t.userLevels,(function(a){return e("option",{key:a.id,domProps:{value:a.level}},[t._v(t._s(a.title))])}))],2)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",type:t.roleData.permissions.class,message:t.roleData.permissions.message}},[e("template",{slot:"label"},[t._v("Permissions"),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"permissions-container"},t._l(t.permissionsListRef,(function(a){return e("div",{key:a.index,staticClass:"permission-group-wrapper"},[e("div",{staticClass:"permission-group-title"},[t._v(t._s(a.type))]),e("div",{staticClass:"permission-group-permission-list"},t._l(a.permissions,(function(a){return e("div",{key:a.index,staticClass:"field"},[e("b-field",[e("b-checkbox",{on:{input:function(e){return t.permissionChanged()}},model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"permissionItem.checked"}},[t._v(t._s(a.value))])],1)],1)})),0)])})),0)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.roleData.disabled.value,callback:function(e){t.$set(t.roleData.disabled,"value",e)},expression:"roleData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.roleData.disabled.value,callback:function(e){t.$set(t.roleData.disabled,"value",e)},expression:"roleData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},Ge=[],Ke={name:"RoleCreate",data(){return{userLevels:[],permissionsList:[],roleData:{role_name:new Ce.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Role name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ce.Y(/^\w+$/,"Please select a type"),user_level:new Ce.Y(/^[\S\s\d]+$/,"Please select a user level"),permissions:new Ce.Y(/^[\S\s\d]+$/,"Please select at least one permission"),disabled:new Ce.Y},checkBoxVal:!1}},computed:{permissionsListRef(){const t=this,e=[];return t.permissionsList.forEach((function(a){console.log(a.userType),a.userType===t.roleData.userType.value&&e.push(a)})),e}},methods:{permissionChanged:function(){const t=this;t.roleData.permissions.value="",t.permissionsList.forEach((function(e){e.permissions.forEach((function(e){e.checked&&(t.roleData.permissions.value+=(""!==t.roleData.permissions.value?"|":"")+e.value)}))}))},initialData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/role/initial-create-data",{},(function(e){200===e.statusCode&&(t.userLevels=e.data.userLevels,e.data.permissionsList.forEach((function(e,a){const s=new Ie;s.index=a,s.type=e.type,s.userType=e.userType,e.permissions.forEach((function(t,e){const a=new Ae;a.index=e,a.value=t,s.permissions.push(a)})),t.permissionsList.push(s)}))),t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;return Object.keys(t.roleData).forEach((function(a){t.roleData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=t.roleData.permissions.value.split("|");const a={role_name:t.roleData.role_name.value,user_type:t.roleData.userType.value,user_level:t.roleData.user_level.value,permissions:e,disabled:t.roleData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/role/create",a,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Role sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else if(422===e.statusCode){console.log(e);const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"Role save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.roleData.disabled.value=0,this.initialData()}},We=Ke,Je=(0,b.Z)(We,Ye,Ge,!1,null,"15990546",null),Xe=Je.exports,Qe=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/roles"}},[t._v("Role")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.roleData.role_name.class,message:t.roleData.role_name.message}},[e("template",{slot:"label"},[t._v("Role Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.roleData.role_name.blur()}},model:{value:t.roleData.role_name.value,callback:function(e){t.$set(t.roleData.role_name,"value",e)},expression:"roleData.role_name.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.roleData.userType.class,message:t.roleData.userType.message}},[e("template",{slot:"label"},[t._v("User Type "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(e){return t.roleData.userType.blur()}},model:{value:t.roleData.userType.value,callback:function(e){t.$set(t.roleData.userType,"value",e)},expression:"roleData.userType.value"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select a Type")]),e("option",{key:1,attrs:{value:"BACKEND"}},[t._v("Backend User")]),e("option",{key:2,attrs:{value:"IPGBANK"}},[t._v("IPG Bank User")]),e("option",{key:3,attrs:{value:"AUDITOR"}},[t._v("Auditor")])])],2),e("b-field",{attrs:{horizontal:"",type:t.roleData.user_level.class,message:t.roleData.user_level.message}},[e("template",{slot:"label"},[t._v("User Level "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(e){return t.roleData.user_level.blur()}},model:{value:t.roleData.user_level.value,callback:function(e){t.$set(t.roleData.user_level,"value",e)},expression:"roleData.user_level.value"}},[e("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[t._v("Select a Level")]),t._l(t.userLevels,(function(a){return e("option",{key:a.id,domProps:{value:a.level}},[t._v(t._s(a.title))])}))],2)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",type:t.roleData.permissions.class,message:t.roleData.permissions.message}},[e("template",{slot:"label"},[t._v("Permissions"),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"permissions-container"},t._l(t.permissionsListRef,(function(a){return e("div",{key:a.index,staticClass:"permission-group-wrapper"},[e("div",{staticClass:"permission-group-title"},[t._v(t._s(a.type))]),e("div",{staticClass:"permission-group-permission-list"},t._l(a.permissions,(function(a){return e("div",{key:a.index,staticClass:"field"},[e("b-field",[e("b-checkbox",{on:{input:function(e){return t.permissionChanged()}},model:{value:a.checked,callback:function(e){t.$set(a,"checked",e)},expression:"permissionItem.checked"}},[t._v(t._s(a.value))])],1)],1)})),0)])})),0)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":0},model:{value:t.roleData.disabled.value,callback:function(e){t.$set(t.roleData.disabled,"value",e)},expression:"roleData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":1,type:"is-danger"},model:{value:t.roleData.disabled.value,callback:function(e){t.$set(t.roleData.disabled,"value",e)},expression:"roleData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},ta=[],ea={name:"RoleEdit",data(){return{userLevels:[],permissionsList:[],roleData:{role_name:new Ce.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Role name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ce.Y(/^\w+$/,"Please select a type"),user_level:new Ce.Y(/^[\S\s\d]+$/,"Please select a user level"),permissions:new Ce.Y(/^[\S\s\d]+$/,"Please select at least one permission"),disabled:new Ce.Y},checkBoxVal:!1}},computed:{permissionsListRef(){const t=this,e=[];return t.permissionsList.forEach((function(a){console.log(a.userType),a.userType===t.roleData.userType.value&&e.push(a)})),e}},methods:{permissionChanged:function(){const t=this;t.roleData.permissions.value="",t.permissionsList.forEach((function(e){e.permissions.forEach((function(e){e.checked&&(t.roleData.permissions.value+=(""!==t.roleData.permissions.value?"|":"")+e.value)}))}))},getRoleForEdit:function(){const t=this,e={id:t.$route.params.id};q.Z.apiRequest("api/role/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.role;t.roleData.role_name.value=a.role_name,t.roleData.userType.value=a.user_type,t.roleData.user_level.value=a.user_level,t.roleData.disabled.value=a.disabled,a.permissions.forEach((function(e){t.roleData.permissions.value+=(""===t.roleData.permissions.value?"":"|")+e})),t.permissionsList.forEach((function(t){t.permissions.forEach((function(t){t.checked=a.permissions.includes(t.value)}))}))}t.hideFullScreenLoader()}))},initialData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/role/initial-create-data",{},(function(e){200===e.statusCode&&(t.userLevels=e.data.userLevels,e.data.permissionsList.forEach((function(e,a){const s=new Ie;s.index=a,s.type=e.type,s.userType=e.userType,e.permissions.forEach((function(t,e){const a=new Ae;a.index=e,a.value=t,s.permissions.push(a)})),t.permissionsList.push(s)})),t.getRoleForEdit())}))},validate:function(){const t=this;let e=!0;return Object.keys(t.roleData).forEach((function(a){t.roleData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=t.roleData.permissions.value.split("|");const a={id:t.$route.params.id,role_name:t.roleData.role_name.value,user_type:t.roleData.userType.value,user_level:t.roleData.user_level.value,disabled:t.roleData.disabled.value,permissions:e};q.Z.apiRequest("api/role/edit",a,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Role sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"Role edit failed!."};t.$buefy.toast.open(e)}}))}}},mounted(){this.roleData.disabled.value=0,this.initialData()}},aa=ea,sa=(0,b.Z)(aa,Qe,ta,!1,null,"cf22f0e2",null),ia=sa.exports,na=function(){var t=this,e=t._self._c;return e("section",{staticClass:"hero is-fullheight"},[e("div",{staticClass:"hero-body has-text-centered"},[e("div",{staticStyle:{width:"100%"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"}),e("div",{staticClass:"column is-two-fifths-mobile"},[e("div",{staticClass:"card"},[e("img",{staticClass:"p-4",attrs:{src:a(5738),width:"250px",alt:"logo"}}),e("div",{staticClass:"card-content"},[e("b-field",{attrs:{label:"Old Password","label-position":"on-border",type:t.oldPassword.class,message:t.oldPassword.message}},[e("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(e){return t.oldPassword.blur()}},model:{value:t.oldPassword.value,callback:function(e){t.$set(t.oldPassword,"value",e)},expression:"oldPassword.value"}})],1),e("b-field",{attrs:{label:"New Password","label-position":"on-border",type:t.newPassword.class,message:t.newPassword.message}},[e("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(e){return t.newPassword.blur()}},model:{value:t.newPassword.value,callback:function(e){t.$set(t.newPassword,"value",e)},expression:"newPassword.value"}})],1),e("b-field",{attrs:{label:"Confirm Password","label-position":"on-border",type:t.confirmPassword.class,message:t.confirmPassword.message}},[e("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(e){return t.confirmPassword.blur()}},model:{value:t.confirmPassword.value,callback:function(e){t.$set(t.confirmPassword,"value",e)},expression:"confirmPassword.value"}})],1),e("div",{staticClass:"buttons"},[e("b-button",{attrs:{type:"is-primary",loading:t.isLoading,expanded:""},on:{click:function(e){return t.resetPassword()}}},[t._v("Reset Password")])],1)],1)])]),e("div",{staticClass:"column"})])])])])},oa=[],la={name:"ResetPassword",data(){return{isLoading:!1,oldPassword:new Ce.Y,newPassword:new Ce.Y,confirmPassword:new Ce.Y}},methods:{validate:function(){const t=this;let e=!0;return t.newPassword.validate()||(e=!1),t.oldPassword.validate()||(e=!1),t.confirmPassword.validate()||(e=!1),e&&t.newPassword.value!==t.confirmPassword.value&&(t.newPassword.invalidate("Passwords does not match"),t.confirmPassword.invalidate("Passwords does not match"),e=!1),e},resetPassword:function(){const t=this;if(t.validate()){t.isLoading=!0;const e={username:t.authUser().username,old_password:t.oldPassword.value,new_password:t.newPassword.value};q.Z.apiRequest("api/user/reset-password",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Password reset successful"};t.$buefy.toast.open(e),setTimeout((function(){t.isLoading=!1,t.navigateTo("Dashboard")}),1e3)}else if(406===e.statusCode){t.isLoading=!1;const e={type:"is-warning",message:"Old password is invalid!"};t.$buefy.toast.open(e)}else{t.isLoading=!1;const e={type:"is-warning",message:"Reset password failed!"};t.$buefy.toast.open(e)}}))}}},mounted(){this.confirmPassword.regex=this.oldPassword.regex=/^[\w\W]+$/,this.confirmPassword.errorMessage="Please enter password confirmation",this.oldPassword.errorMessage="Please enter the old-password",this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)'}},ra=la,ca=(0,b.Z)(ra,na,oa,!1,null,"3854d09a",null),ua=ca.exports,da=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Notification")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("notification-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("CreateNotification")}}},[t._v("Create Notification+")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("notification-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.notifications,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"title",label:"Title",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"max-width":"200px","word-wrap":"break-word","white-space":"normal"}},[t._v(" "+t._s(a.row.title)+" ")])]}}])}),e("b-table-column",{attrs:{field:"message",label:"Message",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"max-width":"600px","word-wrap":"break-word","white-space":"normal"}},[t._v(" "+t._s(a.row.message)+" ")])]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked?e("div",{staticClass:"buttons"},[t.hasPermission("notification-edit")?e("b-tooltip",{attrs:{label:"Edit"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("EditNotification",{id:a.row.id})}}})],1):t._e()],1):e("b-tooltip",{attrs:{label:"Locked"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),e("br")])},pa=[],ma={name:"NotificationTable",components:{ChangeRequest:we},data(){return{notifications:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],isPwChangeModalActive:!1,isPwChangeModalLoading:!1,selectedUsername:"",newPassword:new Ce.Y,tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},onChangePasswordClick:function(t){this.selectedUsername=t,this.isPwChangeModalActive=!0,this.newPassword.value="",this.newPassword.blur()},generatePassword:function(){const t=this;t.newPassword.blur(),t.newPassword.value=t.generateRandomPassword()},copyToClipboard:function(){const t=this,e=document.createElement("textarea");document.body.appendChild(e),e.value=t.newPassword.value,e.select(),document.execCommand("copy"),document.body.removeChild(e),t.$buefy.toast.open({message:"Copied to Clipboard"})},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.notifications=e.data.notifications),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/Notifications/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Notification "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Notification "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)',this.loadData()}},ba=ma,va=(0,b.Z)(ba,da,pa,!1,null,null,null),fa=va.exports,ga=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/notifications"}},[t._v("Notification")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.NotificationData.title.class,message:t.NotificationData.title.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.NotificationData.title.blur()}},model:{value:t.NotificationData.title.value,callback:function(e){t.$set(t.NotificationData.title,"value",e)},expression:"NotificationData.title.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.NotificationData.message.class,message:t.NotificationData.message.message}},[e("template",{slot:"label"},[t._v("Message "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{type:"textarea",maxlength:"400",expanded:""},on:{blur:function(e){return t.NotificationData.message.blur()}},model:{value:t.NotificationData.message.value,callback:function(e){t.$set(t.NotificationData.message,"value",e)},expression:"NotificationData.message.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.NotificationData.disabled.value,callback:function(e){t.$set(t.NotificationData.disabled,"value",e)},expression:"NotificationData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.NotificationData.disabled.value,callback:function(e){t.$set(t.NotificationData.disabled,"value",e)},expression:"NotificationData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},ha=[],_a={name:"NotificationCreate",data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,marginError:15,image:null,placeholder_image:a(9691),NotificationData:{title:new Ce.Y(/^[\w\s\S]+$/),message:new Ce.Y(/^[\w\s\S]+$/),disabled:new Ce.Y},checkBoxVal:!1}},computed:{countryListRef(){const t=this;let e=[];return t.countryList.forEach((function(a){t.countryTags.includes(a)||e.push(a)})),e}},methods:{addCountryTag:function(){const t=this;t.NotificationData.countries.blur(),""!==t.selectedCountry&&t.countryTags.push(t.selectedCountry),t.selectedCountry="",t.NotificationData.countries.value="",t.countryTags.forEach((function(e,a){t.NotificationData.countries.value+=(0===a?"":"|")+e.code}))},deleteCountryTag:function(t){const e=this;let a=e.countryTags.indexOf(t);e.countryTags.splice(a,1),e.NotificationData.countries.value="",e.countryTags.forEach((function(t,a){e.NotificationData.countries.value+=(0===a?"":"|")+t.code}))},initialData:function(){const t=this;q.Z.apiRequest("api/Notifications/initial-create-data",{},(function(e){200===e.statusCode&&e.data.countries.forEach((function(e){t.countryList.push(e)}))}))},validate:function(){const t=this;let e=!0;return Object.keys(t.NotificationData).forEach((function(a){console.log(t.NotificationData[a].validate()),t.NotificationData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=[];t.countryTags.forEach((function(t){e.push(t.code)}));const a={title:t.NotificationData.title.value,message:t.NotificationData.message.value,disabled:t.NotificationData.disabled.value};q.Z.apiRequest("api/Notifications/create",a,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Notification sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"Notification save failed!."};t.$buefy.toast.open(e)}}))}}},mounted(){this.NotificationData.disabled.value=0}},ya=_a,wa=(0,b.Z)(ya,ga,ha,!1,null,"699e6b86",null),Ca=wa.exports,Da=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/notifications"}},[t._v("Notification")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.NotificationData.title.class,message:t.NotificationData.title.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.NotificationData.title.blur()}},model:{value:t.NotificationData.title.value,callback:function(e){t.$set(t.NotificationData.title,"value",e)},expression:"NotificationData.title.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.NotificationData.message.class,message:t.NotificationData.message.message}},[e("template",{slot:"label"},[t._v("Message "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{type:"textarea",maxlength:"400",expanded:""},on:{blur:function(e){return t.NotificationData.message.blur()}},model:{value:t.NotificationData.message.value,callback:function(e){t.$set(t.NotificationData.message,"value",e)},expression:"NotificationData.message.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.NotificationData.disabled.value,callback:function(e){t.$set(t.NotificationData.disabled,"value",e)},expression:"NotificationData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.NotificationData.disabled.value,callback:function(e){t.$set(t.NotificationData.disabled,"value",e)},expression:"NotificationData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},ka=[],Sa={name:"EditNotification",data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,marginError:15,image:null,placeholder_image:a(9691),NotificationData:{title:new Ce.Y(/^[\w\s\S]+$/),message:new Ce.Y(/^[\w\s\S]+$/),disabled:new Ce.Y},checkBoxVal:!1}},computed:{countryListRef(){const t=this;let e=[];return t.countryList.forEach((function(a){t.countryTags.includes(a)||e.push(a)})),e}},methods:{addCountryTag:function(){const t=this;t.NotificationData.countries.blur(),""!==t.selectedCountry&&t.countryTags.push(t.selectedCountry),t.selectedCountry="",t.NotificationData.countries.value="",t.countryTags.forEach((function(e,a){t.NotificationData.countries.value+=(0===a?"":"|")+e.code}))},deleteCountryTag:function(t){const e=this;let a=e.countryTags.indexOf(t);e.countryTags.splice(a,1),e.NotificationData.countries.value="",e.countryTags.forEach((function(t,a){e.NotificationData.countries.value+=(0===a?"":"|")+t.code}))},initialData:function(){const t=this;q.Z.apiRequest("api/advertisement/initial-create-data",{},(function(e){200===e.statusCode&&e.data.countries.forEach((function(e){t.countryList.push(e)})),t.getForEdit()}))},getForEdit:function(){const t=this,e={id:t.$route.params.id};t.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.notification;t.addId=a.id,t.NotificationData.title.value=a.title,t.NotificationData.message.value=a.message,t.NotificationData.disabled.value=a.disabled,a.countries.forEach((function(e,a){let s="";for(let i=0;i<t.countryList.length;i++)e===t.countryList[i].code&&(s=t.countryList[i]);t.countryTags.push({code:s.code,name:s.name}),t.NotificationData.countries.value+=(0===a?"":"|")+e.code}))}t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;return Object.keys(t.NotificationData).forEach((function(a){console.log(t.NotificationData[a].validate()),t.NotificationData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=[];t.countryTags.forEach((function(t){e.push(t.code)}));const a={id:t.$route.params.id,title:t.NotificationData.title.value,message:t.NotificationData.message.value,disabled:t.NotificationData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/edit",a,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Notification sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else{const e={type:"is-warning",message:"Notification save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.NotificationData.disabled.value=0,this.getForEdit()}},xa=Sa,Pa=(0,b.Z)(xa,Da,ka,!1,null,"09423f2c",null),Ta=Pa.exports,Ia=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("News Feed")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("news-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("CreateNewsFeed")}}},[t._v("Create News")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("news-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.news,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"title",label:"Title",sortable:"",width:"400"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"max-width":"200px","word-wrap":"break-word","white-space":"normal"}},[t._v(" "+t._s(a.row.title)+" ")])]}}])}),e("b-table-column",{attrs:{field:"content",label:"Content",sortable:"",width:"600"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"max-width":"600px","word-wrap":"break-word","white-space":"normal"}},[t._v(" "+t._s(a.row.content)+" ")])]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),e("b-table-column",{attrs:{field:"image",label:"Image",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"min-height":"50px"}},[e("img",{attrs:{src:t.getImageUrl(a.row.image)}})])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked?e("div",[t.hasPermission("news-edit")?e("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("EditNewsFeed",{id:a.row.id})}}})],1)],1):e("div",[t._v("-")])]):e("div",[e("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),e("br")])},Aa=[],Ra={name:"NewsFeedList",components:{ChangeRequest:we},data(){return{news:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.news=e.data.news),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/NewsFeed/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"News "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"News "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},Oa=Ra,La=(0,b.Z)(Oa,Ia,Aa,!1,null,null,null),Fa=La.exports,za=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/newsfeed"}},[t._v("News Feed")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.newsFeedData.title.class,message:t.newsFeedData.title.message}},[e("template",{slot:"label"},[t._v("Title "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.newsFeedData.title.blur()}},model:{value:t.newsFeedData.title.value,callback:function(e){t.$set(t.newsFeedData.title,"value",e)},expression:"newsFeedData.title.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.newsFeedData.content.class,message:t.newsFeedData.content.message}},[e("template",{slot:"label"},[t._v("Content "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"500",type:"textarea",expanded:""},on:{blur:function(e){return t.newsFeedData.content.blur()}},model:{value:t.newsFeedData.content.value,callback:function(e){t.$set(t.newsFeedData.content,"value",e)},expression:"newsFeedData.content.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.newsFeedData.image.class,message:t.newsFeedData.image.message}},[e("template",{slot:"label"},[t._v("Image "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{},[e("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[e("div",{staticClass:"column"},[e("image-upload-component",{attrs:{type:t.newsFeedData.image.class,index:0,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:t.placeholder_image},on:{"on-upload":t.onImageUpload},model:{value:t.newsFeedData.image.value,callback:function(e){t.$set(t.newsFeedData.image,"value",e)},expression:"newsFeedData.image.value"}})],1),e("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.newsFeedData.disabled.value,callback:function(e){t.$set(t.newsFeedData.disabled,"value",e)},expression:"newsFeedData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.newsFeedData.disabled.value,callback:function(e){t.$set(t.newsFeedData.disabled,"value",e)},expression:"newsFeedData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},Ua=[],Na=function(){var t=this,e=t._self._c;return e("div",[e("b-field",[e("div",[e("div",{staticClass:"tile is-ancestor"},[e("div",{staticClass:"tile is-parent"},[e("div",{class:"product-image-input "+t.type},[e("b-field",[e("div",{style:{"text-align":"center",height:t.imageHeight+"px",width:t.imageWidth+"px"}},[e("div",{staticClass:"is-flex is-vcentered",staticStyle:{height:"100%",width:"100%","justify-content":"center"}},[e("img",{attrs:{src:""===t.image?t.placeholder_image:t.image,alt:""}})]),e("div",{staticClass:"product-image-edit-or-delete-bg"},[e("div",{staticClass:"product-image-edit-or-delete"},[e("b-button",{attrs:{size:"is-medium","icon-right":"plus-circle-outline",type:"is-success",disabled:t.disabled},on:{click:t.selectImage}}),""!==t.image?e("b-button",{attrs:{size:"is-medium","icon-right":"minus-circle-outline",type:"is-danger",disabled:t.disabled},on:{click:t.deleteImage}}):t._e()],1)])])])],1)])])]),e("input",{ref:"imageInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{input:t.pickFile}})]),e("canvas",{ref:"imageCanvas",staticStyle:{display:"none"}})],1)},Ea=[];a(8858),a(1318),a(3228);class $a{constructor(t,e,a,s,i,n){(0,x.Z)(this,"maxHeight",0),(0,x.Z)(this,"minHeight",0),(0,x.Z)(this,"maxWidth",0),(0,x.Z)(this,"minWidth",0),(0,x.Z)(this,"maxSize",0),(0,x.Z)(this,"message","Uploaded image is not valid"),t&&(this.maxHeight=t),e&&(this.minHeight=e),a&&(this.maxWidth=a),s&&(this.minWidth=s),i&&(this.maxSize=i),n&&(this.message=n)}}var Za={name:"ImageUploadComponent",props:["value","index","placeholder_image","imageHeight","imageWidth","imageValidations","type","disabled"],emits:["on-upload"],data(){return{image:""}},methods:{pickFile(){const t=this;let e=t.$refs.imageInput,a=e.files;if(a&&a[0]){const e=new Image,s=URL.createObjectURL(a[0]),i=a[0];e.src=s,e.onload=function(){if(t.validateImage(e.height,e.width,i.size)){t.image=s;const a=t.$refs.imageCanvas;a.width=e.width,a.height=e.height;const i=a.getContext("2d"),n=new Image;n.src=s,n.onload=async function(){i.drawImage(n,0,0);let e=t.imageToBase64();t.$emit("input",e);let a={index:t.index,valid:!0,image:e};t.$emit("on-upload",a)}}else{let e={index:t.index,valid:!1,image:""};t.$emit("on-upload",e)}}}},validateImage:function(t,e,a){const s=this;let i=!0;if(console.log("size: "+a/1024),s.imageValidations){const n=s.imageValidations;if(0!==n.maxHeight&&n.maxHeight<t&&(i=!1),0!==n.maxWidth&&n.maxWidth<e&&(i=!1),0!==n.minHeight&&n.minHeight>t&&(i=!1),0!==n.minWidth&&n.minWidth>e&&(i=!1),0!==n.maxSize&&n.maxSize<a/1024&&(i=!1),!i){const t={type:"is-warning",message:n.message};s.$buefy.toast.open(t)}}return i},selectImage(){const t=this;t.$refs.imageInput.click()},deleteImage(){const t=this;t.$refs.imageInput.value="",t.image="",t.$emit("input","")},imageToBase64(){const t=this,e=t.$refs.imageCanvas;let a=e.toDataURL();return a=a.replace("data:image/png;base64,",""),a}}},Va=Za,qa=(0,b.Z)(Va,Na,Ea,!1,null,"68d4119e",null),ja=qa.exports,Ba={name:"CreateNewsFeed",components:{ImageUploadComponent:ja},data(){return{imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new $a(0,0,0,0,0),placeholder_image:a(9691),newsFeedData:{title:new Ce.Y(/^[\w\s\S]+$/),content:new Ce.Y(/^[\w\s\S]+$/),image:new Ce.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ce.Y},checkBoxVal:!1}},watch:{},methods:{onImageUpload:function(t){this.newsFeedData.image.blur(),t.valid||this.newsFeedData.image.invalidate("Uploaded image is invalid")},validate:function(){const t=this;let e=!0;return t.newsFeedData.image.value||(t.newsFeedData.image.invalidate("Please upload a image"),e=!1),Object.keys(t.newsFeedData).forEach((function(a){console.log(t.newsFeedData[a].validate()),t.newsFeedData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={title:t.newsFeedData.title.value,content:t.newsFeedData.content.value,image:t.newsFeedData.image.value,disabled:t.newsFeedData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/create",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"News Feed sent for approval"};t.$buefy.toast.open(e),t.navigateTo("NewsFeed")}else{const e={type:"is-warning",message:"News Feed save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.newsFeedData.disabled.value=0}},Ma=Ba,Ha=(0,b.Z)(Ma,za,Ua,!1,null,"80cf8288",null),Ya=Ha.exports,Ga=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/newsfeed"}},[t._v("News Feed")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.NewsFeedData.title.class,message:t.NewsFeedData.title.message}},[e("template",{slot:"label"},[t._v("Title "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.NewsFeedData.title.blur()}},model:{value:t.NewsFeedData.title.value,callback:function(e){t.$set(t.NewsFeedData.title,"value",e)},expression:"NewsFeedData.title.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.NewsFeedData.content.class,message:t.NewsFeedData.content.message}},[e("template",{slot:"label"},[t._v("Content "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{type:"textarea",maxlength:"500",expanded:""},on:{blur:function(e){return t.NewsFeedData.content.blur()}},model:{value:t.NewsFeedData.content.value,callback:function(e){t.$set(t.NewsFeedData.content,"value",e)},expression:"NewsFeedData.content.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.NewsFeedData.image.class,message:t.NewsFeedData.image.message}},[e("template",{slot:"label"},[t._v("Image "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{},[e("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[e("div",{staticClass:"column"},[e("image-upload-component",{attrs:{type:t.NewsFeedData.image.class,index:0,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:t.placeholder_image},on:{"on-upload":t.onImageUpload},model:{value:t.NewsFeedData.image.value,callback:function(e){t.$set(t.NewsFeedData.image,"value",e)},expression:"NewsFeedData.image.value"}})],1),e("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.NewsFeedData.disabled.value,callback:function(e){t.$set(t.NewsFeedData.disabled,"value",e)},expression:"NewsFeedData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.NewsFeedData.disabled.value,callback:function(e){t.$set(t.NewsFeedData.disabled,"value",e)},expression:"NewsFeedData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},Ka=[],Wa={name:"EditNotification",components:{ImageUploadComponent:ja},data(){return{imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new $a(0,0,0,0,0),placeholder_image:a(9691),newsId:0,NewsFeedData:{title:new Ce.Y(/^[\w\s\S]+$/),content:new Ce.Y(/^[\w\s\S]+$/),image:new Ce.Y(void 0,"Please select a image",void 0,!0),disabled:new Ce.Y},checkBoxVal:!1}},methods:{onImageUpload:function(t){this.bankData.logo.blur(),t.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},loadImage:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},getForEdit:function(){const t=this,e={id:t.$route.params.id};t.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.news;t.newsId=a.id,t.NewsFeedData.title.value=a.title,t.NewsFeedData.content.value=a.content,t.NewsFeedData.image.value=a.image,t.NewsFeedData.disabled.value=a.disabled,t.placeholder_image=t.loadImage(a.image)}t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;return Object.keys(t.NewsFeedData).forEach((function(a){console.log(t.NewsFeedData[a].validate()),t.NewsFeedData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={id:t.$route.params.id,title:t.NewsFeedData.title.value,content:t.NewsFeedData.content.value,image:t.NewsFeedData.image.value,disabled:t.NewsFeedData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/edit",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"News Feed sent for approval"};t.$buefy.toast.open(e),t.navigateTo("NewsFeed")}else{const e={type:"is-warning",message:"News Feed save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.NewsFeedData.disabled.value=0,this.getForEdit()}},Ja=Wa,Xa=(0,b.Z)(Ja,Ga,Ka,!1,null,"231332f0",null),Qa=Xa.exports,ts=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Banks")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("bank-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("BankCreate")}}},[t._v("Create Bank")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("bank-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.banks,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"bank_code",label:"Bank Code",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.bank_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"bank_name",label:"Bank Name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"200px"}},[t._v(t._s(a.row.bank_name))])]}}])}),e("b-table-column",{attrs:{field:"branch",label:"Image"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[e("img",{staticStyle:{height:"40px"},attrs:{src:t.getImageUrl(a.row.logo)}})])]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked?e("div",[t.hasPermission("bank-edit")?e("div",{staticClass:"b-tooltips"},[e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("BankEdit",{id:a.row.id})}}})],1)],1):e("div",[t._v("-")])]):e("div",[e("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),e("br")])},es=[],as={name:"BankList",components:{ChangeRequest:we},data(){return{banks:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:15,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/bank/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.banks=e.data.banks),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/bank/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Bank "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Bank "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},ss=as,is=(0,b.Z)(ss,ts,es,!1,null,null,null),ns=is.exports,os=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/banks"}},[t._v("Banks")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit Bank")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.bankData.bank_code.class,message:t.bankData.bank_code.message}},[e("template",{slot:"label"},[t._v("Bank Code "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:"",readonly:""},on:{blur:function(e){return t.bankData.bank_code.blur()}},model:{value:t.bankData.bank_code.value,callback:function(e){t.$set(t.bankData.bank_code,"value",e)},expression:"bankData.bank_code.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.bankData.bank_name.class,message:t.bankData.bank_name.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.bankData.bank_name.blur()}},model:{value:t.bankData.bank_name.value,callback:function(e){t.$set(t.bankData.bank_name,"value",e)},expression:"bankData.bank_name.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",type:t.bankData.logo.class,message:t.bankData.logo.message}},[e("template",{slot:"label"},[t._v("Image "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",[e("label",[t._v("(Uploading image size should be less than "+t._s(t.imageValidations.maxSize)+"KB)")]),e("image-upload-component",{attrs:{type:t.bankData.logo.class,index:0,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:t.placeholder_image},on:{"on-upload":t.onImageUpload},model:{value:t.bankData.logo.value,callback:function(e){t.$set(t.bankData.logo,"value",e)},expression:"bankData.logo.value"}})],1)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.bankData.disabled.value,callback:function(e){t.$set(t.bankData.disabled,"value",e)},expression:"bankData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.bankData.disabled.value,callback:function(e){t.$set(t.bankData.disabled,"value",e)},expression:"bankData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1),e("canvas",{ref:"bankImageCanvas",staticStyle:{display:"none"}})]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.navigateTo("Bank")}}},[t._v("Cancel")])],1)])])])])},ls=[],rs={name:"EditBank",components:{imageUploadComponent:ja},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new $a(0,0,0,0,100),placeholder_image:a(9691),bankId:0,bankData:{bank_name:new Ce.Y(/^([a-zA-Z\s&.]){3,}$/,"Name can only have alphanumeric characters with &. and should be at least 3 characters long"),bank_code:new Ce.Y(/^\w{3,}$/,"Bank Code can only have alphanumeric characters with '_' and should be at least 3 characters long"),logo:new Ce.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ce.Y},checkBoxVal:!1}},methods:{onImageUpload:function(t){this.bankData.logo.blur(),t.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},loadImage:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},getForEdit:function(){const t=this,e={id:t.$route.params.id};t.showFullScreenLoader(),q.Z.apiRequest("api/bank/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.bank;t.bankId=a.id,t.bankData.bank_name.value=a.bank_name,t.bankData.bank_code.value=a.bank_code,t.bankData.logo.value=a.logo,t.bankData.disabled.value=a.disabled,t.placeholder_image=t.loadImage(a.logo)}t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;return Object.keys(t.bankData).forEach((function(a){console.log(t.bankData[a].validate()),t.bankData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={id:t.bankId,bank_name:t.bankData.bank_name.value,bank_code:t.bankData.bank_code.value,logo:t.bankData.logo.value,disabled:t.bankData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/bank/edit",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Bank sent for approval"};t.$buefy.toast.open(e),t.navigateTo("Bank")}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"Bank save failed!"};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.getForEdit()}},cs=rs,us=(0,b.Z)(cs,os,ls,!1,null,"a32f072e",null),ds=us.exports,ps=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/banks"}},[t._v("Bank")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.bankData.bank_code.class,message:t.bankData.bank_code.message}},[e("template",{slot:"label"},[t._v("Bank Code "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.bankData.bank_code.blur()}},model:{value:t.bankData.bank_code.value,callback:function(e){t.$set(t.bankData.bank_code,"value",e)},expression:"bankData.bank_code.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.bankData.bank_name.class,message:t.bankData.bank_name.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.bankData.bank_name.blur()}},model:{value:t.bankData.bank_name.value,callback:function(e){t.$set(t.bankData.bank_name,"value",e)},expression:"bankData.bank_name.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",type:t.bankData.logo.class,message:t.bankData.logo.message,required:!0,"required-message":"Please upload a logo"}},[e("template",{slot:"label"},[t._v("Image "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",[e("label",[t._v("(Uploading image size should be less than "+t._s(t.imageValidations.maxSize)+"KB)")]),e("image-upload-component",{attrs:{type:t.bankData.logo.class,index:0,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:t.placeholder_image},on:{"on-upload":t.onImageUpload},model:{value:t.bankData.logo.value,callback:function(e){t.$set(t.bankData.logo,"value",e)},expression:"bankData.logo.value"}})],1)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.bankData.disabled.value,callback:function(e){t.$set(t.bankData.disabled,"value",e)},expression:"bankData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.bankData.disabled.value,callback:function(e){t.$set(t.bankData.disabled,"value",e)},expression:"bankData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1),e("canvas",{ref:"bankImageCanvas",staticStyle:{display:"none"}})]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.navigateTo("Bank")}}},[t._v("Cancel")])],1)])])])])},ms=[],bs={name:"CreateBank",components:{imageUploadComponent:ja},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new $a(0,0,0,0,100),placeholder_image:a(9691),imageUploaded:!1,bankId:0,bankData:{bank_name:new Ce.Y(/^([a-zA-Z\s&.]){3,}$/,"Name can only have alphanumeric characters with &. and should be at least 3 characters long"),bank_code:new Ce.Y(/^\w{3,}$/,"Bank Code can only have alphanumeric characters with '_' and should be at least 3 characters long"),logo:new Ce.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ce.Y},checkBoxVal:!1}},methods:{onImageUpload:function(t){this.bankData.logo.blur(),t.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},validate:function(){const t=this;let e=!0;return t.bankData.logo.value||(t.bankData.logo.invalidate("Please upload an image"),e=!1),Object.keys(t.bankData).forEach((function(a){console.log(t.bankData[a].validate()),t.bankData[a].validate()||(e=!1)})),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={bank_name:t.bankData.bank_name.value,bank_code:t.bankData.bank_code.value,logo:t.bankData.logo.value,disabled:t.bankData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/bank/create",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Bank sent for approval"};t.$buefy.toast.open(e),t.navigateTo("Bank")}else if(422===e.statusCode){const a={type:"is-warning",message:e.data.message};t.$buefy.toast.open(a)}else{const e={type:"is-warning",message:"Bank save failed!"};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.bankData.disabled.value=0}},vs=bs,fs=(0,b.Z)(vs,ps,ms,!1,null,"ec7913ce",null),gs=fs.exports,hs=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("App User")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"UID","label-position":"on-border"}},[e("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(e){t.searchParams.uid=t.searchParams.uid.trim()}},model:{value:t.searchParams.uid,callback:function(e){t.$set(t.searchParams,"uid",e)},expression:"searchParams.uid"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:t.searchParams.countryCode,callback:function(e){t.$set(t.searchParams,"countryCode",e)},expression:"searchParams.countryCode"}},[e("option",{attrs:{selected:""},domProps:{value:""}},[t._v("All Countries")]),t._l(t.countryList,(function(a){return e("option",{key:a.code,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Fetch Count","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Count",size:"is-small",expanded:""},model:{value:t.searchParams.fetchCount,callback:function(e){t.$set(t.searchParams,"fetchCount",e)},expression:"searchParams.fetchCount"}},[e("option",{attrs:{selected:""},domProps:{value:10}},[t._v("10")]),e("option",{domProps:{value:25}},[t._v("25")]),e("option",{domProps:{value:50}},[t._v("50")]),e("option",{domProps:{value:100}},[t._v("100")]),e("option",{domProps:{value:99999999}},[t._v("All")])])],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),t.hasPermission("app-user-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.appUsers,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"firstName",label:"First Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.firstName)+" ")]}}])}),e("b-table-column",{attrs:{field:"lastName",label:"Last Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.lastName)+" ")]}}])}),e("b-table-column",{attrs:{field:"uidType",label:"UID Type",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uidType)+" ")]}}])}),e("b-table-column",{attrs:{field:"uid",label:"UID",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid)+" ")]}}])}),e("b-table-column",{attrs:{field:"contact",label:"Contact Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.contact)+" ")]}}])}),e("b-table-column",{attrs:{field:"email",label:"Email",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.email)+" ")]}}])}),e("b-table-column",{attrs:{field:"country",label:"Country",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.country)+" ")]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:("Active"===a.row.status?"is-success":"is-danger")+" is-light"}},[t._v(t._s(a.row.status))])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Last Login At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Registered At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"images",label:"Images",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tooltip",{attrs:{label:"Images",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"image"},on:{click:function(e){return t.showUserImages(a.row)}}})],1)]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"columns"},[0===a.row.locked?e("div",{staticClass:"column is-one-fifths"},[t.hasPermission("app-user-edit")?e("div",{staticClass:"b-tooltips",staticStyle:{width:"100px"}},["Active"===a.row.status?e("b-tooltip",{attrs:{label:"Deactivate User",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"circle-off-outline"},on:{click:function(e){return t.disableUser(a.row.id,!0)}}},[t._v("Deactivate")])],1):e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Activate User",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"checkbox-marked-circle-outline"},on:{click:function(e){return t.disableUser(a.row.id,!1)}}},[t._v("Activate")])],1)],1):e("div",[t._v("-")])]):e("div",{staticClass:"column"},[e("b-tooltip",{staticStyle:{width:"100px"},attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1),0===a.row.locked?e("div",{staticClass:"column is-one-fifths"},[t.hasPermission("app-user-edit")?e("div",{staticClass:"b-tooltip",staticStyle:{width:"100px"}},[0===a.row.hold?e("b-tooltip",{attrs:{label:"Hold User",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-warning",size:"is-small"},on:{click:function(e){return t.StartAppUserHoldAction(a.row,!0)}}},[t._v("Hold")])],1):e("b-tooltip",{attrs:{label:"Unhold User",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-info",size:"is-small"},on:{click:function(e){return t.StartAppUserHoldAction(a.row,!1)}}},[t._v("Unhold")])],1)],1):e("div",[t._v("-")])]):e("div",{staticClass:"column"},[e("b-tooltip",{staticStyle:{width:"100px"},attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)])]}}])}),e("b-table-column",{attrs:{field:"reason",label:"Reason",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.user_hold_reason)+" ")]}}])})],1)],1),e("br"),e("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","close-button-aria-label":"Close","aria-modal":""},model:{value:t.isImageModalActive,callback:function(e){t.isImageModalActive=e},expression:"isImageModalActive"}},[e("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("User Images"),e("b-tag",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.selectedAppUser.uid))])],1),e("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(e){t.isImageModalActive=!1}}})]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"columns"},[e("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":"on-border"}},[e("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:t.getImageUrl(t.selectedAppUser.selfie)}})]),e("b-field",{staticClass:"column",attrs:{label:"UID Front","label-position":"on-border"}},[e("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:t.getImageUrl(t.selectedAppUser.uidFront)}})]),e("b-field",{staticClass:"column",attrs:{label:"UID Back","label-position":"on-border"}},[e("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:t.getImageUrl(t.selectedAppUser.uidBack)}})])],1)]),e("footer",{staticClass:"modal-card-foot"},[e("b-button",{attrs:{label:"Close"},on:{click:function(e){t.isImageModalActive=!1}}})],1)])])],1)},_s=[],ys=a(7092),ws=a(8914),Cs=a(3579),Ds=a.n(Cs);class ks{constructor(t){(0,x.Z)(this,"title",void 0),this.title=t}exportToXlsx(t,e,a,s,i,n,o){const l=this;let r=[[]],c=[];n.forEach((function(t){r[0].push(t.header)})),o.forEach((t=>{let e={};n.forEach((a=>{e[a.dataKey]=t[a.dataKey]})),c.push(e)})),console.log(o),console.log(c);const u=ys.P6.book_new(),d=ys.P6.json_to_sheet([]);d["A1"]={t:"s",v:l.title,s:{font:{sz:24,bold:!0,underline:!1,color:{rgb:"000000"}},alignment:{horizontal:"left",vertical:"center",wrap_text:!0}}},d["A4"]={t:"s",v:"On "+t+" by "+e},d["A6"]={t:"s",v:"Duration"},d["B6"]={t:"s",v:a+" to "+s},d["!merges"]||(d["!merges"]=[]),d["!merges"].push({s:{c:0,r:0},e:{c:26,r:2}}),d["!merges"].push({s:{c:0,r:3},e:{c:26,r:3}}),d["!merges"].push({s:{c:0,r:4},e:{c:26,r:4}}),d["!merges"].push({s:{c:1,r:5},e:{c:26,r:5}}),d["!merges"].push({s:{c:1,r:6},e:{c:26,r:6}}),d["!merges"].push({s:{c:1,r:7},e:{c:26,r:7}}),d["!merges"].push({s:{c:1,r:8},e:{c:26,r:8}}),d["!cols"]=[{wch:10},{wch:15},{wch:10},{wch:20},{wch:15}],ys.P6.sheet_add_aoa(d,r,{origin:"A10"}),ys.P6.sheet_add_json(d,c,{origin:"A11",skipHeader:!0}),ys.P6.book_append_sheet(u,d,"Sheet1"),ys.NC(u,i+".xlsx")}exportToPDF(t,e,a,s,i,n,o){const l=this,r=new ws.jsPDF("l","mm","a1");r.setFontSize(22),r.text(l.title,30,30),r.setTextColor(20),r.setFontSize(10),r.text("On "+t+" by "+e,30,42),r.setTextColor(0),r.setFontSize(12),r.text("Duration   :  "+a+" to "+s,30,60),r.setFontSize(11),r.setTextColor(100);let c=[],u={};for(const d of n)c.push({header:d.header,dataKey:d.dataKey}),"DOUBLE"===d.type&&(u[d.dataKey]={halign:"right"});Ds()(r,{columnStyles:u,body:o,columns:c,startY:100}),r.setProperties({title:l.title,subject:l.title}),r.save(i+".pdf")}}var Ss={name:"AppUserList",components:{ChangeRequest:we},data(){return{isImageModalActive:!1,filterChanged:!1,crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],countryList:[],searchParams:{uid:"",countryCode:"",fetchCount:10},appUsers:[],selectedAppUser:{},tableHeaders:[],exportWizard:new ks("App Users"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},watch:{searchParams:{handler(){this.filterChanged=!0},deep:!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,new Date,new Date,"appUsers_"+t.formatDate(new Date),t.tableHeaders,t.appUsers)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,new Date,new Date,"appUsers_"+t.formatDate(new Date),t.tableHeaders,t.appUsers)},showUserImages(t){console.log(t),this.selectedAppUser={},this.selectedAppUser=t,this.isImageModalActive=!0},loadData:function(){const t=this;q.Z.apiRequest("api/appUser/list",t.searchParams,(function(e){200===e.statusCode&&(t.appUsers=e.data.appUsers,t.countryList=e.data.countries,t.crData=e.data.changeRequests,t.tableHeaders=e.data.fields,t.filterChanged=!1),t.hideFullScreenLoader()}))},disableUser:function(t,e){const a=this;a.showFullScreenLoader();const s={id:t,disable:e};q.Z.apiRequest("api/appUser/disable",s,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"App user sent for approval"};a.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"App user disable failed"};a.$buefy.toast.open(t)}a.loadData(),a.hideFullScreenLoader()}))},holdAppUser:function(t,e,a){const s=this;s.showFullScreenLoader();const i={id:t,hold:a,description:e};q.Z.apiRequest("api/appUser/hold",i,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"App user sent for approval"};s.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"App user hold failed"};s.$buefy.toast.open(t)}s.loadData(),s.hideFullScreenLoader()}))},canHold:function(t){return"SUCCESS"!==t.ipg_void_status&&"SUCCESS"!==t.ipg_refund_status&&"SUCCESS"!==t.ceft_payment_status&&"SUCCESS"===t.card_payment_status&&this.hasPermission("transaction-hold")&&t.ceft_try_count<100},StartAppUserHoldAction:function(t,e){const a=this;a.hasRatesUpdated?a.GenerateReport():a.$buefy.dialog.prompt({type:"is-danger",title:"Hold/Unhold App User",message:"Confirming this action will hold/unhold the App User (User ID - "+t.id+").<br>Please provide a comment to proceed:",inputAttrs:{required:!0,placeholder:"Enter hold/unhold comment"},onConfirm:s=>{s?a.holdAppUser(t.id,s,e):a.$buefy.toast.open({message:"Hold/Unhold comment is required.",type:"is-danger",position:"is-top",duration:5e3})}})},StartFundTransferAction:function(t){const e=this;e.hasRatesUpdated?e.GenerateReport():e.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will start a manual fund transferring for this transaction (Tran ID - "+t.id+"). <br>If you not sure funds are availabe, please do not take this action. <br>Are you sure to take this action?",onConfirm:()=>e.manualFundTransfer(t)})},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/appUser/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"App user "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"App user "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},xs=Ss,Ps=(0,b.Z)(xs,hs,_s,!1,null,null,null),Ts=Ps.exports,Is=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("App Versions")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("app-version-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("AppVersionCreate")}}},[t._v("Create App Version")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("app-version-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(65),data:t.appVersions,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"appVersion_code",label:"Version",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.version)+" ")]}}])}),e("b-table-column",{attrs:{field:"platforms",label:"Platforms",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-taglist",t._l(a.row.platforms,(function(a){return e("b-tag",{key:a.id,attrs:{type:"is-primary"}},[t._v(t._s(a))])})),1)]}}])}),e("b-table-column",{attrs:{field:"force_update",label:"Force Update",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.force_update?"":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.force_update?"No":"Yes"))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])})],1)],1),e("br")])},As=[],Rs={name:"AppVersionList",components:{ChangeRequest:we},data(){return{appVersions:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:15,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/AppVersion/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.appVersions=e.data.list),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/AppVersion/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"AppVersion "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"AppVersion "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},Os=Rs,Ls=(0,b.Z)(Os,Is,As,!1,null,null,null),Fs=Ls.exports,zs=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/appVersions"}},[t._v("App Version")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("app-version-input",{attrs:{type:t.versionData.version.class,message:t.versionData.version.message,header:"Version"},on:{"on-blur":function(e){return t.versionData.version.blur()}},model:{value:t.versionData.version.value,callback:function(e){t.$set(t.versionData.version,"value",e)},expression:"versionData.version.value"}}),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:"",type:t.versionData.platforms.class,message:t.versionData.platforms.message}},[e("template",{slot:"label"},[t._v("Platforms "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",[e("b-checkbox-button",{attrs:{"native-value":"ANDROID",type:"is-success"},on:{input:function(e){return t.versionData.platforms.blur()}},model:{value:t.versionData.platforms.value,callback:function(e){t.$set(t.versionData.platforms,"value",e)},expression:"versionData.platforms.value"}},[e("b-icon",{attrs:{icon:"android"}}),e("span",[t._v("Android")])],1),e("b-checkbox-button",{attrs:{"native-value":"IOS",type:"is-info"},on:{input:function(e){return t.versionData.platforms.blur()}},model:{value:t.versionData.platforms.value,callback:function(e){t.$set(t.versionData.platforms,"value",e)},expression:"versionData.platforms.value"}},[e("b-icon",{attrs:{icon:"apple-ios"}}),e("span",[t._v("IOS")])],1),e("b-checkbox-button",{attrs:{"native-value":"HUAWEI",type:"is-danger"},on:{input:function(e){return t.versionData.platforms.blur()}},model:{value:t.versionData.platforms.value,callback:function(e){t.$set(t.versionData.platforms,"value",e)},expression:"versionData.platforms.value"}},[e("b-icon",{attrs:{icon:"check"}}),e("span",[t._v("Huawei")])],1)],1)],2),e("b-field",{attrs:{horizontal:""}},[e("div",{staticClass:"block"})]),e("b-field",{attrs:{horizontal:""}},[e("template",{slot:"label"},[t._v("Force Update "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-switch",{attrs:{"true-value":1,"false-value":0},model:{value:t.versionData.force_update.value,callback:function(e){t.$set(t.versionData.force_update,"value",e)},expression:"versionData.force_update.value"}},[e("span",{class:1===t.versionData.force_update.value?"has-text-danger":"has-text-success",staticStyle:{"font-weight":"bold"}},[t._v(t._s(1===t.versionData.force_update.value?"Yes":"No"))])])],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.navigateTo("AppVersion")}}},[t._v("Cancel")])],1)])])])])},Us=[],Ns=function(){var t=this,e=t._self._c;return e("b-field",{attrs:{horizontal:"",grouped:""}},[e("template",{slot:"label"},[t._v(t._s(t.header)+" "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",{attrs:{type:t.versionData.major.class,message:t.versionData.major.message}},[e("b-input",{ref:"major",attrs:{placeholder:"major",maxlength:"4"},on:{input:function(e){return t.onInput(t.versionData.major.value,null)},blur:function(e){return t.onBlur("major")}},nativeOn:{keydown:function(e){return t.onKeyDown.apply(null,arguments)}},model:{value:t.versionData.major.value,callback:function(e){t.$set(t.versionData.major,"value",e)},expression:"versionData.major.value"}})],1),e("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[t._v(".")]),e("b-field",{attrs:{type:t.versionData.minor.class,message:t.versionData.minor.message}},[e("b-input",{ref:"minor",attrs:{placeholder:"minor",maxlength:"4"},on:{input:function(e){return t.onInput(t.versionData.minor.value,"major")},blur:function(e){return t.onBlur("minor")}},nativeOn:{keydown:function(e){return t.onKeyDown.apply(null,arguments)}},model:{value:t.versionData.minor.value,callback:function(e){t.$set(t.versionData.minor,"value",e)},expression:"versionData.minor.value"}})],1),e("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[t._v(".")]),e("b-field",{attrs:{type:t.versionData.patch.class,message:t.versionData.patch.message}},[e("b-input",{ref:"patch",attrs:{placeholder:"patch",maxlength:"4"},on:{input:function(e){return t.onInput(t.versionData.patch.value,"minor")},blur:function(e){return t.onBlur("patch")}},nativeOn:{keydown:function(e){return t.onKeyDown.apply(null,arguments)}},model:{value:t.versionData.patch.value,callback:function(e){t.$set(t.versionData.patch,"value",e)},expression:"versionData.patch.value"}})],1),e("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[t._v("+")]),e("b-field",{attrs:{type:t.versionData.build.class,message:t.versionData.build.message}},[e("b-input",{ref:"build",attrs:{placeholder:"build",maxlength:"4"},on:{input:function(e){return t.onInput(t.versionData.build.value,"patch")},blur:function(e){return t.onBlur("build")}},nativeOn:{keydown:function(e){return t.onKeyDown.apply(null,arguments)}},model:{value:t.versionData.build.value,callback:function(e){t.$set(t.versionData.build,"value",e)},expression:"versionData.build.value"}})],1)],2)},Es=[],$s={name:"AppVersionInput",props:["message","type","header"],emits:["on-blur"],data(){return{versionData:{major:new Ce.Y(/\d/,"Please enter a value"),minor:new Ce.Y(/\d/,"Please enter a value"),patch:new Ce.Y(/\d/,"Please enter a value"),build:new Ce.Y(/\d/,"Please enter a value")},version:"",numRegex:/\d/}},watch:{versionData:{handler(){const t=this;t.version=t.versionData.major.value+"."+t.versionData.minor.value+"."+t.versionData.patch.value+"+"+t.versionData.build.value,t.$emit("input",t.version)},deep:!0},type(t){const e=this;"is-danger"===t&&e.validate()}},methods:{validate:function(){const t=this;let e=!0;return Object.keys(t.versionData).forEach((function(a){console.log(t.versionData[a].validate()),t.versionData[a].validate()||(e=!1)})),e},onBlur(t){this.versionData[t].blur(),this.$emit("on-blur")},onInput:function(t,e){const a=this;""===t&&null!==e&&a.$refs[e].focus()},onKeyDown:function(t){const e=this;"Backspace"!==t.key&&"Tab"!==t.key&&(e.numRegex.test(t.key)||t.preventDefault())}},mounted(){}},Zs=$s,Vs=(0,b.Z)(Zs,Ns,Es,!1,null,"4cd65743",null),qs=Vs.exports,js={name:"CreateAppVersion",components:{AppVersionInput:qs},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,placeholder_image:a(9691),versionId:0,platforms:{android:!1,ios:!1,huawei:!1},versionData:{version:new Ce.Y(/^\d+.\d+.\d+\+\d+$/),platforms:new Ce.Y(/^[\w,]+$/,"Please select at least one platform",[],!0),force_update:new Ce.Y(/^\d$/,"",0,!0)},checkBoxVal:!1}},watch:{platforms:{handler(){this.versionData.platforms.value="",this.versionData.platforms.value+=this.platforms.ios?"IOS,":"",this.versionData.platforms.value+=this.platforms.android?"ANDROID,":"",this.versionData.platforms.value+=this.platforms.huawei?"HUAWEI,":""},deep:!0}},methods:{validate:function(){const t=this;let e=!0;return Object.keys(t.versionData).forEach((function(a){console.log(t.versionData[a].validate()),t.versionData[a].validate()||(e=!1)})),0===t.versionData.platforms.value.length&&(e=!1,t.versionData.platforms.invalidate()),e},validateAndSubmit:function(){const t=this;if(t.validate()){const e={appVersion:t.versionData.version.value,platforms:t.versionData.platforms.value,forceUpdate:t.versionData.force_update.value};t.showFullScreenLoader(),q.Z.apiRequest("api/AppVersion/create",e,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"AppVersion sent for approval"};t.$buefy.toast.open(e),t.navigateTo("AppVersion")}else{const e={type:"is-warning",message:"AppVersion save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.versionData.force_update.value=0,this.versionData.platforms.value=[]}},Bs=js,Ms=(0,b.Z)(Bs,zs,Us,!1,null,"b67c2430",null),Hs=Ms.exports,Ys=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("IPG Providers")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("ipg-provider-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(55),data:t.ipgProviders,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"provider_bank_code",label:"Provider Bank Code",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.provider_bank_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"provider_bank_code",label:"Provider Bank Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"200px"}},[t._v(t._s(a.row.provider_bank_name))])]}}])}),e("b-table-column",{attrs:{field:"provider_logo",label:"Provider Bank Logo"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{height:"50px"}},[e("img",{attrs:{src:t.getImageUrl(a.row.provider_logo)}})])]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"currency",label:"Currencies",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[t.hasPermission("ipg-provider-currency-view")?e("b-tooltip",{attrs:{label:"Currencies",position:"is-left",type:"is-dark"}},[e("b-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"is-primary",size:"is-small","icon-left":"cash-multiple"},on:{click:function(e){return t.navigateTo("IPGProviderCurrency2",{id:a.row.provider_bank_code})}}})],1):t._e()]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked?e("div",[t.hasPermission("ipg-provider-edit")?e("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[0===a.row.disabled?e("b-tooltip",{attrs:{label:"Deactivate Provider",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"circle-off-outline"},on:{click:function(e){return t.disableProvider(a.row.id,!0)}}},[t._v("Deactivate")])],1):e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Activate User",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"checkbox-marked-circle-outline"},on:{click:function(e){return t.disableProvider(a.row.id,!1)}}},[t._v("Activate")])],1)],1):t._e()]):e("div",[e("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),e("br")])},Gs=[],Ks={name:"IPGProviderList",components:{ChangeRequest:we},data(){return{ipgProviders:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.ipgProviders=e.data.providers),t.hideFullScreenLoader()}))},disableProvider:function(t,e){const a=this;a.showFullScreenLoader();const s={id:t,disable:e};q.Z.apiRequest("api/IPGProvider/disable",s,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"IPG Provider sent for approval"};a.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"IPG Provider disable failed"};a.$buefy.toast.open(t)}a.loadData(),a.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/IPGProvider/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"IPG Provider "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"IPG Provider "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},Ws=Ks,Js=(0,b.Z)(Ws,Ys,Gs,!1,null,null,null),Xs=Js.exports,Qs=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v(" IPG Provider Currencies ")]),t.provider.locked?e("b-tooltip",{attrs:{label:"Locked",position:"is-right",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1):t._e(),t.hasRatesUpdated?t._e():e("b-tooltip",{attrs:{label:"Please update rates",position:"is-right",type:"is-dark"}},[e("b-icon",{attrs:{icon:"alert-circle",type:"is-danger",size:"is-medium"}})],1)],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t.hasPermission("ipg-currency-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading,"custom-change-request":"providerCurrency"},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("section",{staticClass:"columns"},[e("b-field",{staticClass:"column is-one-quarter",attrs:{grouped:""}},[e("template",{slot:"label"},[t._v("Provider Bank Code ")]),e("b-field",[e("b-input",{attrs:{value:t.provider.provider_bank_code,readonly:""}})],1)],2),e("b-field",{staticClass:"column is-one-quarter",attrs:{grouped:""}},[e("template",{slot:"label"},[t._v("Provider Bank Name ")]),e("b-field",[e("b-input",{attrs:{value:t.provider.provider_bank_name,readonly:""}})],1)],2)],1),e("section",{staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("Provider Currencies")]),t._l(t.providerCurrencies,(function(a){return e("div",{key:a.id},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-one-fifth"},[e("b-field",[e("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[t._v(t._s(a.currency_code))])],1)],1),e("div",{staticClass:"column"},[e("currency-input",{attrs:{label:"Transaction Rate","max-length":10,decimals:4,"label-position":t.labelPosition,type:a.transaction_rate.class,message:a.transaction_rate.message,disabled:!t.editEnabled},on:{"on-blur":function(t){return a.transaction_rate.blur()}},model:{value:a.transaction_rate.value,callback:function(e){t.$set(a.transaction_rate,"value",e)},expression:"currency.transaction_rate.value"}})],1),e("div",{staticClass:"column"},[e("currency-input",{attrs:{label:"Settlement Rate","max-length":10,decimals:4,"label-position":t.labelPosition,type:a.settlement_rate.class,message:a.settlement_rate.message,disabled:!t.editEnabled},on:{"on-blur":function(t){return a.settlement_rate.blur()}},model:{value:a.settlement_rate.value,callback:function(e){t.$set(a.settlement_rate,"value",e)},expression:"currency.settlement_rate.value"}})],1),e("div",{staticClass:"column is-one-fifth"},[e("b-field",[e("b-switch",{attrs:{type:"is-success",disabled:!t.editEnabled},model:{value:a.is_active,callback:function(e){t.$set(a,"is_active",e)},expression:"currency.is_active"}},[t._v(" "+t._s(a.is_active?"Active":"Inactive")+" ")])],1)],1)])])}))],2)])])],1),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"}),e("div",{staticClass:"column"},[1!==t.provider.locked&&t.hasPermission("ipg-currency-edit")?e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t.editEnabled?e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]):t._e(),t.editEnabled?t._e():e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){t.editEnabled=!0}}},[t._v("Enable Edit")]),t.editEnabled?e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){t.editEnabled=!1}}},[t._v("Disable Edit")]):t._e()],1):t._e()])])])])},ti=[],ei=function(){var t=this,e=t._self._c;return e("b-field",{attrs:{label:t.label,"label-position":t.labelPosition,type:t.type,message:t.message}},[e("b-input",{attrs:{maxlength:t.maxLength,value:t.inputValue,disabled:t.disabled},on:{blur:function(e){return t.$emit("on-blur")}},nativeOn:{keydown:function(e){return t.onKeyDown.apply(null,arguments)}}})],1)},ai=[],si={name:"CurrencyInput",props:["value","label","labelPosition","type","message","disabled","decimals","maxLength"],emits:["on-blur"],data(){return{inputValue:0,newValue:"0",numRegex:/\d/}},watch:{inputValue(){this.$emit("input",this.inputValue)}},methods:{onKeyDown:function(t){const e=this;if(t.preventDefault(),"Backspace"!==t.key){if(e.numRegex.test(t.key)){const a=10**e.decimals;e.newValue+=t.key;let s=1*e.newValue/a,i=s.toFixed(e.decimals);e.inputValue=e.numberWithCommas(i)}}else{e.newValue="0";let t=1*e.newValue,a=t.toFixed(e.decimals);e.inputValue=e.numberWithCommas(a)}},numberWithCommas:function(t){let e=t.toString().split("."),a=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return a+"."+e[1]}},mounted(){this.inputValue=this.value,this.newValue=this.value+""}},ii=si,ni=(0,b.Z)(ii,ei,ai,!1,null,"33479abd",null),oi=ni.exports;class li{constructor(){(0,x.Z)(this,"id",0),(0,x.Z)(this,"currency_code",""),(0,x.Z)(this,"transaction_rate",new Ce.Y),(0,x.Z)(this,"settlement_rate",new Ce.Y),(0,x.Z)(this,"is_active",!0)}}var ri={name:"IPGProviderCurrencyList",components:{CurrencyInput:oi,ChangeRequest:we},data(){return{labelPosition:"on-border",editEnabled:!1,hasRatesUpdated:!0,crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],minValue:1e-4,maxValue:9999999999,provider:{provider_bank_code:"",provider_bank_name:""},providerCurrencies:[],provider_bank_code:""}},computed:{},watch:{},methods:{loadData:function(){const t=this;t.providerCurrencies=[],t.isSuperAdmin()?t.provider_bank_code=t.$route.params.id:t.provider_bank_code=t.authUser().branch;const e={provider_bank_code:t.provider_bank_code};t.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/currency/list",e,(function(e){200===e.statusCode&&(e.data.currencies.forEach((function(e){let a=new li;a.id=e.id,a.currency_code=e.currency_code,a.transaction_rate.value=e.transaction_rate,a.settlement_rate.value=e.settlement_rate,a.is_active=0===e.disabled,t.providerCurrencies.push(a)})),t.provider=e.data.provider,t.crData=e.data.changeRequests,t.hasRatesUpdated=e.data.hasRatesUpdated,t.hasRatesUpdated||t.$buefy.dialog.alert({title:"Acknowledgement",message:"Today's <b>Currency Rates</b> has not been updated yet!.",type:"is-danger",hasIcon:!0})),t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;return t.providerCurrencies.forEach((function(a){e=a.transaction_rate.validate(),e=a.settlement_rate.validate(),e&&((a.transaction_rate.value<t.minValue||a.transaction_rate.value>t.maxValue)&&(e=!1,a.transaction_rate.invalidate("value must be greater than "+t.minValue+" and less than "+t.maxValue)),(a.settlement_rate.value<0||a.settlement_rate.value>t.maxValue)&&(e=!1,a.transaction_rate.invalidate("value must be greater than 0.0 and less than "+t.maxValue)))})),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=[];t.providerCurrencies.forEach((function(t){let a={disabled:t.is_active?0:1,provider_bank_code:t.provider_bank_code,currency_code:t.currency_code,transaction_rate:t.transaction_rate.value,settlement_rate:t.settlement_rate.value};e.push(a)}));let a={provider_bank_code:t.provider_bank_code,currencies:e};t.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/currency/save",a,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"IPG provider currencies saved"};t.$buefy.toast.open(e),t.editEnabled=!1,t.loadData()}else{const e={type:"is-warning",message:"IPG provider currencies save Failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}},approve_or_reject:function(t){const e=this;e.crIsLoading=!0,q.Z.apiRequest("api/IPGProvider/currency/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"IPG Provider Currency "+t.actionTaken+" successfully"};e.$buefy.toast.open(a)}else{const a={type:"is-warning",message:"IPG Provider Currency "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}location.reload(),e.crIsLoading=!1}))}},mounted(){const t=this;t.loadData()}},ci=ri,ui=(0,b.Z)(ci,Qs,ti,!1,null,null,null),di=ui.exports,pi=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Advertisements")])],1)],1),e("div",{staticClass:"column"},[t.hasPermission("advertisement-create")?e("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(e){return t.navigateTo("CreateAdvertisement")}}},[t._v("Create Advertisement")]):t._e()],1)])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t.hasPermission("advertisement-approve")?e("change-request",{attrs:{data:t.crData,"filter-out":t.filterOutFromCR,"is-loading":t.crIsLoading},on:{"approve-or-reject":t.approve_or_reject}}):t._e(),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.advertisements,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"title",label:"Title",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"200px"}},[t._v(t._s(a.row.title))])]}}])}),e("b-table-column",{attrs:{field:"countries",label:"Countries",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-taglist",t._l(a.row.countries,(function(a){return e("b-tag",{key:a.id,attrs:{type:"is-primary"}},[t._v(t._s(a))])})),1)]}}])}),e("b-table-column",{attrs:{field:"valid_from",label:"Valid From",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(t._s(new Date(a.row.valid_from).toLocaleString()))])]}}])}),e("b-table-column",{attrs:{field:"valid_to",label:"Valid To",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(t._s(new Date(a.row.valid_to).toLocaleString()))])]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[t._v(t._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[0===a.row.locked?e("div",[t.hasPermission("advertisement-edit")?e("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(e){return t.navigateTo("EditAdvertisement",{id:a.row.id})}}})],1)],1):e("div",[t._v("-")])]):e("div",[e("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[e("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),e("br")])},mi=[],bi={name:"AdvertisementList",components:{ChangeRequest:we},data(){return{advertisements:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/list",{},(function(e){200===e.statusCode&&(t.crData=e.data.changeRequests,t.advertisements=e.data.advertisements),t.hideFullScreenLoader()}))},approve_or_reject:function(t){const e=this;this.crIsLoading=!0,q.Z.apiRequest("api/Advertisement/approve",t,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Advertisement "+t.actionTaken+" successfully"};e.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Advertisement "+t.actionTaken+" failed!"};e.$buefy.toast.open(a)}e.crIsLoading=!1}))}},mounted(){this.loadData()}},vi=bi,fi=(0,b.Z)(vi,pi,mi,!1,null,null,null),gi=fi.exports,hi=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/advertisements"}},[t._v("Advertisement")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Create")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.advertisementData.title.class,message:t.advertisementData.title.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.advertisementData.title.blur()}},model:{value:t.advertisementData.title.value,callback:function(e){t.$set(t.advertisementData.title,"value",e)},expression:"advertisementData.title.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("template",{slot:"label"},[t._v("Countries "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",{attrs:{type:t.advertisementData.countries.class,message:t.advertisementData.countries.message}},[e("b-select",{attrs:{placeholder:"Currency"},model:{value:t.selectedCountry,callback:function(e){t.selectedCountry=e},expression:"selectedCountry"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Country")]),t._l(t.countryListRef,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.name))])}))],2),e("p",{staticClass:"control"},[e("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(e){return t.addCountryTag()}}})],1)],1),e("div",t._l(t.countryTags,(function(a){return e("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[e("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(e){return t.deleteCountryTag(a)}}},[t._v(" "+t._s(a.code)+" ")])],1)})),1)],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.valid_from.class,message:t.advertisementData.valid_from.message}},[e("template",{slot:"label"},[t._v("Valid From "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-datepicker",{attrs:{"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.advertisementData.valid_from.value,callback:function(e){t.$set(t.advertisementData.valid_from,"value",e)},expression:"advertisementData.valid_from.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.valid_to.class,message:t.advertisementData.valid_to.message}},[e("template",{slot:"label"},[t._v("Valid To "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-datepicker",{attrs:{"min-date":t.advertisementData.valid_from.value,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},model:{value:t.advertisementData.valid_to.value,callback:function(e){t.$set(t.advertisementData.valid_to,"value",e)},expression:"advertisementData.valid_to.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.images.class,message:t.advertisementData.images.message}},[e("template",{slot:"label"},[t._v("Images "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{},[e("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t._l(t.images,(function(a,s){return e("div",{key:a.id,staticClass:"column"},[e("image-upload-component",{attrs:{index:s,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:t.placeholder_image},on:{"on-upload":t.onImageUpload},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"img.value"}}),e("br"),e("b-field",{attrs:{type:a.link.class,message:a.link.message,label:"Advertisement Link","label-position":"on-border"}},[e("b-input",{attrs:{placeholder:"Advertisement link",maxlength:"512",expanded:""},on:{blur:function(t){return a.link.blur()}},model:{value:a.link.value,callback:function(e){t.$set(a.link,"value",e)},expression:"img.link.value"}})],1)],1)})),e("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})],2)])],2),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.advertisementData.disabled.value,callback:function(e){t.$set(t.advertisementData.disabled,"value",e)},expression:"advertisementData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.advertisementData.disabled.value,callback:function(e){t.$set(t.advertisementData.disabled,"value",e)},expression:"advertisementData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success",disabled:!t.isImageSelected},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},_i=[];class yi{constructor(){(0,x.Z)(this,"value",void 0),(0,x.Z)(this,"image",void 0),(0,x.Z)(this,"link",void 0),(0,x.Z)(this,"originalImage",void 0),(0,x.Z)(this,"isOriginal",void 0),this.value="",this.image="",this.link=new Ce.Y(/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?)((?:\/[+~%/.\w-_]*)?\??#?)?)$/,"Please enter a valid URL"),this.originalImage="",this.isOriginal=!1}}var wi={name:"CreateAdvertisement",components:{ImageUploadComponent:ja},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,imageValidations:new $a(0,0,0,0,0),placeholder_image:a(9691),images:[new yi,new yi,new yi,new yi,new yi],advertisementData:{title:new Ce.Y(/^\w+[\w\s]+$/),countries:new Ce.Y(void 0,"Please select at least one country"),valid_from:new Ce.Y(void 0,void 0,new Date,!0),valid_to:new Ce.Y(void 0,void 0,new Date,!0),images:new Ce.Y(void 0,"Please select at least one image",void 0,!0),disabled:new Ce.Y},checkBoxVal:!1}},computed:{isImageSelected(){return this.images.some((t=>""!==t.value))},countryListRef(){const t=this;let e=[];return t.countryList.forEach((function(a){t.countryTags.includes(a)||e.push(a)})),e}},watch:{},methods:{onImageUpload:function(t){const e=this;e.advertisementData.images.blur(),console.log(t)},addCountryTag:function(){const t=this;t.advertisementData.countries.blur(),""!==t.selectedCountry&&t.countryTags.push(t.selectedCountry),t.selectedCountry="",t.advertisementData.countries.value="",t.countryTags.forEach((function(e,a){t.advertisementData.countries.value+=(0===a?"":"|")+e.code}))},deleteCountryTag:function(t){const e=this;let a=e.countryTags.indexOf(t);e.countryTags.splice(a,1),e.advertisementData.countries.value="",e.countryTags.forEach((function(t,a){e.advertisementData.countries.value+=(0===a?"":"|")+t.code}))},onFromDateChange:function(){const t=this;t.advertisementData.valid_to.value.getTime()<t.advertisementData.valid_from.value.getTime()&&(t.advertisementData.valid_to.value=t.advertisementData.valid_from.value)},initialData:function(){const t=this;q.Z.apiRequest("api/Advertisement/initial-create-data",{},(function(e){200===e.statusCode&&e.data.countries.forEach((function(e){t.countryList.push(e)}))}))},validate:function(){const t=this;let e=!0;Object.keys(t.advertisementData).forEach((function(a){console.log(t.advertisementData[a].validate()),t.advertisementData[a].validate()||(e=!1)}));let a=0;return t.images.forEach((function(t){t.value?(""===t.value&&a++,t.link.validate()||(e=!1)):a++})),a===t.images.length&&t.advertisementData.images.invalidate(),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=[],a=[];t.countryTags.forEach((function(t){e.push(t.code)})),t.images.forEach((function(t){if(""!==t.value){let e={image:t.value,link:t.link.value};a.push(e)}}));let s=t.formatDate(t.advertisementData.valid_from.value),i=t.formatDate(t.advertisementData.valid_to.value);s=s.split(" ")[0]+"T00:00:01",i=i.split(" ")[0]+"T23:59:59";const n={title:t.advertisementData.title.value,countries:e,valid_from:s,valid_to:i,images:a,disabled:t.advertisementData.disabled.value};q.Z.apiRequest("api/Advertisement/create",n,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Advertisement sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else{const e={type:"is-warning",message:"Advertisement save failed!."};t.$buefy.toast.open(e)}}))}}},mounted(){this.advertisementData.disabled.value=0,this.initialData()}},Ci=wi,Di=(0,b.Z)(Ci,hi,_i,!1,null,"18661f94",null),ki=Di.exports,Si=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/advertisements"}},[t._v("Advertisement")]),e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Edit")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e("section",[e("b-field",{attrs:{horizontal:"",type:t.advertisementData.title.class,message:t.advertisementData.title.message}},[e("template",{slot:"label"},[t._v("Name "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(e){return t.advertisementData.title.blur()}},model:{value:t.advertisementData.title.value,callback:function(e){t.$set(t.advertisementData.title,"value",e)},expression:"advertisementData.title.value"}})],2),e("b-field",{attrs:{horizontal:""}},[e("template",{slot:"label"},[t._v("Countries "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-field",{attrs:{type:t.advertisementData.countries.class,message:t.advertisementData.countries.message}},[e("b-select",{attrs:{placeholder:"Currency"},model:{value:t.selectedCountry,callback:function(e){t.selectedCountry=e},expression:"selectedCountry"}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Country")]),t._l(t.countryListRef,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.name))])}))],2),e("p",{staticClass:"control"},[e("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(e){return t.addCountryTag()}}})],1)],1),e("div",t._l(t.countryTags,(function(a){return e("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[e("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(e){return t.deleteCountryTag(a)}}},[t._v(" "+t._s(a.code)+" ")])],1)})),1)],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.valid_from.class,message:t.advertisementData.valid_from.message}},[e("template",{slot:"label"},[t._v("Valid From "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-datepicker",{attrs:{"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.advertisementData.valid_from.value,callback:function(e){t.$set(t.advertisementData.valid_from,"value",e)},expression:"advertisementData.valid_from.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.valid_to.class,message:t.advertisementData.valid_to.message}},[e("template",{slot:"label"},[t._v("Valid To "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("b-datepicker",{attrs:{"min-date":t.advertisementData.valid_from.value,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},model:{value:t.advertisementData.valid_to.value,callback:function(e){t.$set(t.advertisementData.valid_to,"value",e)},expression:"advertisementData.valid_to.value"}})],2),e("b-field",{attrs:{horizontal:"",type:t.advertisementData.images.class,message:t.advertisementData.images.message}},[e("template",{slot:"label"},[t._v("Images "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{},[e("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t._l(t.images,(function(a,s){return e("div",{key:a.id,staticClass:"column"},[e("image-upload-component",{attrs:{index:s,"image-height":t.imageHeight,"image-width":t.imageWidth,"image-validations":t.imageValidations,placeholder_image:""===a.originalImage?t.placeholder_image:t.loadImage(a.originalImage)},on:{"on-upload":t.onImageUpload},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"img.value"}}),e("br"),e("b-field",{attrs:{type:a.link.class,message:a.link.message,label:"Advertisement Link","label-position":"on-border"}},[e("b-input",{attrs:{placeholder:"Advertisement link",maxlength:"512",expanded:""},on:{blur:function(t){return a.link.blur()}},model:{value:a.link.value,callback:function(e){t.$set(a.link,"value",e)},expression:"img.link.value"}})],1)],1)})),e("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})],2)])],2),e("b-field",{attrs:{horizontal:"",message:" "}},[e("template",{slot:"label"},[t._v("Status "),e("span",{staticClass:"has-text-danger"},[t._v("*")])]),e("div",{staticClass:"block"},[e("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:t.advertisementData.disabled.value,callback:function(e){t.$set(t.advertisementData.disabled,"value",e)},expression:"advertisementData.disabled.value"}},[t._v(" Active ")]),e("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:t.advertisementData.disabled.value,callback:function(e){t.$set(t.advertisementData.disabled,"value",e)},expression:"advertisementData.disabled.value"}},[t._v(" Not Active ")])],1)],2)],1)]),e("footer",{staticClass:"card-footer"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("p",{staticClass:"column has-text-danger is-italic"},[t._v("Fields marked with "),e("big",[t._v("*")]),t._v(" are mandatory")],1)]),e("div",{staticClass:"column"},[e("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(e){return t.validateAndSubmit()}}},[t._v("Save")]),e("b-button",{attrs:{type:"is-danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)])])])])},xi=[],Pi={name:"EditAdvertisement",components:{ImageUploadComponent:ja},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,imageValidations:new $a(0,0,0,0,0),placeholder_image:a(9691),images:[new yi,new yi,new yi,new yi,new yi],addId:"",advertisementData:{title:new Ce.Y(/^\w+[\w\s]+$/),countries:new Ce.Y(void 0,"Please select at least one country"),valid_from:new Ce.Y(void 0,void 0,new Date,!0),valid_to:new Ce.Y(void 0,void 0,new Date,!0),images:new Ce.Y(void 0,"Please select at least one image",void 0,!0),disabled:new Ce.Y},checkBoxVal:!1}},computed:{countryListRef(){const t=this;let e=[];return t.countryList.forEach((function(a){t.countryTags.includes(a)||e.push(a)})),e}},methods:{loadImage:function(t){return Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},onImageUpload:function(t){const e=this;e.advertisementData.images.blur(),console.log(t)},addCountryTag:function(){const t=this;t.advertisementData.countries.blur(),""!==t.selectedCountry&&t.countryTags.push(t.selectedCountry),t.selectedCountry="",t.advertisementData.countries.value="",t.countryTags.forEach((function(e,a){t.advertisementData.countries.value+=(0===a?"":"|")+e.code}))},deleteCountryTag:function(t){const e=this;let a=e.countryTags.indexOf(t);e.countryTags.splice(a,1),e.advertisementData.countries.value="",e.countryTags.forEach((function(t,a){e.advertisementData.countries.value+=(0===a?"":"|")+t.code}))},onFromDateChange:function(){const t=this;t.advertisementData.valid_to.value.getTime()<t.advertisementData.valid_from.value.getTime()&&(t.advertisementData.valid_to.value=t.advertisementData.valid_from.value)},initialData:function(){const t=this;q.Z.apiRequest("api/Advertisement/initial-create-data",{},(function(e){200===e.statusCode&&e.data.countries.forEach((function(e){t.countryList.push(e)})),t.getForEdit()}))},getForEdit:function(){const t=this,e={id:t.$route.params.id};t.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/get-for-edit",e,(function(e){if(200===e.statusCode){const a=e.data.advertisement;t.addId=a.id,t.advertisementData.title.value=a.title,t.advertisementData.valid_from.value=new Date(a.valid_from),t.advertisementData.valid_to.value=new Date(a.valid_to),a.countries.forEach((function(e,a){let s="";for(let i=0;i<t.countryList.length;i++)e===t.countryList[i].code&&(s=t.countryList[i]);t.countryTags.push({code:s.code,name:s.name}),t.advertisementData.countries.value+=(0===a?"":"|")+e.code})),a.images.forEach((function(e,a){t.images[a].originalImage=e.image,t.images[a].link.value=e.link}))}t.hideFullScreenLoader()}))},validate:function(){const t=this;let e=!0;Object.keys(t.advertisementData).forEach((function(a){console.log(t.advertisementData[a].validate()),t.advertisementData[a].validate()||(e=!1)}));let a=0;return t.images.forEach((function(t){""===t.value&&""===t.originalImage?a++:t.link.validate()||(e=!1)})),a===t.images.length&&t.advertisementData.images.invalidate(),e},validateAndSubmit:function(){const t=this;if(t.validate()){let e=[],a=[];t.countryTags.forEach((function(t){e.push(t.code)})),t.images.forEach((function(t){if(""===t.value&&""!==t.originalImage){let e={image:t.originalImage,link:t.link.value};a.push(e)}else if(""!==t.value){let e={image:t.value,link:t.link.value};a.push(e)}}));let s=t.formatDate(t.advertisementData.valid_from.value),i=t.formatDate(t.advertisementData.valid_to.value);s=s.split(" ")[0]+"T00:00:01",i=i.split(" ")[0]+"T23:59:59";const n={id:t.$route.params.id,title:t.advertisementData.title.value,countries:e,valid_from:s,valid_to:i,images:a,disabled:t.advertisementData.disabled.value};t.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/edit",n,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Advertisement sent for approval"};t.$buefy.toast.open(e),t.$router.go(-1)}else{const e={type:"is-warning",message:"Advertisement save failed!."};t.$buefy.toast.open(e)}t.hideFullScreenLoader()}))}}},mounted(){this.advertisementData.disabled.value=0,this.initialData()}},Ti=Pi,Ii=(0,b.Z)(Ti,Si,xi,!1,null,"597e91a6",null),Ai=Ii.exports,Ri=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("App Users")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"UID","label-position":"on-border"}},[e("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(e){t.searchParams.uid=t.searchParams.uid.trim()}},model:{value:t.searchParams.uid,callback:function(e){t.$set(t.searchParams,"uid",e)},expression:"searchParams.uid"}})],1),e("b-field",{staticClass:"column is-small",attrs:{label:"KYC Status","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:t.searchParams.kycStatus,callback:function(e){t.$set(t.searchParams,"kycStatus",e)},expression:"searchParams.kycStatus"}},[e("option",{attrs:{selected:""},domProps:{value:"PENDING"}},[t._v("Pending")]),e("option",{domProps:{value:"APPROVED"}},[t._v("Approved")]),e("option",{domProps:{value:"REJECTED"}},[t._v("Rejected")]),e("option",{domProps:{value:""}},[t._v("All")])])],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Fetch Count","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Count",size:"is-small",expanded:""},model:{value:t.searchParams.fetchCount,callback:function(e){t.$set(t.searchParams,"fetchCount",e)},expression:"searchParams.fetchCount"}},[e("option",{attrs:{selected:""},domProps:{value:10}},[t._v("10")]),e("option",{domProps:{value:25}},[t._v("25")]),e("option",{domProps:{value:50}},[t._v("50")]),e("option",{domProps:{value:100}},[t._v("100")]),e("option",{domProps:{value:99999999}},[t._v("All")])])],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")])],1)])],1),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.KYCUsers,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.kycId)+" ")]}}])}),e("b-table-column",{attrs:{field:"firstName",label:"First Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.first_name)+" ")]}}])}),e("b-table-column",{attrs:{field:"lastName",label:"Last Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.last_name)+" ")]}}])}),e("b-table-column",{attrs:{field:"uidType",label:"UID Type",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid_type)+" ")]}}])}),e("b-table-column",{attrs:{field:"uid",label:"UID",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid)+" ")]}}])}),e("b-table-column",{attrs:{field:"contact",label:"Contact Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.phone_no)+" ")]}}])}),e("b-table-column",{attrs:{field:"email",label:"Email",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.email)+" ")]}}])}),e("b-table-column",{attrs:{field:"disabled",label:"KYC Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-tag",{staticClass:"is-light",attrs:{type:t.getKycStatusClass(a.row.status)}},[t._v(" "+t._s(a.row.status)+" ")])]}}])}),e("b-table-column",{attrs:{label:"Actions",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-button",{attrs:{size:"is-small",type:"is-warning"},on:{click:function(e){return t.openModal(a.row)}}},[t._v("Review")])]}}])})],1)],1),e("br"),e("b-modal",{attrs:{title:"KYC Information","destroy-on-hide":!1,width:"800px","full-screen":""},scopedSlots:t._u([{key:"default",fn:function(){return[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("KYC Information "),e("b-tag",[t._v(t._s(t.KYCUser.uid))]),t._v(" "),e("b-tag",{staticClass:"is-light",staticStyle:{"margin-left":"10px"},attrs:{type:t.getKycStatusClass(t.KYCUser.status)}},[t._v(" "+t._s(t.KYCUser.status))])],1)]),e("section",{staticClass:"modal-card-body"},[e("div",{staticClass:"columns"},[t.submittedData?e("div",{staticClass:"column"},[e("p",{staticClass:"subtitle is-5",staticStyle:{color:"rgba(0, 0, 0, 0.349)"}},[t._v("Submitted Information [ "+t._s(t.formatDateTime(t.KYCUser.created_at))+" ]")]),e("p",{staticClass:"subtitle"},[t._v("Personal Details")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-three-fifths"},[t._l(Object.assign({},...Object.keys(t.submittedData).slice(0,-14).map((e=>({[e]:t.submittedData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),e("div",{staticClass:"columns mt-2 mb-2"},t._l(Object.assign({},...Object.keys(t.submittedData).slice(2,-12).map((e=>({[e]:t.submittedData[e]})))),(function(a,s,i){return e("div",{key:s,staticClass:"column",class:{"is-one-quarter":0===i,"":0!==i},style:{width:0===i?"120px":"auto"}},[e("b-field",{attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),0),t._l(Object.assign({},...Object.keys(t.submittedData).slice(4,-4).map((e=>({[e]:t.submittedData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)}))],2),e("div",{staticClass:"column switches-column"},[t._l(Object.assign({},...Object.keys(t.submittedData).slice(0,-14).map((e=>({[e]:t.submittedData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger",disabled:""},model:{value:a.approved,callback:function(e){t.$set(a,"approved",e)},expression:"field.approved"}},[e("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(a.approved?"Approve":"Reject")+" ")])])],1)})),e("div",{staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:t.submittedContactApprove?"is-success":"is-danger",disabled:""},model:{value:t.submittedContactApprove,callback:function(e){t.submittedContactApprove=e},expression:"submittedContactApprove"}},[e("span",{class:t.submittedContactApprove?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.submittedContactApprove?"Approve":"Reject")+" ")])])],1),t._l(Object.assign({},...Object.keys(t.submittedData).slice(4,-4).map((e=>({[e]:t.submittedData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger",disabled:""},model:{value:a.approved,callback:function(e){t.$set(a,"approved",e)},expression:"field.approved"}},[e("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(a.approved?"Approve":"Reject")+" ")])])],1)}))],2)]),e("hr",{staticClass:"mb-4 mt-0",staticStyle:{"background-color":"#9c9c9c",border:"none",height:"0.5px"}}),e("h4",{staticClass:"subtitle"},[t._v("Personal Documents")]),e("br"),e("div",{staticClass:"columns mb-0"},[e("b-field",{staticClass:"column",attrs:{label:"Image 1","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:t.getImageUrl(t.submittedData.image1.value)}})]),e("b-field",{staticClass:"column",attrs:{label:"Image 2","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:t.getImageUrl(t.submittedData.image2.value)}})])],1),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:t.submittedData.image1.approved?"is-success":"is-danger",disabled:""},model:{value:t.submittedData.image1.approved,callback:function(e){t.$set(t.submittedData.image1,"approved",e)},expression:"submittedData.image1.approved"}},[e("span",{class:!0===t.submittedData.image1.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.submittedData.image1.approved?"Approve":"Reject"))])])],1),e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:!0===t.submittedData.image2.approved?"is-success":"is-danger",disabled:""},model:{value:t.submittedData.image2.approved.rejected,callback:function(e){t.$set(t.submittedData.image2.approved,"rejected",e)},expression:"submittedData.image2.approved.rejected"}},[e("span",{class:!0===t.submittedData.image2.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.submittedData.image2.approved?"Approve":"Reject"))])])],1)]),e("div",{staticClass:"columns mt-4"},[e("b-field",{staticClass:"column",attrs:{label:"Image 3","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:t.getImageUrl(t.submittedData.image3.value)}})]),e("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:t.getImageUrl(t.submittedData.userImage.value)}})])],1),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:t.submittedData.image3.approved?"is-success":"is-danger",disabled:""},model:{value:t.submittedData.image3.approved,callback:function(e){t.$set(t.submittedData.image3,"approved",e)},expression:"submittedData.image3.approved"}},[e("span",{class:!0===t.submittedData.image3.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.submittedData.image3.approved?"Approve":"Reject"))])])],1),e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:!0===t.submittedData.userImage.approved?"is-success":"is-danger",disabled:""},model:{value:t.submittedData.userImage.approved,callback:function(e){t.$set(t.submittedData.userImage,"approved",e)},expression:"submittedData.userImage.approved"}},[e("span",{class:!0===t.submittedData.userImage.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.submittedData.userImage.approved?"Approve":"Reject"))])])],1)])]):t._e(),e("div",{staticClass:"column"},[e("p",{staticClass:"subtitle is-5",staticStyle:{color:"rgba(0, 0, 0, 0.349)"}},[t._v("Resubmitted Information [ "+t._s(t.formatDateTime(t.KYCUser.created_at))+" ]")]),e("p",{staticClass:"subtitle"},[t._v("Personal Details")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-three-fifths"},[t._l(Object.assign({},...Object.keys(t.currentData).slice(0,-14).map((e=>({[e]:t.currentData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),e("div",{staticClass:"columns mt-2 mb-2"},t._l(Object.assign({},...Object.keys(t.currentData).slice(2,-12).map((e=>({[e]:t.currentData[e]})))),(function(a,s,i){return e("div",{key:s,staticClass:"column",class:{"is-one-quarter":0===i,"":0!==i},style:{width:0===i?"120px":"auto"}},[e("b-field",{attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),0),t._l(Object.assign({},...Object.keys(t.currentData).slice(4,-4).map((e=>({[e]:t.currentData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":t.labelPosition}},[e("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)}))],2),e("div",{staticClass:"column switches-column"},[t._l(Object.assign({},...Object.keys(t.currentData).slice(0,-14).map((e=>({[e]:t.currentData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger"},model:{value:a.approved,callback:function(e){t.$set(a,"approved",e)},expression:"field.approved"}},[e("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(a.approved?"Approve":"Reject")+" ")])])],1)})),e("div",{staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:t.contactApprove?"is-success":"is-danger"},on:{input:function(e){return t.toggleContactApprove(t.currentData)}},model:{value:t.contactApprove,callback:function(e){t.contactApprove=e},expression:"contactApprove"}},[e("span",{class:t.contactApprove?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.contactApprove?"Approve":"Reject")+" ")])])],1),t._l(Object.assign({},...Object.keys(t.currentData).slice(4,-4).map((e=>({[e]:t.currentData[e]})))),(function(a,s){return e("div",{key:s,staticClass:"field-and-switch"},[e("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger"},model:{value:a.approved,callback:function(e){t.$set(a,"approved",e)},expression:"field.approved"}},[e("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(a.approved?"Approve":"Reject")+" ")])])],1)}))],2)]),e("hr",{staticClass:"mb-4 mt-0",staticStyle:{"background-color":"#9c9c9c",border:"none",height:"0.5px"}}),e("h4",{staticClass:"subtitle"},[t._v("Personal Documents")]),e("br"),e("div",{staticClass:"columns mb-0"},[e("b-field",{staticClass:"column",attrs:{label:"Image 1","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:t.getImageUrl(t.currentData.image1.value)}})]),e("b-field",{staticClass:"column",attrs:{label:"Image 2","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:t.getImageUrl(t.currentData.image2.value)}})])],1),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:t.currentData.image1.approved?"is-success":"is-danger"},model:{value:t.currentData.image1.approved,callback:function(e){t.$set(t.currentData.image1,"approved",e)},expression:"currentData.image1.approved"}},[e("span",{class:!0===t.currentData.image1.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.currentData.image1.approved?"Approve":"Reject"))])])],1),e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:!0===t.currentData.image2.approved?"is-success":"is-danger"},model:{value:t.currentData.image2.approved,callback:function(e){t.$set(t.currentData.image2,"approved",e)},expression:"currentData.image2.approved"}},[e("span",{class:!0===t.currentData.image2.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.currentData.image2.approved?"Approve":"Reject"))])])],1)]),e("div",{staticClass:"columns mt-4"},[e("b-field",{staticClass:"column",attrs:{label:"Image 3","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:t.getImageUrl(t.currentData.image3.value)}})]),e("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":t.labelPosition}},[e("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:t.getImageUrl(t.currentData.userImage.value)}})])],1),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:!0===t.currentData.image3.approved?"is-success":"is-danger"},model:{value:t.currentData.image3.approved,callback:function(e){t.$set(t.currentData.image3,"approved",e)},expression:"currentData.image3.approved"}},[e("span",{class:!0===t.currentData.image3.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.currentData.image3.approved?"Approve":"Reject"))])])],1),e("div",{staticClass:"column"},[e("b-switch",{attrs:{type:!0===t.currentData.userImage.approved?"is-success":"is-danger"},model:{value:t.currentData.userImage.approved,callback:function(e){t.$set(t.currentData.userImage,"approved",e)},expression:"currentData.userImage.approved"}},[e("span",{class:!0===t.currentData.userImage.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[t._v(t._s(!0===t.currentData.userImage.approved?"Approve":"Reject"))])])],1)])])])]),e("footer",{staticClass:"modal-card-foot",staticStyle:{display:"flex","justify-content":"flex-end"}},[null!==t.submittedData?e("b-button",{attrs:{type:"is-success"},on:{click:function(e){return t.updateRequest(t.KYCUser.kycId,t.currentData)}}},[t._v("Update KYC data")]):t._e(),null===t.submittedData?e("b-button",{attrs:{type:"is-success"},on:{click:function(e){return t.createRequest(t.KYCUser.userId,t.currentData)}}},[t._v("Create KYC request")]):t._e(),e("b-button",{on:{click:function(e){t.isKycModalActive=!1}}},[t._v("Cancel")])],1)]},proxy:!0}]),model:{value:t.isKycModalActive,callback:function(e){t.isKycModalActive=e},expression:"isKycModalActive"}})],1)},Oi=[],Li={name:"KYC",components:{},data(){return{filterChanged:!1,isKycModalActive:!1,currentData:{},searchParams:{uid:"",kycStatus:"",fetchCount:10},submittedData:{},contactApprove:!1,submittedContactApprove:!1,KYCUsers:[],KYCUser:{},selectedAppUser:{},tableHeaders:[],exportWizard:new ks("App Users"),labelPosition:"on-border",tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{getKycStatusClass(){return t=>"APPROVED"===t?"is-success":"PENDING"===t?"is-warning":"is-danger"}},watch:{contactApprove(t){console.log("contactApprove changed:",t)},searchParams:{handler(){this.filterChanged=!0},deep:!0}},methods:{toggleContactApprove(t){console.log("toggleContactApprove called. contactApprove:",this.contactApprove),this.$set(t.dialCode,"approved",this.contactApprove),this.$set(t.phoneNo,"approved",this.contactApprove)},getImageUrl:function(t){return console.log(Jt.$.$api_url+t+"?"+(new Date).getTime()),Jt.$.$api_url+"/"+t+"?"+(new Date).getTime()},formatDateTime(t){const e=t.toLocaleString(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).replace("T"," ");return e.slice(0,-7)},showUserImages(t){console.log(t),this.selectedAppUser={},this.selectedAppUser=t,this.isImageModalActive=!0},loadData:function(){const t=this;t.showFullScreenLoader(),q.Z.apiRequest("api/kyc/get-all",t.searchParams,(function(e){200===e.statusCode&&(t.KYCUsers=e.data.kycList),t.hideFullScreenLoader()}))},openModal(t){this.KYCUser=t,this.currentData=t.currentData,this.submittedData=t.submittedData,this.submittedContactApprove=!(!t.submittedData||!t.submittedData.dialCode)&&t.submittedData.dialCode.approved,this.contactApprove=!(!t.currentData||!t.currentData.dialCode)&&t.currentData.dialCode.approved,this.isKycModalActive=!0},createRequest(t,e){const a=this,s={userId:t,kycData:e};q.Z.apiRequest("api/kyc/create-request",s,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"KYC request created"};a.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"KYC request create failed!"};a.$buefy.toast.open(t)}a.isKycModalActive=!1}))},updateRequest(t,e){const a=this,s={kycId:t,kycData:e};q.Z.apiRequest("api/kyc/update-status",s,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"KYC updated successfully"};a.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"KYC update failed!"};a.$buefy.toast.open(t)}a.isKycModalActive=!1}))}},mounted(){this.loadData()}},Fi=Li,zi=(0,b.Z)(Fi,Ri,Oi,!1,null,null,null),Ui=zi.exports,Ni=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Bill Transactions")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","min-date":t.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){t.filterChanged=!0}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:t.countryCode,callback:function(e){t.countryCode=e},expression:"countryCode"}},[e("option",{attrs:{selected:""},domProps:{value:""}},[t._v("All Countries")]),t._l(t.countryList,(function(a){return e("option",{key:a.code,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[e("b-input",{attrs:{size:"is-small",expanded:""},model:{value:t.userUID,callback:function(e){t.userUID=e},expression:"userUID"}})],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),e("b-table",{staticClass:"my-table",attrs:{height:t.vhToPixels(55),data:t.filteredList,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.trace)+" ")]}}])}),e("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid)+" ")]}}])}),e("b-table-column",{attrs:{field:"country",label:"Country",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"100px"}},[t._v(t._s(a.row.country))])]}}])}),e("b-table-column",{attrs:{field:"billerbank_code",label:"Biller Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.biller_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),e("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.account_number)+" ")]}}])}),e("b-table-column",{attrs:{field:"currency-code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),e("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[new Date(a.row.card_payment_time).getFullYear()<1e3?e("p",{staticClass:"expanded-col"},[t._v("-")]):e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.card_payment_status))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.card_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_transaction_id))])]}}])}),e("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Deduction Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:t.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"bill_payment_time",label:"Bill Payments Time",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.bill_payment_time)+" "+a.row.currency_code))])]}}])}),e("b-table-column",{attrs:{field:"bill_payment_status",label:"Bill Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.bill_payment_status))])]}}])}),e("b-table-column",{attrs:{field:"bill_payment_description",label:"Bill Payments Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.bill_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_void_status))])]}}])}),e("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Void Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),e("br")])},Ei=[],$i={name:"BillTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("Bill Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,t.fromDate,t.toDate,"billTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,t.fromDate,t.toDate,"billTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},onFromDateChange:function(){const t=this;t.toDate.getTime()<t.fromDate.getTime()&&(t.toDate=t.fromDate)},loadData:function(){const t=this;t.fromDate.setSeconds(1),t.toDate.setSeconds(0);let e={from_date:t.formatDateTime(t.fromDate),to_date:t.formatDateTime(t.toDate),country_code:t.countryCode,user_uid:t.userUID};console.log(e),t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/billTransactions",e,(function(e){200===e.statusCode&&(t.transactions=e.data.transactions,t.filteredList=e.data.filteredList,t.tableHeaders=e.data.fields,t.countryList=e.data.countries,t.filterChanged=!1),t.hideFullScreenLoader()}))}},mounted(){let t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.fromDate=t,this.toDate=e,this.loadData()}},Zi=$i,Vi=(0,b.Z)(Zi,Ni,Ei,!1,null,null,null),qi=Vi.exports,ji=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Send Money Transactions")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-small",attrs:{label:"From","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("b-field",{staticClass:"column is-small",attrs:{label:"To","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","min-date":t.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){t.filterChanged=!0}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("b-field",{staticClass:"column is-small",attrs:{label:"Transaction Status","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:t.transactionStatus,callback:function(e){t.transactionStatus=e},expression:"transactionStatus"}},[e("option",{attrs:{selected:""},domProps:{value:"PENDING"}},[t._v("Pending")]),e("option",{domProps:{value:"SUCCESS"}},[t._v("Success")]),e("option",{domProps:{value:"FAILED"}},[t._v("Failed")]),e("option",{domProps:{value:""}},[t._v("All")])])],1),e("b-field",{staticClass:"column is-small",attrs:{label:"Reminting Accounts Type","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:t.accountsType,callback:function(e){t.accountsType=e},expression:"accountsType"}},[e("option",{attrs:{selected:""},domProps:{value:"LKR"}},[t._v("LKR")]),e("option",{domProps:{value:"USD"}},[t._v("USD")]),t._v("aa "),e("option",{domProps:{value:""}},[t._v("All")])])],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[e("b-input",{attrs:{size:"is-small",expanded:""},model:{value:t.userUID,callback:function(e){t.userUID=e},expression:"userUID"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),e("b-table",{attrs:{height:t.vhToPixels(55),data:t.filteredList,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"tran_type",label:"Transaction Type",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.tran_type)+" ")]}}])}),e("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.trace)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"100px"}},[t._v(t._s(a.row.country))])]}}])}),e("b-table-column",{attrs:{field:"bank_code",label:"Bank Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.bank_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),e("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.account_number)+" ")]}}])}),e("b-table-column",{attrs:{field:"remittance_currency",label:"Remittance Curreny",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.account_type)+" ")]}}])}),e("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),e("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.card_payment_status))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.card_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_transaction_id))])]}}])}),e("b-table-column",{attrs:{field:"ipg_charge",label:"IPG Commission",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_commission))])]}}])}),e("b-table-column",{attrs:{field:"Bank_charge",label:"Bank Commission",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.bank_charge))])]}}])}),e("b-table-column",{attrs:{field:"remitting_amount",label:"Remitting Amounts",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.beneficiary_received_amount_lkr))])]}}])}),e("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Deduction Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.exchange_rate_final,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:t.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"ceft_payment_time",label:"CEFT Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ceft_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ceft_payment_status",label:"CEFT Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(" "+t._s(a.row.ceft_payment_status))])]}}])}),e("b-table-column",{attrs:{field:"ceft_payment_description",label:"CEFT Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(" "+t._s(a.row.ceft_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ceft_transaction_id",label:"CEFT Transaction ID",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(" "+t._s(a.row.ceft_transaction_id))])]}}])}),e("b-table-column",{attrs:{field:"ceft_try_count",label:"CEFT Try Count",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(" "+t._s(a.row.ceft_try_count)+" ")])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_void_status))])]}}])}),e("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Void Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"ipg_refund_payment_time",label:"IPG Refund Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ipg_refund_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Refund Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_refund_status))])]}}])}),e("b-table-column",{attrs:{field:"void_data",label:"Refund Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Refund Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Refund Tran ID","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_refund_tran_id,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Description","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_refund_description,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Code","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_refund_code,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Message","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_refund_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.created_at)))])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.updated_at)))])]}}])}),e("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"columns"},[t.canHold(a.row)?e("div",{staticClass:"column"},[e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Hold Fund-transfer",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-warning","icon-left":"timer-stop",size:"is-small"},on:{click:function(e){return t.StartTransferHoldAction(a.row)}}})],1)],1):t._e(),t.canFundTransfer(a.row)?e("div",{staticClass:"column"},[e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Manual Fund transfer",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-info","icon-left":"autorenew",size:"is-small"},on:{click:function(e){return t.StartFundTransferAction(a.row)}}})],1)],1):t._e(),t.canRefund(a.row)?e("div",{staticClass:"column"},[e("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[t.isToday(a.row.card_payment_time)?e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Void Transaction",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small",label:"Void"},on:{click:function(e){return t.StartRefundAction("void",a.row.id)}}})],1):e("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Refund Transaction",position:"is-left",type:"is-dark"}},[e("b-button",{attrs:{type:"is-danger",size:"is-small",label:"Refund"},on:{click:function(e){return t.StartRefundAction("refund",a.row.id)}}})],1)],1)]):t._e()])]}}])})],1)],1),e("br")])},Bi=[],Mi={name:"CEFTTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",userUID:"",transactionStatus:"",accountsType:"",countryList:[],transactions:[],filteredList:[],exportWizard:new ks("CEFT Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,t.fromDate,t.toDate,"ceftTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,t.fromDate,t.toDate,"ceftTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},onFromDateChange:function(){const t=this;t.toDate.getTime()<t.fromDate.getTime()&&(t.toDate=t.fromDate)},canRefund:function(t){return"SUCCESS"!==t.ipg_void_status&&"SUCCESS"!==t.ipg_refund_status&&t.refund_requested&&this.hasPermission("transaction-refund")},canFundTransfer:function(t){return"SUCCESS"!==t.ipg_void_status&&"SUCCESS"!==t.ipg_refund_status&&"SUCCESS"!==t.ceft_payment_status&&"SUCCESS"===t.card_payment_status&&this.hasPermission("transaction-retry")},canHold:function(t){return"SUCCESS"!==t.ipg_void_status&&"SUCCESS"!==t.ipg_refund_status&&"SUCCESS"!==t.ceft_payment_status&&"SUCCESS"===t.card_payment_status&&this.hasPermission("transaction-hold")&&t.ceft_try_count<100},isToday:function(t){let e=this.formatDate((new Date).toLocaleString()),a=this.formatDate(t);return e===a},loadData:function(){const t=this;t.fromDate.setSeconds(1),t.toDate.setSeconds(0);let e={from_date:t.formatDateTime(t.fromDate),to_date:t.formatDateTime(t.toDate),account_type:t.accountsType,status:t.transactionStatus,user_uid:t.userUID};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/get-ceftTransaction",e,(function(e){200===e.statusCode&&(t.transactions=e.data.transactions,t.filteredList=e.data.filteredList,t.tableHeaders=e.data.fields,t.countryList=e.data.countries,t.filterChanged=!1),t.hideFullScreenLoader()}))},StartTransferHoldAction:function(t){const e=this;e.hasRatesUpdated?e.GenerateReport():e.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will hold the fund-transfer of the customer (Tran ID - "+t.id+").<br> Do you want to continue?",onConfirm:()=>e.holdFundTransfer(t.id,"")})},StartRefundAction:function(t,e){const a=this;a.hasRatesUpdated?a.GenerateReport():a.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will refund the card payment of the customer (Tran ID - "+e+").<br> Do you want to continue?",onConfirm:()=>"void"===t?a.voidTransaction(e):a.refundTransaction(e)})},StartFundTransferAction:function(t){const e=this;e.hasRatesUpdated?e.GenerateReport():e.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will start a manual fund transferring for this transaction (Tran ID - "+t.id+"). <br>If you not sure funds are availabe, please do not take this action. <br>Are you sure to take this action?",onConfirm:()=>e.manualFundTransfer(t)})},voidTransaction:function(t){const e=this;let a={transactionID:t};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/void",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Transaction voided successfully: Id - "+t};e.$buefy.toast.open(a),e.loadData()}else{const t={type:"is-warning",message:a.data.message};e.$buefy.toast.open(t),e.hideFullScreenLoader()}}))},refundTransaction:function(t){const e=this;let a={transactionID:t};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/refund",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Transaction refunded successfully: Id - "+t};e.$buefy.toast.open(a),e.loadData()}else{const t={type:"is-warning",message:a.data.message};e.$buefy.toast.open(t),e.hideFullScreenLoader()}}))},manualFundTransfer:function(t){const e=this;let a={trace:t.trace};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/manualFundTransfer",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Fund transfer successful: Id - "+t.id};e.$buefy.toast.open(a),e.loadData()}else{const t={type:"is-warning",message:a.data.message};e.$buefy.toast.open(t),e.hideFullScreenLoader()}}))},holdFundTransfer:function(t,e){const a=this;let s={id:t,description:e};a.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/hold",s,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"Transaction hold successful: Id - "+t};a.$buefy.toast.open(e),a.loadData()}else{const t={type:"is-warning",message:e.data.message};a.$buefy.toast.open(t),a.hideFullScreenLoader()}}))}},mounted(){let t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.fromDate=t,this.toDate=e,this.loadData()}},Hi=Mi,Yi=(0,b.Z)(Hi,ji,Bi,!1,null,null,null),Gi=Yi.exports,Ki=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Thyaga Transactions")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","min-date":t.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){t.filterChanged=!0}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:t.countryCode,callback:function(e){t.countryCode=e},expression:"countryCode"}},[e("option",{attrs:{selected:""},domProps:{value:""}},[t._v("All Countries")]),t._l(t.countryList,(function(a){return e("option",{key:a.code,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[e("b-input",{attrs:{size:"is-small",expanded:""},model:{value:t.userUID,callback:function(e){t.userUID=e},expression:"userUID"}})],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),e("b-table",{attrs:{height:t.vhToPixels(55),data:t.filteredList,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.trace)+" ")]}}])}),e("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.uid)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"100px"}},[t._v(t._s(a.row.country))])]}}])}),e("b-table-column",{attrs:{field:"mobile_number",label:"Receiver Phone",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.mobile_number)+" ")]}}])}),e("b-table-column",{attrs:{field:"receiver_name",label:"Receiver Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.receiver_name)+" ")]}}])}),e("b-table-column",{attrs:{field:"send_later",label:"Send Later",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.send_later?"Yes":"No")+" ")]}}])}),e("b-table-column",{attrs:{field:"send_at",label:"Send At",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.send_at)))])]}}])}),e("b-table-column",{attrs:{field:"sender_name",label:"Sender Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.sender_name)+" ")]}}])}),e("b-table-column",{attrs:{field:"via_email",label:"Via Email",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.via_email?"Yes":"No")+" ")]}}])}),e("b-table-column",{attrs:{field:"via_sms",label:"Via SMS",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.via_sms?"Yes":"No")+" ")]}}])}),e("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),e("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.account_number)+" ")]}}])}),e("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),e("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.card_payment_status))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.card_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_transaction_id))])]}}])}),e("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Deduction Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:t.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"thyaga_payment_time",label:"Thyaga Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[new Date(a.row.thyaga_payment_time).getFullYear()<1e3?e("p",{staticClass:"expanded-col"},[t._v("-")]):e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(new Date(a.row.thyaga_payment_time).toLocaleString()))])]}}])}),e("b-table-column",{attrs:{field:"thyaga_payment_status",label:"Thyaga Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.thyaga_payment_status))])]}}])}),e("b-table-column",{attrs:{field:"thyaga_payment_description",label:"Thyaga Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.thyaga_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_void_status))])]}}])}),e("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Void Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),e("br")])},Wi=[],Ji={name:"ThyagaTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("Thyaga Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,t.fromDate,t.toDate,"thyagaTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,t.fromDate,t.toDate,"thyagaTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},onFromDateChange:function(){const t=this;t.toDate.getTime()<t.fromDate.getTime()&&(t.toDate=t.fromDate)},loadData:function(){const t=this;t.fromDate.setSeconds(1),t.toDate.setSeconds(0);let e={from_date:t.formatDateTime(t.fromDate),to_date:t.formatDateTime(t.toDate),country_code:t.countryCode,user_uid:t.userUID};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/thyagaTransactions",e,(function(e){200===e.statusCode&&(t.transactions=e.data.transactions,t.filteredList=e.data.filteredList,t.tableHeaders=e.data.fields,t.countryList=e.data.countries,t.filterChanged=!1),t.hideFullScreenLoader()}))}},mounted(){let t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.fromDate=t,this.toDate=e,this.loadData()}},Xi=Ji,Qi=(0,b.Z)(Xi,Ki,Wi,!1,null,null,null),tn=Qi.exports,en=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("EChannelling Transactions")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","min-date":t.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){t.filterChanged=!0}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[e("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:t.countryCode,callback:function(e){t.countryCode=e},expression:"countryCode"}},[e("option",{attrs:{selected:""},domProps:{value:""}},[t._v("All Countries")]),t._l(t.countryList,(function(a){return e("option",{key:a.code,domProps:{value:a.code}},[t._v(t._s(a.name))])}))],2)],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[e("b-input",{attrs:{size:"is-small",expanded:""},model:{value:t.userUID,callback:function(e){t.userUID=e},expression:"userUID"}})],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),e("b-table",{attrs:{height:t.vhToPixels(55),data:t.filteredList,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.trace)+" ")]}}])}),e("b-table-column",{attrs:{field:"ec_transaction_id",label:"Echannelling Reference",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ec_transaction_id)+" ")]}}])}),e("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"100px"}},[t._v(t._s(a.row.country))])]}}])}),e("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{width:"100px"}},[t._v(t._s(a.row.uid))])]}}])}),e("b-table-column",{attrs:{field:"patient_name",label:"Patient Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.patient_name))])]}}])}),e("b-table-column",{attrs:{field:"receiver_name",label:"Patient Mobile",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.patient_mobile)+" ")]}}])}),e("b-table-column",{attrs:{field:"hospital_name",label:"Hospital Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.hospital_name))])]}}])}),e("b-table-column",{attrs:{field:"doctor_name",label:"Doctor Name",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.doctor_name))])]}}])}),e("b-table-column",{attrs:{field:"appointment_day",label:"Appointment Day",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.appointment_day)+" ")]}}])}),e("b-table-column",{attrs:{field:"appointment_date",label:"Appointment Date",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.appointment_date)+" ")]}}])}),e("b-table-column",{attrs:{field:"start_time",label:"Start Time",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.start_time)+" ")]}}])}),e("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),e("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_code)+" ")]}}])}),e("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),e("b-table-column",{attrs:{field:"doctor_charge_lkr",label:"Doctor Charge (LKR)",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.doctor_charge_lkr)+" LKR"))])]}}])}),e("b-table-column",{attrs:{field:"hospital_charge_lkr",label:"Hospital Charge (LKR)",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.hospital_charge_lkr)+" LKR"))])]}}])}),e("b-table-column",{attrs:{field:"ec_charge_lkr",label:"EChannelling Charge (LKR)",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.ec_charge_lkr)+" LKR"))])]}}])}),e("b-table-column",{attrs:{field:"total_lkr",label:"Total Charge (LKR)",sortable:"",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticStyle:{width:"100px"}},[t._v(t._s(t.numberWithCommas(a.row.total_lkr)+" LKR"))])]}}])}),e("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.card_payment_status))])]}}])}),e("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.card_payment_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_transaction_id))])]}}])}),e("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Deduction Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:t.numberWithCommas(a.row.ipg_commission),size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"ec_booking_time",label:"EChannelling Booking Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ec_booking_time)))])]}}])}),e("b-table-column",{attrs:{field:"ec_booking_status",label:"EChannelling Booking Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ec_booking_status))])]}}])}),e("b-table-column",{attrs:{field:"ec_booking_description",label:"EChannelling Booking Description",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[t._v(t._s(a.row.ec_booking_description))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(t._s(t.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),e("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",{staticClass:"expanded-col"},[t._v(t._s(a.row.ipg_void_status))])]}}])}),e("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:t._u([{key:"trigger",fn:function(t){return[e("b-tooltip",{attrs:{label:"Click to view"}},[e("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":t.open}})],1)]}}],null,!0)},[e("div",{staticClass:"notification"},[e("div",{staticClass:"content",staticStyle:{width:"20rem"}},[e("h5",[t._v(" IPG Deduction Details ")]),e("section",{staticClass:"card-content"},[e("div",{staticClass:"content pt-auto"},[e("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),e("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[e("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(t.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),e("br")])},an=[],sn={name:"EChannellingTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("EChannelling Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,t.fromDate,t.toDate,"echannellingTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,t.fromDate,t.toDate,"echannellingTransactions_"+t.formatDateTime(new Date),t.tableHeaders,t.filteredList)},onFromDateChange:function(){const t=this;t.toDate.getTime()<t.fromDate.getTime()&&(t.toDate=t.fromDate)},loadData:function(){const t=this;t.fromDate.setSeconds(1),t.toDate.setSeconds(0);let e={from_date:t.formatDateTime(t.fromDate),to_date:t.formatDateTime(t.toDate),country_code:t.countryCode,user_uid:t.userUID};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/echannellingTransactions",e,(function(e){200===e.statusCode&&(t.transactions=e.data.transactions,t.filteredList=e.data.filteredList,t.tableHeaders=e.data.fields,t.countryList=e.data.countries,t.filterChanged=!1),t.hideFullScreenLoader()}))}},mounted(){let t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),this.fromDate=t,this.toDate=e,this.loadData()}},nn=sn,on=(0,b.Z)(nn,en,an,!1,null,null,null),ln=on.exports,rn=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"card-header p-3"},[e("div",{staticClass:"columns",staticStyle:{width:"100%"}},[e("div",{staticClass:"column"},[e("b-breadcrumb",{attrs:{align:"is-left"}},[e("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[t._v("Activity Log Report")])],1)],1),e("div",{staticClass:"column"})])]),e("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){return t.onFromDateChange()}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[e("b-datetimepicker",{attrs:{size:"is-small","min-date":t.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(e){t.filterChanged=!0}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Username","label-position":"on-border"}},[e("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(e){t.username=t.username.trim()}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),e("b-field",{staticClass:"column",attrs:{label:""}},[e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:t.loadData}},[t._v("Search")]),e("b-tooltip",{attrs:{label:"Download as Excel"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:t.generateXlsx}})],1),e("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[e("b-button",{attrs:{size:"is-small",disabled:t.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:t.generatePdf}})],1)],1)])],1),e("b-table",{attrs:{height:t.vhToPixels(50),data:t.transactions,paginated:t.tableOptions.isPaginated,"per-page":t.tableOptions.perPage,"current-page":t.tableOptions.currentPage,"pagination-simple":t.tableOptions.isPaginationSimple,"pagination-position":t.tableOptions.paginationPosition,"default-sort-direction":t.tableOptions.defaultSortDirection,"pagination-rounded":t.tableOptions.isPaginationRounded,"sort-icon":t.tableOptions.sortIcon,"sort-icon-size":t.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":t.tableOptions.stickyHeaders,"page-input":t.tableOptions.hasInput,"pagination-order":t.tableOptions.paginationOrder,"page-input-position":t.tableOptions.inputPosition,"debounce-page-input":t.tableOptions.inputDebounce},on:{"update:currentPage":function(e){return t.$set(t.tableOptions,"currentPage",e)},"update:current-page":function(e){return t.$set(t.tableOptions,"currentPage",e)}}},[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{field:"level",label:"Log Level",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{class:"tag is-"+a.row.level.toLowerCase()},[t._v(t._s(a.row.level))])]}}])}),e("b-table-column",{attrs:{field:"type",label:"Log Type",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.type)+" ")]}}])}),e("b-table-column",{attrs:{field:"user",label:"User",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.user)+" ")]}}])}),e("b-table-column",{attrs:{field:"description",label:"Description",width:"1000",numeric:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"has-text-left"},[t._v(t._s(a.row.description))])]}}])}),e("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),e("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"tag is-success expanded-col"},[t._v(" "+t._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])})],1)],1),e("br")])},cn=[],un={name:"ActivityLogs",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,username:"",transactions:[],filteredList:[],exportWizard:new ks("Activity Logs"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(t){return Jt.$.$api_url+t+"?"+(new Date).getTime()},generateXlsx:function(){const t=this;t.exportWizard.exportToXlsx(new Date,t.authUser().username,t.fromDate,t.toDate,"activityLogs_"+t.formatDate(new Date),t.tableHeaders,t.filteredList)},generatePdf:function(){const t=this;t.exportWizard.exportToPDF(new Date,t.authUser().username,t.fromDate,t.toDate,"activityLogs_"+t.formatDate(new Date),t.tableHeaders,t.filteredList)},onFromDateChange:function(){const t=this;t.toDate.getTime()<t.fromDate.getTime()&&(t.toDate=t.fromDate)},loadData:function(){const t=this;t.fromDate.setSeconds(1),t.toDate.setSeconds(0);let e={from:t.formatDateTime(t.fromDate),to:t.formatDateTime(t.toDate),username:t.username};t.showFullScreenLoader(),q.Z.apiRequest("api/report/get-activity-report",e,(function(e){200===e.statusCode&&(t.transactions=e.data.logs,t.filteredList=e.data.filteredList,t.tableHeaders=e.data.fields,t.filterChanged=!1),t.hideFullScreenLoader()}))}},mounted(){let t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(1);let e=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(0),this.fromDate=t,this.toDate=e,this.loadData()}},dn=un,pn=(0,b.Z)(dn,rn,cn,!1,null,null,null),mn=pn.exports;const bn=[{path:"/login",name:"Login",component:()=>a.e(463).then(a.bind(a,5463)),hidden:!0},{path:"/Terms&Conditions",name:"TermsAndConditionsModal",component:()=>a.e(888).then(a.bind(a,3888)),hidden:!0},{path:"/resetPassword",name:"ResetPassword",component:ua,hidden:!0},{path:"/",hidden:!0,redirect:"Login"},{path:"/#",component:z,isVisible:()=>!0,redirect:()=>"Dashboard",meta:{type:"menu",icon:"view-dashboard",title:"Dashboard",isActive:!1},children:[{path:"/dashboard",name:"Dashboard",component:At,meta:{type:"",icon:"view-dashboard",title:"Dashboard",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>N.Z.hasPermission("kyc-view"),redirect:()=>{if(N.Z.hasPermission("kyc-view"))return"KYC"},meta:{type:"menu",icon:"account-check",title:"KYC",isActive:!1},children:[{path:"/kyc",name:"KYC",component:Ui,meta:{type:"",icon:"account-check",title:"KYC",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>N.Z.hasSuperPermission()||N.Z.hasPermission("user-view"),redirect:"",meta:{type:"menu",icon:"cog",title:"Administrator",isActive:!1},children:[{path:"/users",name:"Users",isVisible:()=>N.Z.hasPermission("user-view"),component:xe,meta:{type:"menu-item",title:"Users",icon:"account-multiple",isActive:!1,middleware:[U]}},{path:"/users/create",name:"CreateUser",component:Fe,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/users/edit/:id",name:"EditUser",component:Ze,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/roles",name:"Roles",isVisible:()=>N.Z.hasPermission("role-view"),component:He,meta:{type:"menu-item",title:"Roles",icon:"human-male-board",isActive:!1,middleware:[U]}},{path:"/roles/create",name:"CreateRole",component:Xe,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/roles/edit/:id",name:"EditRole",component:ia,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/banks",name:"Bank",isVisible:()=>N.Z.hasPermission("bank-view"),component:ns,meta:{type:"menu-item",title:"Banks",icon:"bank",isActive:!1,middleware:[U]}},{path:"/banks/create",name:"BankCreate",component:gs,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/banks/edit/:id",name:"BankEdit",component:ds,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/provider",name:"IPGProvider",isVisible:()=>N.Z.hasPermission("ipg-provider-view"),component:Xs,meta:{type:"menu-item",title:"IPG Providers",icon:"home",isActive:!1,middleware:[U]}},{path:"/advertisements",name:"Advertisements",isVisible:()=>N.Z.hasPermission("advertisement-view"),component:gi,meta:{type:"menu-item",title:"Advertisements",icon:"television-classic",isActive:!1,middleware:[U]}},{path:"/advertisements/create",name:"CreateAdvertisement",component:ki,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/advertisements/edit/:id",name:"EditAdvertisement",component:Ai,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/appUsers",name:"AppUser",isVisible:()=>N.Z.hasPermission("app-user-view"),component:Ts,meta:{type:"menu-item",title:"App Users",icon:"account-card-outline",isActive:!1,middleware:[U]}},{path:"/appVersions",name:"AppVersion",isVisible:()=>N.Z.hasPermission("app-version-view"),component:Fs,meta:{type:"menu-item",title:"App Versions",icon:"cellphone-play",isActive:!1,middleware:[U]}},{path:"/appVersions/create",name:"AppVersionCreate",component:Hs,meta:{type:"",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>!N.Z.hasSuperPermission()&&N.Z.hasPermission("ipg-currency-view"),redirect:"IPGProviderCurrency1",meta:{type:"menu",icon:"store-cog",title:"IPG Provider Currencies",isActive:!1},children:[{path:"/ipgProviderCurrencies/",name:"IPGProviderCurrency1",component:di,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/ipgProviderCurrencies/:id",name:"IPGProviderCurrency2",component:di,meta:{type:"",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>N.Z.hasPermission("bill-payment-report-view")||N.Z.hasPermission("send-money-report-view")||N.Z.hasPermission("thyaga-report-view")||N.Z.hasPermission("echannelling-report-view")||N.Z.hasPermission("track-remit-report-view"),meta:{type:"menu",icon:"script-text",title:"Reports",isActive:!1},children:[{path:"/transaction/ceft",name:"CEFTTransaction",isVisible:()=>N.Z.hasPermission("send-money-report-view"),component:Gi,meta:{type:"menu-item",title:"Send Money",icon:"cash-fast",isActive:!1,middleware:[U]}},{path:"/transaction/bill",name:"BillTransaction",isVisible:()=>N.Z.hasPermission("bill-payment-report-view"),component:qi,meta:{type:"menu-item",title:"Bill",icon:"receipt-text",isActive:!1,middleware:[U]}},{path:"/transaction/thyaga",name:"ThyagaTransaction",isVisible:()=>N.Z.hasPermission("thyaga-report-view"),component:tn,meta:{type:"menu-item",title:"Thyaga",icon:"gift",isActive:!1,middleware:[U]}},{path:"/transaction/eChannelling",name:"EChannellingTransaction",isVisible:()=>N.Z.hasPermission("echannelling-report-view"),component:ln,meta:{type:"menu-item",title:"EChannelling",icon:"stethoscope",isActive:!1,middleware:[U]}},{path:"/activityLogs",name:"ActivityLogs",isVisible:()=>N.Z.hasPermission("activity-log-report-view"),component:mn,meta:{type:"menu-item",title:"Activity Log Report",icon:"format-list-text",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>N.Z.hasPermission("notification-view"),redirect:()=>{if(N.Z.hasPermission("notification-view"))return"Notifications"},meta:{type:"menu",icon:"bell-badge",title:"Notification",isActive:!1},children:[{path:"/notifications",name:"Notifications",component:fa,meta:{type:"",icon:"bell-badge",title:"Notification",isActive:!1,middleware:[U]}},{path:"/notifications/create",name:"CreateNotification",component:Ca,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/notifications/edit/:id",name:"EditNotification",component:Ta,meta:{type:"",isActive:!1,middleware:[U]}}]},{path:"/#",component:z,isVisible:()=>N.Z.hasPermission("news-view")||N.Z.hasSuperPermission(),redirect:()=>{if(N.Z.hasPermission("news-view"))return"NewsFeed"},meta:{type:"menu",icon:"newspaper-variant-outline",title:"News Feed",isActive:!1},children:[{path:"/newsfeed",name:"NewsFeed",component:Fa,meta:{type:"",icon:"newspaper-variant-outline",title:"News Feed",isActive:!1,middleware:[U]}},{path:"/newsfeed/create",name:"CreateNewsFeed",component:Ya,meta:{type:"",isActive:!1,middleware:[U]}},{path:"/newsfeed/edit/:id",name:"EditNewsFeed",component:Qa,meta:{type:"",isActive:!1,middleware:[U]}}]}];var vn=bn;s.ZP.use(i.ZP);const fn=new i.ZP({mode:"history",routes:vn});fn.beforeEach(((t,e,a)=>{const s=t.meta.middleware,i={to:t,from:e,next:a,router:fn,store:o.Z};if(!s)return a();s[0]({...i,next:n(i,s,1)})}));var gn=fn},4239:function(t,e,a){var s=a(6369),i=a(3822);s.ZP.use(i.ZP),e.Z=new i.ZP.Store({state:{isFirstLogin:!1},mutations:{setFirstLogin(t,e){t.isFirstLogin=e}},actions:{},modules:{}})},9426:function(t,e,a){t.exports=a.p+"img/TR.457607c6.png"},5701:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASkAAADNCAYAAADkO4aiAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABbKSURBVHgB7Z1NluQ2DoRJuxftpW/gOaKXPu2UD+DnpXPRbkxJJEgApNILZ3chNPHNVKWkrPajfgiCARCqpfPXX/JLecJPP9W3khi2/2Nh+z+WO7f/0/Hrz7/++uVv+fLf6//EeYL/KUlh+z8Wtv9juXv7fyiEEJIYGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGo+FUII+WB+//OPy+9opAghH8rPv/1a6t/yviX9SDXbnO4RQlIg3S55A3VAI0UIycFhn4KBOqCRIoSkoF4cpyZFCPl4JPhQZtZHT4oQ8rE8NseMxaKRIoSkhtM9QkgCDtdpjewdx+hJEUI+ls+6Ie8mKcrnQiNFCPlgHs+/ppEihOTgjPCFMJ/QSBFCMiDrp078aKQIITkwclR93xbmSRFCUmGmeWK2mYJACEmCFaOmW0VPihCSALnYZwoCISQtzVBxukcIycOacE4jRQhJgOwPHxnoNFKE3IBnNcK//P215OZIOd+bInkP89FIEQJOqxHeDNHheUioFV5rLchQOCfkJlgD1QxT2xaRgsdsMz0pQm6C9aDkq1zX402JN6TW4NJIEXIHZLNjZ33p8bWkxkLjyukeIfg8yg0Qv8iYy2IIIamIVRBKW2R8QE+KEHTOypbrspJqthE59H5hPSlCbsCY7kmxcyWJ8yZQaKQIuSEVK7S3gSkIhNwPW4/J7wAgl8foSRFyB64M0eFQIfTyJ4aURoqQm7Bd/XJ0/uxL9ywxDYHCOSH3YV39Aiaab94PeizvoSZFyC2QJ8dxRPT4DuNj3SE9KUJuAXo0r7FbC00jRQg8j575WGKqVMFMlfIN5nSPkLuwzJUKEHK5T0+KkLsAnVxee/vrso6PRoqQ2wOQg6Bi1Pgs/TXGnO4RcoJdI/wAf43egrDoHSEns0Z4FHXKxTHyPaGRImTQ64P3cL5WEWilbJNz9Uqo9ykTZo3zCY0UIQEJPV6APSl0A3VAI0XIQe/Lp1a7m/GRb8z1CmlG9wgxoDoe4K/WC+kH/mRopAg5WbMgkTr+aVzl2fo9AFwaQmWeFCGDpfxu2z70HBw7pe/Zk7JfHwOGMVg0UoRcMF9QCdDRRxPr3Ae2URYK54QoEne7d4JSNE7Gr81xXOhJEXIALufAC+dPoJEi5AbcIB3K4IMYnO4Rcirn2hXiMhgkF6VHxRCRTamWvsCYnhQh5fPT99RhdHtbIBwwwmfnq7rNBcaEKI/3/qBdwb4FoJwdBSYRAXnOZ9sumqdWWeOckEG9OIQyewpvWLkDQk+KvBL4eky7yD1sHuStVHQaKfLvafWYovah+sgd6jEhvV0TFJElj+LM+Od798jrkO0+jom6h/cBOyRspqg6baWRIq9BQpmT3ltG1nZ2rpw+GHlH5u+RiQBmssQJa2Ofwjn59/QFuuJz8M6REErDlYtjCP3clTrp+yja1PH8bKZ7J5X1pMg3oY/qR/j+XhpualwXr2GhcWY+989NGgKrIJAXYhMHd0mF2cG3prLr5Ag8nn9NI0VeDm6Wzs6wohhZYD7PzZg+IVwWQ16Gqbl2Pmi2b8NE8OMUicbpu2A8qZiIeuzSSJEXcaE/ofRzFZpDdLJaMTo9Ej7jNgih+UxBIC/CjoCyOYYJTPa2xByQ/rl9/U1CxLS39MGib9OTIi/iahQHnTIhNluw1/a0GfYq/tNIkRfQRAX7HoAac3aSs/p8QI2/CVd+N40UeQGfp2DeObeBEp6lnUDZ6zk0VN+TeLWpSZFvB1LfdvaIRukjqW6LmhR5CY9yR+5SlwkX1pMiL+XK+0B6J5QHqi6Tje7ZiB6Kod1d6t50elLkNcjFD07xXWyMYXLXWxAirN0Tt5GXoRHSSJEXcTk1EpQouBXOZ8eu+l1mtIpAx3uACENEXxdzkUJBI0VeguxGcSSWQF7zTMRmoWfl87MvEUaI08pefksjRV6EmN+NGr6DQZfIdNIL6PBxi6dWlkaKvBDxeoKM7QINloBe1uudPm7x3MrSSJHXYKdLu23ybZGuqY1SFGVdx4eESQ6mkSKv5SahPFxtzRomkMXFio9ZjKVVzJMir0V2B0DexCBuD+49BitgeV7jOfHtpidFXsIM1ce5HkqpkLImPsIaKFQ/UHVMD40UeQmiI6FqISaZEwYJEUrYZTGA1rVf67UqGd8WQ17JNhmvwKBNHR0FSc9R5GI7OzYZtX+qd05NipAOtOZvvVap4Xh+7Gv34n2gJ0WIomF8u94NZO2bbCuith8EO1X3mvkJPSnyImTdhXp7MXb7Yw2mttmCFjBBShtdPdvdzopGiryGER2TuY2o6Vgg2+96eoHB1Ta30WIK5+TVjAwEoA5iVmUA52jfFFZBIK8E3XMqc9rkZnqYNfsap8SGcwK7J4hGinxToBbnwtKqCLiyMm55CU43r5sj1KTIiwhKc1/sClE07kBsdg6aYX2fr8qPXWiWzZoejPPZxyqYJ5WG3//84/K7L38DuOsxu9wK51B9Htnzi4YWy+BW22TTdBqpBPz826+lIhiif+AoDjemd0cI2e6Dcp4DXJYnoPwfijfYplOTyghC/mBES+26Q1gn4ZvbJ6rHwa+ohhYxh176/2cyKo1UFqSsxqnvQzxqN3hHnT8FwavIuWxDLd5rP2Oh8bwZNFIZOPN0rIUKHkkBQqsgFPOJIpy71SQyiq7B3ABta90cS860q+toTU0qEyo+j/ePlfWhy8qyrMQYKoT2bzPkrRCNwmFs/UI4NH+KC4yzspnmjWP4mnpyHgU/EdUWjPMuFcQYET4pnKfGW6gbSD3ku1DDNli+105T692ARioNsk1kgxjgn7/bEYD9e9+wnCsxYjOSkNZRm7qZYdNIJUKiWKsiNMTzJmXWYio+kTN9CP8xJUAjoFtpEAPgkeJKDmTGeRaOTvKpa7fo2khZDRUEMgyTRK8W5UUS0KwRbb0HNFJpeDa1u4HhAmLKzYjXvXdvwJUxdqZnm00jlYX4IKH2kYD05TF4wKX8++3TQOEVHrS2VRdMU5PKyk2cp6GxkW+KhM+5U2EufxX/qSkVNFKJmP4GWq9+FPsSgyY4S0hOTU5MMYr7ydlnRMmqr2UlTk1N4IJGKg2ajGfuUnxzSVpmCN+3VtxHeuQf9hOjueXRIEFNtCVs9nGOmlQWNh1iSArpO8uRKNUepeFFwSHbIyidvO4uObCuaa87jVRiWHn3Y4HyQkZRTrMcxobLkhOnpVM8p5HKhYgPb6Bxh2hkwbz0jZ18jhThq1sNjZpUFmKpXSmriJseWX/O4B7ICmkJBSh2fT4rIs7A2iAMQvNjEq1d4HMbTwq+Rjg6V6M1yht0Zf1EWhYzmxmvdu3+SW7GJKL6Sgi3me65GuEmlHnWp4YKLYVZOZCm0Kg9ebMAop6I7eR2PM+N9Zxsq1GypJwHZSYVx7N0H01K1m1BKbh2IOPXxXfJ6e2vUVODmarW3qE1mI/TwU82dnVsgvSB85pbJ6MfvJEmtdFDSgHqJAZY5TYkukBdezG/AW1sR0RMJeTW+pr9JB5Tj9Kx2s6+72GkHhfHN/WSIYj6CARXajPOSehIjlb52KLTVd9ujHvQDNVMatb9e0734nGQ6Mz+eAEE0FAFgySCJpzHAIUsEbPM1K5namPtudx4ujfenFbQwawigIVdklQrmB7VsVNVtERgKTPgEtMQ7mOkFklKZpVFcCAK4cXABdhsz5XeHW3GOYno9aGNazX6e+YZuomRUlFqP81ILxwemCoCamTHcRREDap5wiCSpA5ku42SwuKmp+bxh7FVXfAf7a+zG9wq47zOBUzFlgpByHj2U7orETo7vsCdwFRx2NP7CsQ4sTw9aI9OKdsKDsfPjaZ7F9M7hD7yAJnSPUHK6vmhlQmR6IX0/fRTJxPdnqV324mgPVXj7YGm4TcTzv32LeRmGE1nBa2DjM4teJ1cNoEj/QYkvD2u+TSy7djNUhD8zRl7EJUhnzxICEsPN83HGiR8B5n5RjW/l/v5vd1fzPRUP/sSJQwTZRNoxeV7/X9UQcCeSQFh/Q9x8jMKs7PMeV96Y2ume7azlxDSz45KmPb6H79v5EmFjlD7L6C04fFyUMR5al/CXns3EZhpRkM7N/KKpEV47gcEwBO3a/asS3hvT8qF8UtyHl2g1ehkSEWA8NenUbLaQglbWXEtNNIOWAaI+0QaJzZqzbgpw5PCr8ekZxgTc2rBSNXZGSOwHmIudF16fXJiE7Gc8BObqT11nQLx/McUCpucehopV4+p7P4aADt82JciVoR0vONtK18uv4UxVXrJdduquADMJtsBA6Mm2fRep+C8rufLz86Zap7UfNnH+k8EUCOxPjrEHTqme3oDpkeoD5kqPblZW4i0SNdK/maBDFxHjyV4cdrdftvlSbo9TZPt2G4ERJpy+Gne8Kpg6NUhuyc4W45R/nia1zmao2A7tPRnf3QXBOG5f9pzqKMLZB/kHu/tn4O0HaYP9sK5VeCOs4WQpOJtkHkcQv00YrMgBu9tdEzcI5SeYyYhzbgOw2rHbIDwklE3vL8B4mjMuMvU0ZRuvsx0w5pktGlexA4n2TGaWrv0/Wbh+exuVzNBEBARY2iLG+eyY9cYjkcmBDMyozJylfX9e26MGKN49KQgHBEzhMRtCPpQUuvwRmbEL/k59GRCHQjblNVnEKOB1+LiDWyJAYDcXEVSp3De/+p6kpF8vmeFf/CFupfT1uz0dq9iOZ4meGBlWQRnxKYcHNSeXBuPZyV6T3rs2P60fmX/CdCcTza+rfqQOJLUermBbsG+6SjRMTGGqbqoHsLlH6kTuh+nfkDMc2lbxpOyfyYX29mJogigVyXRWvU0kOSo/Oc6NZCBdZgXmlabcweAXu6z7ZtxOytzUKhmYGt7P8Q/9Z+6C9bZIWd8I7yx2c9/QmfnEBNdsk1HeYG0TA9k9G+IZ//hHhexciYY1Yxs7bcYIxXXitlytgjYdpcoohcIJDxkUNR1UwdxiFMR9wE11TtWLIxrLGWJUCKkCjrvu/jCd8aTao8Tone+1jjXXaCeLn0UGdMmMYa35McVqJ7vTqv9JzvROOk2Bo8lsudAmO6FSYQ1Wn4xjAwbhseiqVWslOF+Auc83N4koPF8/+RgiCL+eps4TPgWBS9HAdT4L8WlIVijtQrnOH0iIOu+gKiGhv2lh1A+/RRpXHoBeZ78Na5GgcZ4guRynEbpATVsa4Rvv3YP0ZmyxnWqnm0fyegCO7JRCxmb6c9prrjYNRWlBO8cJKqLACC0f68Ftt9eODefeG8vmW+LGXpOCSJ6YsQEKaT/b9vjk2LFWb3y47uSnc9jy45z8w04JT1eEhRXNxFj4JsnMIvjtP1mpIbuPA1V1X2gUJOGLBFnq7NzRBcEQSV8tI7hHrSGoLTfMD3CWnCe/gIq03gkbB2nFDQpmVnadjaLEMN89iQh3DzTfhu6PztMene9F+1THeT8lCGEwnTyfgK2jlfwqXIjPv2jH4LgvNYy/ad+8CSkIJSyXV7yFeFUJfyYY9mnew/bDfoIUi+8q5Q8TGQmJBxUlDHCX/9xHMfCXgJRWVTED8xlJgZfLIuJIUtEP9I4jjAPmowpq8iaFJmZKZ+Ji1k0jRCAodzWs1yIjunuXBJTi13tNmu5YlR13UeGdb97Ur3qF9YM3BMz5EWGGA2RcSteAtRlJicgy0qiWD4vO05lURswWtYiJmc+M2IWYABqtKoyleYFrpqUs2n6ifOQ2fVW4wyAakqNalL9flSAxcWNqSfEFkN5gsW0FUlTMxfeJkS6wQ6A9fmpu1ItxhOpBcRZbJzeSAl1dcav/OhUT7fF7CNgMyZEDwhG3MVitUAV0CFU2Y1RQvEEfTvH3Pu88htNyri7SBZYYnGvOPnIjS6HOXq06BR13qv8XHUMGAMlrt1zG+OVVgfxkbFR4vzI9thxdFlgjMr0og6CaA4w3RsDwshRMw8dwG2xiqZrN+Bj1c5hmiukMcJrget+VmKJH7tYZLMsRuUqoEGw9BYv+g1G6dSD6Pf5XJ382DpAZojAuQPm8be6Jgra5vb6KqNtFgxsO+209Tj+afvnMrUciJH8PThZzzPZibcoiXgzCunVQYxu7sPeCozsXIwj66jh+6ychslpBPatQ/n7QL3YPtgvMDaHYG6ScQ8XXSF9P+kvR9RzwOnbE/EDRPvE80YUtMtfuzcxrr/mGlWB0ZbX2YTLkypx+G7elJSRCZqdWkwipDsZnDwRKd5zHfsgJ7B7yMZOcqrxwud++4HI2A7b1UyZEK6/NnMX4fYpCOI3xz8CMFQjr0gP9BEEZUSXcGNcdAZB+H9yHKcCtTgvpHbNowI8/9V82gAGxkxiTbkRGTdg9aRsxjNqQXfbMVBmTnUO3D7SMdwpNMRoVAAn0PuEGyDaCIF5+QvG4Ka0AaIpm+f1H9ZVvCdlNSh7Z1AyhnVqqotzderUIh75sV7UOKbaQsnNyPIfJ1H7MaAuLj6q1DdhBjr1REagpeJE+OZ1F3dsTveOpXs/7pPBzn8LIDwflRWjgd0Z3KyInaramAxIH7eDwvkBFsLXsL2Y0RwL8/w4b+MAITrsJY7zWG2zCu9JlRDhEPVKkFSdhs8WxphuHDQZRLCG8LIRbi++y4tNWkHo1gEpU0vr+wOkpSMGbfayLMZmV+xcsLTIOjVCUhPsVE8HQvuiyuxEL/zqu7xIMVptmb4tUBUBWQcHlHSWmCdlmzyM1IwudS2hljA7zI9m3O4WGqOYq9ULwWr5/F3GE4XAXJbUf/W6UvAIlEO+9WKHkZoRMb92zP7j1PSMbfka6kfBRGdC0l0tWOV3ZRqnoduODo/VSdoG2hDtkYvtrFgvPBqqWfSuP1Cq4YjYbayqa2fn7uHjA4SHTCQ8TOJzXxAQ84PWS3ZT1Rq+Q8GK0DCMfCf72Y67V1q5XJ0y/xbnZFvjVw8w/2O2RDbCJwJ6Dog6bfRY7QABInaEvLT55COEvdp19qs/NUK8FL1bBKzoe2WlF+lrUQ4ZhrYnDWOgU9bSQxdjhMAIISs7lz07uwrhWJ6IRvdcN8d4fI4UqE9TU3Y5T7XuX8RgXV9z3ukZkXs7daoY7ReJWqCMc8HwBHXkrt3YjkyvAtHdh9zRzsVO9VAqi9bQh+dggTPILfl1dron9s3F4ueEIL28dY7o8qK0vxSn6diRHEP47C6gudZICedR/4tCbmoeXh5Yp60YN+Fqiv2D+yuRqSv0fUi3t6vQdh1iduKN8W0G8KRikMI8S+nb/1inp8/yvjJy1cFBxgjXfmtoj748UxBMqL5qne1CvhvhDTdi8nTSv8G4rUpyWtQiGZTcxLYjdvQDCdtYuuBqZI+H/4fdH0jIEYG4SZspahXBmHM8/OjRImSq8WChz4992ATiDdi+7VcGKzX2uoM5GU1/nf3XPv1jgXH9JIslG/sAI/nwCUE9wJ3+tIwqmbEDWy3OE0cY6LR+kXZw5QwAIBhZO0CX4GwAKP/VaOIa4VNDZZbFbEaOvgMxEpoUhHEmtQeTvyJEl7TMTC2xFG+BeUHoCJJtp36Z0Sj2MlAjeiR9G8mT3WmCiq1x/jaLVZh/fD5w9S39SFjK21yQG93Gr28lOUf7z5hkEKCb4crf/ne2z0g3t28lOe36h8FBv6v1rSSntX8dFHrg4q3k582K5fY8/gcBUyCjt6REfwAAAABJRU5ErkJggg=="},1501:function(t,e,a){t.exports=a.p+"img/a.b09d72f8.png"},9271:function(t,e,a){t.exports=a.p+"img/b.31f25c85.png"},3537:function(t,e,a){t.exports=a.p+"img/c.2a14e55d.png"},6621:function(t,e,a){t.exports=a.p+"img/d.358cc75b.png"},4931:function(t,e,a){t.exports=a.p+"img/e.a33ef951.png"},5738:function(t,e,a){t.exports=a.p+"img/amana.b059c6ed.png"},9691:function(t,e,a){t.exports=a.p+"img/image-placeholder.38fc21e0.png"}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],n=t[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,n<o&&(o=n));if(l){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var n=Object.create(null);a.r(n);var o={};t=t||[null,e({}),e([]),e(e)];for(var l=2&i&&s;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){o[t]=function(){return s[t]}}));return o["default"]=function(){return s},a.d(n,o),n}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,s){return a.f[s](t,e),e}),[]))}}(),function(){a.u=function(t){return"js/"+t+"."+{128:"42fac0da",269:"85e94e4d",463:"3ee7e934",617:"30808edc",888:"9a5a624a"}[t]+".js"}}(),function(){a.miniCssF=function(t){return"css/"+t+".783c830f.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="amana-pay-project:";a.l=function(s,i,n,o){if(t[s])t[s].push(i);else{var l,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==e+n){l=d;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",e+n),l.src=s),t[s]=[i];var p=function(e,a){l.onerror=l.onload=null,clearTimeout(m);var i=t[s];if(delete t[s],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((function(t){return t(a)})),e)return e(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,s,i){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var o=function(a){if(n.onerror=n.onload=null,"load"===a.type)s();else{var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.href||e,r=new Error("Loading CSS chunk "+t+" failed.\n("+l+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=o,r.request=l,n.parentNode&&n.parentNode.removeChild(n),i(r)}};return n.onerror=n.onload=o,n.href=e,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],n=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===t||n===e))return i}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){i=o[s],n=i.getAttribute("data-href");if(n===t||n===e)return i}},s=function(s){return new Promise((function(i,n){var o=a.miniCssF(s),l=a.p+o;if(e(o,l))return i();t(s,l,null,i,n)}))},i={143:0};a.f.miniCss=function(t,e){var a={463:1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=s(t).then((function(){i[t]=0}),(function(e){throw delete i[t],e})))}}}(),function(){var t={143:0};a.f.j=function(e,s){var i=a.o(t,e)?t[e]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise((function(a,s){i=t[e]=[a,s]}));s.push(i[2]=n);var o=a.p+a.u(e),l=new Error,r=function(s){if(a.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,i[1](l)}};a.l(o,r,"chunk-"+e,e)}},a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,o=s[0],l=s[1],r=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(r)var u=r(a)}for(e&&e(s);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkamana_pay_project"]=self["webpackChunkamana_pay_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(4321)}));s=a.O(s)})();
//# sourceMappingURL=app.54e606f0.js.map