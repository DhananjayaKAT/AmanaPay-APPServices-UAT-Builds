(function(){"use strict";var e={5326:function(e,t,a){a.d(t,{Z:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cover-spin",attrs:{id:"fullScreenLoader"}})},i=[],n={name:"FullScreenLoader"},o=n,l=a(1001),r=(0,l.Z)(o,s,i,!1,null,null,null),c=r.exports},2394:function(e,t,a){let s;a.d(t,{$:function(){return s}}),s={$api_url:"https://apay-test.paymediasolutions.com:5000",$api_url_internal:"https://uatlankaremitv2.lankapay.net:7016",timeoutDuration:9e4},s.canAccessInternally=!0,s.internalWebPort="7027",s.version="1.0",s.year="2023"},7357:function(e,t,a){a(3429);var s=a(1542),i=a(1806),n=a(9613);const o={status:{valid:"valid",invalid:"invalid",expired:"expired",margin:"margin"},loadToken:function(){try{let e=null;const t=localStorage.getItem("token"),a=this.parseJwt(t),s=this.validateJwt(a);switch(s){case this.status.valid:e={token:t,jwtObj:a};break;case this.status.margin:e={token:t,jwtObj:a},setTimeout((()=>{this.refreshJwt().then()}),5e3);break;case this.status.expired:console.error("Token expired!"),this.logoutTheUser();break;case this.status.invalid:console.error("Token invalid!"),this.logoutTheUser();break}return e}catch(e){return console.error(e.message),this.logoutTheUser(),null}},saveToken:function(e){try{this.parseJwt(e),this.parseJwt(e)?(localStorage.setItem("token",e),localStorage.setItem("isTokenRefreshing","false")):console.error("Failed to parse token.")}catch(t){console.error("Token save failed:",t)}},validateToken:function(){try{let e=!0;const t=localStorage.getItem("token"),a=this.parseJwt(t),s=this.validateJwt(a);switch(s){case this.status.valid:e=!0;break;case this.status.margin:e=!0;break;case this.status.expired:console.error("Token expired!"),this.logoutTheUser(),e=!1;break;case this.status.invalid:console.error("Token invalid!"),this.logoutTheUser(),e=!1;break}return e}catch(e){return console.error(e.message),this.logoutTheUser(),!1}},parseJwt:function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){throw console.error("Token parsing failed:",t),t}},validateJwt:function(e){try{let t=this.status.valid;const a=e.iat,s=e.exp,i=e.rfh,n=Date.now()/1e3,o=n-a;return n>=s&&(t=this.status.expired),o>=i/1e3&&(t=this.status.margin),t}catch{return this.status.invalid}},refreshJwt:async function(){const e=this,t=localStorage.getItem("isTokenRefreshing");"false"===t&&(console.log("Refreshing token..."),localStorage.setItem("isTokenRefreshing","true"),await n.Z.apiRequest("api/auth/token",{},(function(t){if(200===t.statusCode){let a=t.data.token;e.saveToken(a)}})))},logoutTheUser:function(e=!1){if(null!=localStorage.getItem("token")&&localStorage.removeItem("token"),"Login"!==s.Z.currentRoute.name)if(e)s.Z.replace({path:"/login"}).then(null);else{const e={type:"is-warning",message:"Session expired!. Please login again"};i.V.open(e),setTimeout((()=>{s.Z.replace({path:"/login"}).then(null)}),100)}}};t.Z=o},4339:function(e,t,a){a.d(t,{Y:function(){return i}});var s=a(4956);class i{constructor(e,t,a,i=!1){(0,s.Z)(this,"value",""),(0,s.Z)(this,"regex",/^[\S\d]+$/),(0,s.Z)(this,"message",""),(0,s.Z)(this,"errorMessage","This field is invalid"),(0,s.Z)(this,"class",""),(0,s.Z)(this,"errorClass","is-danger"),(0,s.Z)(this,"skipValidation",!1),this.regex=e||this.regex,this.errorMessage=t||this.errorMessage,this.value=a||this.value,this.skipValidation=i}validate(e=null){return console.log(this),!!this.skipValidation||(!!this.regex.test(this.value)||(this.class=this.errorClass,this.message=null===e?this.errorMessage:e,!1))}invalidate(e){this.class=this.errorClass,this.message=e||this.errorMessage}blur(){this.class="",this.message=""}}},4321:function(e,t,a){var s=a(6369),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],o={name:"App"},l=o,r=a(1001),c=(0,r.Z)(l,i,n,!1,null,null,null),u=c.exports,d=a(1542),p=a(4239),m=a(4833),b=(a(7885),a(560),a(8892)),f=a(7357);const v={timer:null,start:function(e=5e3){stop(),null===this.timer&&(this.timer=setInterval(this.checkToken,e))},checkToken:function(e=5e3){f.Z.validateToken(),null!==this.timer&&setInterval(this.checkToken,e)},stop:function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}};var g=v;const h={name:"GlobalMixin",created:function(){},data(){return{regex:{passwordValidation:/((?=(.*\d))(?=(.*[a-z]){2})(?=(.*[A-Z]){2})(?=(.*[@#$!%*?&()[\]{}\-_+=|/\\:;"<>])))=?([\w@#$!%*?&()[\]{}\-_+=|/\\:;"<>]{8,16})/,nameValidation:/^([A-Za-z\d]+\s?[A-Za-z\d]*){3,}$/,addressValidation:/^[A-Za-z\d@$!%*?&]{3,}[\w\W]+$/,contactValidation:/^\d{4,32}$/,websiteValidation:/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?)((?:\/[+~%/.\w-_]*)?\??#?)?)$/,singleWordValidation:/^\w+$/,multiWordValidation:/^[\w\s]+$/,decimalValidation:/^\d+(.\d+)?$/,emptyOrWebsite:/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?|(?:www.|[-;:&=+$,\w]+@)[A-Za-z\d.-]+)((?:\/[+~%/.\w-_]*)?\??#?)?)$|^$/}}},props:{},methods:{showFullScreenLoader(){document.getElementById("fullScreenLoader").style.display="block"},hideFullScreenLoader(){setTimeout((()=>{document.getElementById("fullScreenLoader").style.display="none"}),200)},hasPermission:function(e){return b.Z.hasPermission(e)},isSuperAdmin:function(){return b.Z.hasSuperPermission()},authUser:function(){return b.Z.authUser()},navigateTo:function(e,t=null){d.Z.currentRoute.name!==e&&(null!==t?d.Z.push({name:e,params:t}).then(null):d.Z.push({name:e}).then(null))},startTokenTimer:function(e){e?g.start(e):g.start()},stopTokenTimer:function(){g.stop()},vhToPixels:function(e){return Math.round(window.innerHeight/(100/e))+"px"},getDateTimeForDisplaying:function(e){let t=new Date(e);return this.isValidDate(t)?t.toLocaleString():"-"},isValidDate:function(e){return e instanceof Date&&!isNaN(e)},formatDate:function(e){let t=new Date(e),a=""+(t.getMonth()+1),s=""+t.getDate(),i=t.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},formatDateTime:function(e){let t=new Date(e),a=""+(t.getMonth()+1),s=""+t.getDate(),i=t.getFullYear(),n=""+t.getHours(),o=""+t.getMinutes(),l=""+t.getSeconds();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),l.length<2&&(l="0"+l),[i,a,s].join("-")+"T"+[n,o,l].join(":")},numberWithCommas:function(e){return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},generateRandomPassword:function(){const e=Math.floor(8*Math.random())+8;let t="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="abcdefghijklmnopqrstuvwxyz",i="0123456789",n='@#$!%*?&()[]{}-_+=|/:;"<>?',o=a+s+i+n,l=o.length,r=Math.floor(Math.random()*(a.length-1))+1,c=Math.floor(Math.random()*(e-1))+1,u=a[r],d=Math.floor(Math.random()*(s.length-1))+1,p=Math.floor(Math.random()*(e-1))+1,m=s[d],b=Math.floor(Math.random()*(i.length-1))+1,f=Math.floor(Math.random()*(e-1))+1,v=i[b],g=Math.floor(Math.random()*(n.length-1))+1,h=Math.floor(Math.random()*(e-1))+1,_=n[g],y=Math.floor(Math.random()*(a.length-1))+1,w=Math.floor(Math.random()*(e-1))+1,C=a[y],D=Math.floor(Math.random()*(s.length-1))+1,k=Math.floor(Math.random()*(e-1))+1,S=s[D];for(let x=0;x<e;x++)x===c&&(t+=u),x===p&&(t+=m),x===f&&(t+=v),x===h&&(t+=_),x===w&&(t+=C),x===k&&(t+=S),t+=o.charAt(Math.floor(Math.random()*l));return t}}};var _=h,y=a(1970);s.ZP.config.productionTip=!1,s.ZP.use(m.ZP),s.ZP.mixin(_),s.ZP.use(y,{load:{key:"AIzaSyBOgPcz0lMH325jBnqVdX7tuaST1V9QIuw",libraries:"places"},installComponents:!0}),new s.ZP({router:d.Z,store:p.Z,render:e=>e(u)}).$mount("#app")},8892:function(e,t,a){var s=a(7357);const i={hasPermission:function(e){try{let t=!1;const a=s.Z.loadToken(),i=a.jwtObj,n=JSON.parse(i.permissions);return this.hasSuperPermission()?t=!0:n.forEach((function(a){a===e&&(t=!0)})),t}catch{return!1}},hasSuperPermission:function(){let e=!1;const t=s.Z.loadToken(),a=t.jwtObj,i=JSON.parse(a.permissions);return i.forEach((function(t){"super-permission"===t&&(e=!0)})),e},authUser:function(){const e=s.Z.loadToken();return e.jwtObj}};t.Z=i},9613:function(e,t,a){var s=a(4956),i=a(7357),n=a(4161),o=a(2394);class l{constructor(){(0,s.Z)(this,"statusCode",void 0),(0,s.Z)(this,"data",void 0),this.statusCode=0,this.data=null}}const r={apiRequest:function(e,t,a,s=!0){console.log(window.location.host);let r=o.$.$api_url+"/"+e;o.$.canAccessInternally&&window.location.host.includes(":"+o.$.internalWebPort)&&(r=o.$.$api_url_internal+"/"+e),console.log(r);let c={headers:{},timeout:o.$.timeoutDuration};s&&(c.headers={Authorization:`Bearer ${i.Z.loadToken().token}`,"Content-Type":"application/json"}),n.Z.post(r,t,c).then((function(e){a(e.data)})).catch((function(e){let t=new l;console.log(e),e.response?(t.statusCode=e.response.status,e.response.data&&(t=e.response.data),401===t.statusCode&&i.Z.logoutTheUser()):t.statusCode=502,a(t)}))}};t.Z=r},1542:function(e,t,a){a.d(t,{Z:function(){return gn}});var s=a(6369),i=a(2631);function n(e,t,a){const s=t[a];return s?()=>{s({...e,next:n(e,t,a+1)})}:e.next}var o=a(4239),l=function(){var e=this,t=e._self._c;return t("section",[t("nav-bar"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-one-fifth"},[t("side-bar",{staticStyle:{height:"90vh"}})],1),t("div",{staticClass:"column"},[t("app-main",{staticClass:"card app-main"})],1)])],1)},r=[],c=function(){var e=this,t=e._self._c;return t("section",{staticClass:"app-main",staticStyle:{margin:"0",width:"100%"}},[t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t("div",{staticClass:"container",staticStyle:{width:"100%"}},[t("full-screen-loader"),t("router-view",{key:e.key})],1)])],1)},u=[],d=a(5326),p={name:"AppMain",components:{FullScreenLoader:d.Z},computed:{key(){return this.$route.path}}},m=p,b=a(1001),f=(0,b.Z)(m,c,u,!1,null,null,null),v=f.exports,g=function(){var e=this,t=e._self._c;return t("b-navbar",{staticStyle:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"},scopedSlots:e._u([{key:"brand",fn:function(){return[t("div",[t("b-navbar-item",{staticClass:"pl-10",attrs:{tag:"router-link",to:{path:"/dashboard"}}},[t("img",{staticClass:"pl-5",staticStyle:{height:"500px",width:"auto"},attrs:{src:a(5738)}})])],1)]},proxy:!0},{key:"end",fn:function(){return[t("b-navbar-item",{attrs:{tag:"div"}},[t("b-icon",{attrs:{icon:"account-circle",size:"is-medium"}}),t("b-navbar-dropdown",{attrs:{label:e.getUsername}},[t("b-navbar-item",{on:{click:function(t){return e.logout()}}},[e._v(" Logout ")])],1)],1)]},proxy:!0}])})},h=[],_=a(7357),y={name:"NavBar",data(){return{user:null}},computed:{getUsername(){return null!==this.user?this.user.username:"User"}},methods:{logout:function(){_.Z.logoutTheUser(!0)}},mounted(){this.user=_.Z.loadToken().jwtObj}},w=y,C=(0,b.Z)(w,g,h,!1,null,"a6094ee4",null),D=C.exports,k=function(){var e=this,t=e._self._c;return e.isSidebarOpen?t("b-sidebar",{staticClass:"b-sidebar",attrs:{position:"static",mobile:e.mobile,"expand-on-hover":e.expandOnHover,reduce:e.reduce,delay:e.expandWithDelay?500:null,type:"is-white",fullheight:"",open:""}},[t("div",{staticClass:"p-1"},[t("b-menu",{staticClass:"is-custom-mobile p-4",staticStyle:{"text-align":"left"},attrs:{activable:!1}},[t("b-menu-list",{staticStyle:{"text-align":"left"},attrs:{label:"Menu"}},e._l(e.menuItems,(function(a){return t("div",{key:a.id},[a.isVisible()?t("b-menu-item",{attrs:{icon:a.meta.icon,label:a.meta.title,active:!(a.children.length>1)&&a.meta.isActive,expanded:a.meta.isActive},on:{click:function(t){e.menuClick(a.redirect())}}},e._l(a.children,(function(a){return t("div",{key:a.id},[a.isVisible()?t("b-menu-item",{attrs:{icon:a.meta.icon,label:a.meta.title,active:a.meta.isActive},on:{click:function(t){return e.menuClick(a.name)}}}):e._e()],1)})),0):e._e()],1)})),0)],1)],1)]):e._e()},S=[],x=(a(560),a(4956));class P{constructor(){(0,x.Z)(this,"name",""),(0,x.Z)(this,"redirect",""),(0,x.Z)(this,"isVisible",(()=>!0)),(0,x.Z)(this,"meta",{type:"",icon:"",title:"",isActive:!1}),(0,x.Z)(this,"children",[])}}var I={name:"SideBar",data(){return{expandOnHover:!1,expandWithDelay:!1,mobile:"reduce",reduce:!1,currentRoute:this.$router.currentRoute,isSidebarOpen:!0,menuItems:[]}},methods:{checkPermissions:function(){},menuClick:function(e){null!==e&&void 0!==e&&""!==e&&this.navigateTo(e)},loadMenuItems:function(){this.menuItems=[];for(let e=0;e<fn.length;e++){let t=fn[e];if(t.meta&&"menu"===t.meta.type){let e=new P;e.name=t.name,e.isVisible=t.isVisible,e.redirect=t.redirect,e.meta=t.meta,e.meta.isActive=!1,t.children.forEach((function(t){"menu-item"===t.meta.type&&(t.meta.isActive=!1,e.children.push(t))})),this.menuItems.push(e)}}},checkScreenWidth(){this.isSidebarOpen=window.innerWidth>768}},watch:{$route(e){console.log("Route changed to: "+e.name);let t=null;this.menuItems.forEach((function(a){a.redirect===e.name?t=a:a.meta.isActive=!1,null!==a.children&&void 0!==a.children&&a.children.forEach((function(s){s.name===e.name?(s.meta.isActive=!0,t=a):(s.meta.isActive=!1,a.meta.isActive=!1)}))})),null!==t&&(console.log(t.name),t.meta.isActive=!0)}},beforeDestroy(){window.removeEventListener("resize",this.checkScreenWidth)},mounted(){this.loadMenuItems(),this.$router.push({path:this.$router.currentRoute.path+"#"}),this.checkScreenWidth(),window.addEventListener("resize",this.checkScreenWidth)}},T=I,A=(0,b.Z)(T,k,S,!1,null,null,null),R=A.exports,O={name:"layoutPage",components:{AppMain:v,NavBar:D,SideBar:R},mounted(){const e=this;setTimeout((()=>{e.hideFullScreenLoader()}),500)}},L=O,F=(0,b.Z)(L,l,r,!1,null,"cf162a9e",null),N=F.exports;function z({next:e}){return _.Z.loadToken(),e()}var U=a(8892),E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"block"},[t("div",{staticStyle:{"overflow-y":"auto","overflow-x":"hidden"}},[t("div",{staticClass:"container",staticStyle:{height:"78vh",width:"75vw"}},[t("TransactionCounts"),t("div",{staticClass:"columns"},[t("div",{staticClass:"column s-half"},[t("AllTransactions")],1),t("div",{staticClass:"column",staticStyle:{width:"500px"}},[t("TransactionsChart")],1)]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-one-fifths"},[t("AppUsersChart")],1),t("div",{staticClass:"column"},[t("CurrencyTransactionsLineChart")],1)]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("OverallTransactionsBarChart")],1)])],1)])])},$=[],Z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"300px"}},[t("div",{staticClass:"card-content"},[t("div",{staticClass:"columns",staticStyle:{width:"80%"}},[t("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[e._v("All Transactions")]),t("div",{staticClass:"column is-flex is-align-items-center margin-right: 10px"},[t("b-field",[t("b-datepicker",{attrs:{disabled:e.isTableLoading,"mobile-native":!1,range:""},on:{input:e.loadData},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("span",{staticStyle:{color:"#01635D","margin-right":"5px"}},[t("b",[e._v("Custom")])]),t("b-icon",{staticStyle:{color:"#01635D"},attrs:{icon:"calendar-month-outline","custom-color":"blueviolet","aria-hidden":"true","aria-label":"Calendar icon"}})],1)]},proxy:!0}]),model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1)],1),t("div",{staticClass:"column"},[t("b-dropdown",{staticClass:"is-pulled-right",attrs:{disabled:e.isTableLoading,"aria-role":"list"},on:{change:e.loadData},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("b-button",{staticStyle:{border:"none","box-shadow":"none","font-size":"14px"},attrs:{type:"is-primary",size:"is-small","icon-right":"menu-down",outlined:""}},[t("b",[e._v(e._s(e.selectedFilter.text))])])]},proxy:!0}]),model:{value:e.selectedFilter,callback:function(t){e.selectedFilter=t},expression:"selectedFilter"}},e._l(e.filters,(function(a){return t("b-dropdown-item",{key:a.id,attrs:{value:a,"aria-role":"listitem"}},[t("span",[e._v(e._s(a.text))])])})),1)],1)]),t("div",{staticClass:"card-content"},[t("b-table",{attrs:{height:e.vhToPixels(30),loading:e.isTableLoading,data:e.data,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","page-input":e.hasInput,"page-input-position":e.inputPosition,"debounce-page-input":e.inputDebounce},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"type",label:"Type",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.type)+" ")]}}])}),t("b-table-column",{attrs:{field:"amount",label:"Amount((LKR)",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.amount)+" ")]}}])})],1)],1)])])},V=[],q=a(9613);const B=new Date;var j={name:"AllTransactions",data(){return{dateRange:[B,B],selectedFilter:{value:7,text:"Last Year"},filters:[{value:7,text:"This Week"},{value:14,text:"Last Two Weeks"},{value:30,text:"Last Month"},{value:90,text:"Last Three Months"},{value:365,text:"Last Year"},{value:0,text:"Custom"}],tableHeaders:[],isTableLoading:!1,data:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:""}},watch:{dateRange(){this.selectedFilter={value:0,text:"Custom"}}},methods:{formatDate:function(e){let t=new Date(e),a=""+(t.getMonth()+1),s=""+t.getDate(),i=t.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[i,a,s].join("-")},loadData:function(){const e=this;e.isTableLoading=!0,setTimeout((()=>{const t={range:e.selectedFilter.value,fromDate:e.formatDate(e.dateRange[0]),toDate:e.formatDate(e.dateRange[1])};q.Z.apiRequest("api/dashboard/totalTransactionValues",t,(function(t){200===t.statusCode&&(e.data=t.data.transactions),e.isTableLoading=!1}))}),200)}},mounted(){this.loadData()}},M=j,H=(0,b.Z)(M,Z,V,!1,null,"61a62182",null),Y=H.exports,G=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"370px"}},[t("div",{staticClass:"card-content"},[e._m(0),t("vue-apex-charts",{ref:"donutChart",attrs:{type:"donut",height:"250",options:e.chartOptions,series:e.chartSeries}})],1)])},K=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-content"},[t("div",{staticClass:"columns",staticStyle:{width:"60%"}},[t("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[e._v("Transactions")])])])}],W=a(3373),J=a.n(W),X={name:"TransactionsChart",components:{VueApexCharts:J()},data(){return{chartSeries:[65,34,65,65],chartOptions:{chart:{zoom:{enabled:!1},toolbar:{show:!1}},labels:["Send Money","Bill Payments","Thayga","E-Channeling"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{text:""},grid:{row:{colors:["#00534E","#00534E"],opacity:.5}},xaxis:{categories:[],title:{text:"Months"}},yaxis:{title:{text:"Number of Allowances"}},legend:{position:"right"}}}},methods:{loadData:function(){const e=this;q.Z.apiRequest("api/dashboard/getTotalTransactionsByMonth",{},(function(t){200===t.statusCode&&(e.chartSeries=t.data.transactions,e.chartOptions.labels=t.data.monthNames)}))}},mounted(){this.loadData()}},Q=X,ee=(0,b.Z)(Q,G,K,!1,null,"c47c5756",null),te=ee.exports,ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{margin:"10px","min-height":"370px"}},[t("div",{staticClass:"card-content"},[e._m(0),t("vue-apex-charts",{ref:"pieChart",attrs:{type:"pie",height:"250",options:e.chartOptions,series:e.chartSeries}})],1)])},se=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns ml-5",staticStyle:{width:"90%"}},[t("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[e._v(" App Users ")])])}];const ie=new Date;var ne={name:"AppUsersChart",components:{VueApexCharts:J()},data(){return{dateRange:[ie,ie],selectedFilter:{value:7,text:"Last Year"},filters:[{value:7,text:"This Week"},{value:14,text:"Last Two Weeks"},{value:30,text:"Last Month"},{value:90,text:"Last Three Months"},{value:365,text:"Last Year"},{value:0,text:"Custom"}],chartSeries:[],chartOptions:{chart:{zoom:{enabled:!1},toolbar:{show:!1}},labels:[],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},title:{text:""},grid:{row:{colors:["#00534E","#00534E"],opacity:.5}},xaxis:{categories:[],title:{text:"Months"}},yaxis:{title:{text:"Number of Allowances"}},legend:{position:"right"}}}},methods:{loadData:function(){const e=this;q.Z.apiRequest("api/dashboard/getAppUsersByCountry",{},(function(t){200===t.statusCode&&(e.chartSeries=t.data.counts,e.$refs.pieChart.updateOptions({labels:t.data.countries}))}))}},mounted(){this.loadData()}},oe=ne,le=(0,b.Z)(oe,ae,se,!1,null,"59050dab",null),re=le.exports,ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{margin:"10px"}},[t("div",{staticClass:"card-content"},[e._m(0),t("vue-apex-charts",{ref:"barChart",attrs:{type:"bar",width:"500",height:"260",options:e.chartOptions,series:e.series}})],1)])},ue=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns ml-5",staticStyle:{width:"90%"}},[t("div",{staticClass:"column is-two-thirds",staticStyle:{"font-weight":"bold"}},[e._v(" Currency Transactions ")])])}],de={name:"CurrencyTransactionsBarChart",components:{VueApexCharts:J()},data(){return{series:[{name:"Amount",data:[]}],chartOptions:{chart:{height:500,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{dataLabels:{position:"bottom"},colors:{colors:["#027D75"]}}},xaxis:{currencies:[]},title:{text:""}}}},methods:{loadData:function(){const e=this;q.Z.apiRequest("api/dashboard/currencyWiseTransactionValues",{},(function(t){200===t.statusCode&&(e.series=[{name:"Amount",data:t.data.amounts}],e.$refs.barChart.updateOptions({xaxis:{currencies:t.data.currencies}}))}))}},mounted(){this.loadData()}},pe=de,me=(0,b.Z)(pe,ce,ue,!1,null,"5ccf346e",null),be=me.exports,fe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",staticStyle:{margin:"10px"}},[e._m(0),t("div",{staticClass:"card-content"},[t("vue-apex-charts",{ref:"barChart",attrs:{type:"bar",width:"90%",height:"350",options:e.chartOptions,series:e.chartSeries}})],1)])},ve=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-content"},[t("div",{staticClass:"columns",staticStyle:{width:"60%"}},[t("div",{staticClass:"column is-two-thirds ml-5",staticStyle:{"font-weight":"bold"}},[e._v(" Overall Transactions ")])])])}],ge={name:"CurrencyTransactionsBarChart",components:{VueApexCharts:J()},data(){return{chartSeries:[],chartOptions:{chart:{height:500,type:"bar"},plotOptions:{bar:{dataLabels:{position:"bottom"}}},xaxis:{categories:[]},title:{text:""}}}},methods:{loadData:function(){const e=this;q.Z.apiRequest("api/dashboard/getTotalTransactionsByMonth",{},(function(t){200===t.statusCode&&(e.chartSeries=t.data.transactions.map((e=>({name:e.name,data:e.data}))),e.$refs.barChart.updateOptions({xaxis:{categories:t.data.monthNames}}))}))}},mounted(){this.loadData()}},he=ge,_e=(0,b.Z)(he,fe,ve,!1,null,"033d1c0d",null),ye=_e.exports,we=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card",staticStyle:{"margin-left":"10px","margin-right":"10px"}},[t("div",{staticClass:"columns mt-2 pt-4",staticStyle:{"margin-left":"24px","margin-right":"24px"}},[t("div",{staticClass:"column is-half"},[t("div",{staticClass:"card card-content",staticStyle:{"margin-left":"10px","margin-right":"10px",height:"90px"}},[t("div",{staticClass:"columns is-align-center"},[t("div",{staticClass:"column is-two-thirds"},[t("p",[t("b",[e._v("Total Remittance Transactions(USD)")]),t("br"),t("span",{staticStyle:{"margin-left":"18px",color:"#0a341a","font-weight":"bold"}},[e._v(e._s(e.tranData.ceftTransactions))])])]),e._m(0)])])]),t("div",{staticClass:"column is-half"},[t("div",{staticClass:"card card-content",staticStyle:{"margin-left":"10px","margin-right":"10px",height:"90px"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-two-thirds"},[t("p",[t("b",[e._v("Total Value of Transactions(LKR)")]),t("br"),t("span",{staticStyle:{"margin-left":"18px",color:"#0a341a","font-weight":"bold"}},[e._v(e._s(e.tranData.totalCeftValueLKR))])])]),e._m(1)])])])]),t("div",{staticClass:"section pt-0"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content has-text-centered"},[t("div",{staticStyle:{height:"100px"}},[t("img",{staticStyle:{height:"50px"},attrs:{src:a(1501)}}),e._m(2),t("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(" "+e._s(e.tranData.ceftTransactions)+" ")])])])])]),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content has-text-centered"},[t("div",{staticStyle:{height:"100px"}},[t("img",{staticStyle:{height:"50px"},attrs:{src:a(9271)}}),e._m(3),t("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(" "+e._s(e.tranData.billTransactions)+" ")])])])])]),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content has-text-centered"},[t("div",{staticStyle:{height:"100px"}},[t("img",{staticStyle:{height:"50px"},attrs:{src:a(3537)}}),e._m(4),t("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(" "+e._s(e.tranData.ecTransactions)+" ")])])])])]),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content has-text-centered"},[t("div",{staticStyle:{height:"100px"}},[t("img",{staticStyle:{height:"50px"},attrs:{src:a(6621)}}),e._m(5),t("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(" "+e._s(e.tranData.thyagaTransactions)+" ")])])])])]),t("div",{staticClass:"column"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content has-text-centered"},[t("div",{staticStyle:{height:"100px"}},[t("img",{staticStyle:{height:"50px"},attrs:{src:a(4931)}}),e._m(6),t("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v(" "+e._s(e.tranData.appUsers)+" ")])])])])])])])])])},Ce=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"coloum"},[t("img",{staticStyle:{height:"30px","margin-top":"20%","margin-left":"25%"},attrs:{src:a(9426)}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"coloum"},[t("img",{staticStyle:{height:"40px","margin-top":"20%","margin-left":"25%"},attrs:{src:a(5701)}})])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[e._v(" Total "),t("br"),e._v("Remittances ")])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[e._v(" Total "),t("br"),e._v("Bill Payments ")])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[e._v(" Total "),t("br"),e._v("EChannelling ")])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[e._v(" Total "),t("br"),e._v("Thyaga ")])},function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"font-weight":"bold","font-size":"12px"}},[e._v(" Total "),t("br"),e._v("Users ")])}],De={name:"TransactionCounts",data(){return{tranData:{ceftTransactions:0,billTransactions:0,thyagaTransactions:0,ecTransactions:0,appUsers:0,totalCeftValueLKR:0}}},methods:{loadData:function(){const e=this;q.Z.apiRequest("api/dashboard/totalCountsAndValues",{},(function(t){200===t.statusCode&&(e.tranData=t.data)}))}},mounted(){this.loadData()}},ke=De,Se=(0,b.Z)(ke,we,Ce,!1,null,"7726106a",null),xe=Se.exports,Pe={name:"DashboardApay",components:{AllTransactions:Y,TransactionsChart:te,CurrencyTransactionsLineChart:be,AppUsersChart:re,OverallTransactionsBarChart:ye,TransactionCounts:xe}},Ie=Pe,Te=(0,b.Z)(Ie,E,$,!1,null,null,null),Ae=Te.exports,Re=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Users")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("user-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("CreateUser")}}},[e._v("Create User")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("user-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.users,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"name",centered:"",label:"Name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"email",centered:"",label:"Email",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"contact_number",centered:"",label:"Contact Number",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.contact_number.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"username",centered:"",label:"Username",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.username.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"branch",centered:"",label:"Branch",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.branch.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"status",centered:"",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:("Active"===a.row.status.value?"is-success":"is-danger")+" is-light"}},[e._v(e._s(a.row.status.value))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at.value).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at.value).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked.value?t("div",{staticClass:"buttons"},[e.hasPermission("user-edit")?t("b-tooltip",{attrs:{label:"Edit"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("EditUser",{id:a.row.id.value})}}})],1):e._e(),t("b-tooltip",{attrs:{label:"Change Password",position:"is-left"}},[e.hasPermission("user-password-reset")?t("b-button",{attrs:{type:"is-info",size:"is-small","icon-left":"rotate-3d-variant"},on:{click:function(t){return e.onChangePasswordClick(a.row.username)}}}):e._e()],1)],1):t("b-tooltip",{attrs:{label:"Locked"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),t("br"),t("b-modal",{attrs:{"has-modal-card":"","can-cancel":!1,"trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Example Modal","close-button-aria-label":"Close","aria-modal":""},model:{value:e.isPwChangeModalActive,callback:function(t){e.isPwChangeModalActive=t},expression:"isPwChangeModalActive"}},[[t("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v("Change Password")])]),t("section",{staticClass:"modal-card-body"},[t("b-field",{attrs:{horizontal:"",type:e.newPassword.class,message:e.newPassword.message}},[t("template",{slot:"label"},[e._v("Password"),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.newPassword.class,grouped:""}},[t("b-input",{on:{blur:function(t){return e.newPassword.blur()}},model:{value:e.newPassword.value,callback:function(t){e.$set(e.newPassword,"value",t)},expression:"newPassword.value"}}),t("p",{staticClass:"control"},[t("button",{staticClass:"button is-primary",on:{click:e.generatePassword}},[e._v("Generate")])]),t("p",{staticClass:"control"},[t("button",{staticClass:"button is-primary",on:{click:e.copyToClipboard}},[e._v("Copy")])])],1)],2)],1),t("footer",{staticClass:"modal-card-foot"},[t("b-button",{attrs:{label:"Close"},on:{click:function(t){e.isPwChangeModalActive=!1}}}),t("b-button",{attrs:{loading:e.isPwChangeModalLoading,label:"Change",type:"is-primary"},on:{click:e.changePassword}})],1)])]],2)],1)},Oe=[],Le=function(){var e=this,t=e._self._c;return t("section",[e.data&&e.data.length>0?t("b-collapse",{staticClass:"card",staticStyle:{"margin-bottom":"20px"},attrs:{animation:"slide",open:!1},scopedSlots:e._u([{key:"trigger",fn:function(a){return[t("div",{staticClass:"card-header",staticStyle:{"background-color":"#01635D",color:"white"},attrs:{role:"button","aria-controls":"contentIdForA11y3","aria-expanded":a.open}},[t("p",{staticClass:"card-header-title",staticStyle:{color:"white"}},[e._v(" Change Requests "),t("b-tag",{staticStyle:{"margin-left":"5px",color:"#01635D","font-weight":"bold","border-radius":"25px"},attrs:{type:"is-white"}},[e._v(e._s(e.data.length))])],1),t("a",{staticClass:"card-header-icon"},[t("b-icon",{attrs:{icon:a.open?"menu-down":"menu-up"}})],1)])]}}],null,!1,3822930209)},[t("div",{staticClass:"card-content",attrs:{type:"is-primary"}},[t("div",[t("b-table",{attrs:{data:e.data,paginated:"","pagination-position":"bottom","per-page":"5"}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}}],null,!1,2818734045)}),t("b-table-column",{attrs:{field:"pendingAction",label:"Pending Action"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pendingAction)+" ")]}}],null,!1,2496415452)}),t("b-table-column",{attrs:{field:"requestedBy",label:"Requested By"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.requestedBy)+" ")]}}],null,!1,1755987702)}),t("b-table-column",{attrs:{field:"requestedTime",label:"Requested Time",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.requestedTime).toLocaleString())+" ")])]}}],null,!1,3964871459)}),t("b-table-column",{attrs:{label:"Action"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-right":"eye"},on:{click:function(t){return e.selectChangeRequest(a.row)}}},[e._v(" View ")])]}}],null,!1,3755948555)})],1)],1)]),t("footer",{staticClass:"card-footer"})]):e._e(),void 0===e.customChangeRequest?t("div",[t("change-request-approve-modal",{attrs:{"is-visible":e.isApproveModalActive,"change-request":e.selectedChangeRequest,"filter-out":e.filterOut,"is-loading":e.isLoading},on:{"close-modal":function(t){return e.closeApproveModal()},"approve-or-reject":e.approve_or_reject}})],1):e._e(),"providerCurrency"===e.customChangeRequest?t("div",[t("provider-currency-approve-modal",{attrs:{"is-visible":e.isApproveModalActive,"change-request":e.selectedChangeRequest,"filter-out":e.filterOut,"is-loading":e.isLoading},on:{"close-modal":function(t){return e.closeApproveModal()},"approve-or-reject":e.approve_or_reject}})],1):e._e()],1)},Fe=[],Ne=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{width:450,scroll:"keep",animation:"zoom-out","can-cancel":!1},model:{value:e.modelVisible,callback:function(t){e.modelVisible=t},expression:"modelVisible"}},[t("div",{staticClass:"model-card"},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v(e._s(e.modelHeader.type)),t("b-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:e.modelHeader.tagClass}},[e._v(e._s(e.modelHeader.tag))])],1),t("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close-modal")}}})]),t("div",{staticClass:"modal-card-body",staticStyle:{"max-height":"50vh","overflow-y":"auto"}},[t("div",{staticClass:"content pt-2"},e._l(e.fields,(function(a){return t("div",{key:a.id},["STRING"===a.newValue.type?t("div",[t("change-request-string-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):e._e(),"STRING_ARRAY"===a.newValue.type?t("div",[t("change-request-string-array-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):e._e(),"IMAGE"===a.newValue.type?t("div",[t("change-request-image-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):e._e(),"IMAGE_ARRAY"===a.newValue.type?t("div",[t("change-request-image-array-comparison-item",{attrs:{header:a.header,"new-value":a.newValue,"old-value":a.oldValue}})],1):e._e()])})),0)]),t("footer",{staticClass:"modal-card-foot"},[t("div",{staticClass:"is-full column py-0 px-0"},[t("div",{staticClass:"column"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"}),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{type:"is-primary is-small",loading:e.isLoading},on:{click:function(t){return e.$emit("approve-or-reject","approve")}}},[e._v("Approve")]),t("b-button",{attrs:{type:"is-danger is-small",loading:e.isLoading},on:{click:function(t){return e.$emit("approve-or-reject","reject")}}},[e._v("Reject")])],1)])])])])])])},ze=[],Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-right"},[t("p",{staticClass:"comparison-header"},[e._v(e._s(e.header)+" :")])]),t("div",{staticClass:"column is-half has-text-left"},[t("div",[e._v(e._s(e.newValue.value))]),void 0!==e.oldValue&&null!==e.oldValue&&e.oldValue.value!==e.newValue.value?t("div",{staticClass:"old-value"},[e._v(e._s(e.oldValue.value))]):e._e()])])},Ee=[],$e={name:"ChangeRequestStringComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{},mounted(){console.log(this.header)}},Ze=$e,Ve=(0,b.Z)(Ze,Ue,Ee,!1,null,"56bd9d2a",null),qe=Ve.exports,Be=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-right"},[t("p",{staticClass:"comparison-header"},[e._v(e._s(e.header)+" :")])]),t("div",{staticClass:"column is-half has-text-left"},[t("b-taglist",e._l(e.newValue.value,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[e._v(e._s(a))])})),1),void 0===e.oldValue||null===e.oldValue||e.isArrayEqual(e.oldValue.value,e.newValue.value)?e._e():t("b-taglist",{staticClass:"old-value"},e._l(e.oldValue.value,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[e._v(e._s(a))])})),1)],1)])},je=[],Me={name:"ChangeRequestStringArrayComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{isArrayEqual:function(e,t){let a=!0;if(e.length!==t.length)a=!1;else for(let s=0;s<e.length;s++)e[s]!==t[s]&&(a=!1);return a}}},He=Me,Ye=(0,b.Z)(He,Be,je,!1,null,"b03050e4",null),Ge=Ye.exports,Ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-right"},[t("p",{staticClass:"comparison-header"},[e._v(e._s(e.header)+" :")])]),t("div",{staticClass:"column is-half has-text-left"},[t("div",[t("p",[e._v("New Image")]),t("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:e.getImageUrl(e.newValue.value)}})]),void 0!==e.oldValue&&null!==e.oldValue&&e.oldValue.value!==e.newValue.value?t("div",{staticClass:"old-value"},[t("p",[e._v("Old Image")]),t("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:e.getImageUrl(e.oldValue.value)}})]):e._e()])])},We=[],Je=a(2394),Xe={name:"ChangeRequestImageComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{getImageUrl(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()}}},Qe=Xe,et=(0,b.Z)(Qe,Ke,We,!1,null,"73c7d3a3",null),tt=et.exports,at=function(){var e=this,t=e._self._c;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-half has-text-right"},[t("p",{staticClass:"comparison-header"},[e._v(e._s(e.header)+" :")])]),t("div",{staticClass:"column is-half has-text-left"},[t("div",[t("p",[e._v("New Images")]),t("div",{staticClass:"columns"},e._l(e.newValue.value,(function(a){return t("div",{key:a.id,staticClass:"column"},[t("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:e.getImageUrl(a)}})])})),0)]),void 0!==e.oldValue&&null!==e.oldValue&&e.oldValue.value!==e.newValue.value?t("div",{staticClass:"old-value"},[t("p",[e._v("Old Images")]),t("div",{staticClass:"columns"},e._l(e.oldValue.value,(function(a){return t("div",{key:a.id,staticClass:"column"},[t("img",{staticStyle:{"max-height":"70px"},attrs:{type:"is-primary is-light",src:e.getImageUrl(a)}})])})),0)]):e._e()])])},st=[],it={name:"ChangeRequestImageArrayComparisonItem",props:["header","newValue","oldValue"],data(){return{}},methods:{getImageUrl(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()}}},nt=it,ot=(0,b.Z)(nt,at,st,!1,null,"cfd96fb6",null),lt=ot.exports,rt={name:"ChangeRequestApproveModal",components:{ChangeRequestStringComparisonItem:qe,ChangeRequestStringArrayComparisonItem:Ge,ChangeRequestImageComparisonItem:tt,ChangeRequestImageArrayComparisonItem:lt},props:["changeRequest","isVisible","filterOut","isLoading"],emits:["close-modal","approve-or-reject"],data(){return{modelVisible:!1,fields:[],pendingActions:{CREATE:"is-success",EDIT:"is-warning",DELETE:"is-danger"}}},computed:{modelHeader(){let e="",t="",a="is-light ";return void 0!==this.changeRequest&&null!==this.changeRequest&&(e=this.changeRequest.type,t=this.changeRequest.pendingAction,a+=this.pendingActions[t]),{type:e,tag:t,tagClass:a}}},methods:{manipulateData:function(){const e=this;if(this.fields=[],void 0!==this.changeRequest&&null!==this.changeRequest){const t=this.changeRequest.newRecord,a=this.changeRequest.originalRecord,s=Object.entries(t).map((([e,t])=>({key:e,value:t})));s.forEach((function(s){let i={header:t[s.key].header,newValue:t[s.key],oldValue:void 0!==a&&null!==a?a[s.key]:void 0};e.excludeFromList(s.key)||e.fields.push(i)}))}},excludeFromList:function(e){if(null!==this.filterOut&&void 0!==this.filterOut){for(let t=0;t<this.filterOut.length;t++)if(e===this.filterOut[t])return!0;return!1}}},mounted(){},watch:{isVisible:function(e){this.modelVisible=e},changeRequest:function(){this.manipulateData()}}},ct=rt,ut=(0,b.Z)(ct,Ne,ze,!1,null,"a364c1a4",null),dt=ut.exports,pt=function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{width:450,scroll:"keep",animation:"zoom-out","can-cancel":!1},model:{value:e.modelVisible,callback:function(t){e.modelVisible=t},expression:"modelVisible"}},[t("div",{staticClass:"model-card"},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v(e._s(e.modelHeader.type)),t("b-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:e.modelHeader.tagClass}},[e._v(e._s(e.modelHeader.tag))])],1),t("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close-modal")}}})]),t("div",{staticClass:"modal-card-body",staticStyle:{"max-height":"50vh","overflow-y":"auto"}},[t("b-table",{attrs:{data:e.newRecord}},[t("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currency_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"transaction_rate",label:"Transaction Rate",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.transaction_rate))]),e.oldRecord[a.index].transaction_rate!==a.row.transaction_rate?t("div",{staticClass:"old-value"},[e._v(e._s(e.oldRecord[a.index].transaction_rate))]):e._e()]}}])}),t("b-table-column",{attrs:{field:"settlement_rate",label:"Settlement Rate",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(a.row.settlement_rate))]),e.oldRecord[a.index].settlement_rate!==a.row.settlement_rate?t("div",{staticClass:"old-value"},[e._v(e._s(e.oldRecord[a.index].settlement_rate))]):e._e()]}}])}),t("b-table-column",{attrs:{field:"disable",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))]),e.oldRecord[a.index].disabled!==a.row.disabled?t("div",{staticClass:"old-value"},[e._v(e._s(0===e.oldRecord[a.index].disabled?"Active":"Inactive"))]):e._e()]}}])})],1)],1),t("footer",{staticClass:"modal-card-foot"},[t("div",{staticClass:"is-full column py-0 px-0"},[t("div",{staticClass:"column"},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"}),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{type:"is-primary is-small",loading:e.isLoading},on:{click:function(t){return e.$emit("approve-or-reject","approve")}}},[e._v("Approve")]),t("b-button",{attrs:{type:"is-danger is-small",loading:e.isLoading},on:{click:function(t){return e.$emit("approve-or-reject","reject")}}},[e._v("Reject")])],1)])])])])])])},mt=[],bt={name:"ChangeRequestApproveModal",components:{},props:["changeRequest","isVisible","filterOut","isLoading"],emits:["close-modal","approve-or-reject"],data(){return{modelVisible:!1,fields:[],pendingActions:{CREATE:"is-success",EDIT:"is-warning",DELETE:"is-danger"},newRecord:[],oldRecord:[]}},computed:{modelHeader(){let e="",t="",a="is-light ";return void 0!==this.changeRequest&&null!==this.changeRequest&&(e=this.changeRequest.type,t=this.changeRequest.pendingAction,a+=this.pendingActions[t]),{type:e,tag:t,tagClass:a}}},methods:{},mounted(){},watch:{isVisible:function(e){this.modelVisible=e},changeRequest:function(e){this.newRecord=e?e.newRecord.currencies:[],this.oldRecord=e?e.originalRecord.currencies:[],console.log(this.newRecord),console.log(this.oldRecord)}}},ft=bt,vt=(0,b.Z)(ft,pt,mt,!1,null,"41373c4f",null),gt=vt.exports,ht={name:"ChangeRequest",components:{ChangeRequestApproveModal:dt,ProviderCurrencyApproveModal:gt},props:["data","filterOut","isLoading","customChangeRequest"],emits:["approve-or-reject"],data(){return{stickyHeaders:!0,dateSearchable:!1,isApproveModalActive:!1,selectedChangeRequest:null}},computed:{},methods:{approve_or_reject:function(e){let t={changeRequestID:this.selectedChangeRequest.changeRequestId,actionTaken:e};this.$emit("approve-or-reject",t)},closeApproveModal:function(){this.isApproveModalActive=!1,this.selectedChangeRequest=null},selectChangeRequest:function(e){this.selectedChangeRequest=e,this.isApproveModalActive=!0}}},_t=ht,yt=(0,b.Z)(_t,Le,Fe,!1,null,"d018f7f8",null),wt=yt.exports,Ct=a(4339),Dt={name:"userTable",components:{ChangeRequest:wt},data(){return{users:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],isPwChangeModalActive:!1,isPwChangeModalLoading:!1,selectedUsername:"",newPassword:new Ct.Y,tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{onChangePasswordClick:function(e){this.selectedUsername=e,this.isPwChangeModalActive=!0,this.newPassword.value="",this.newPassword.blur()},generatePassword:function(){const e=this;e.newPassword.blur(),e.newPassword.value=e.generateRandomPassword()},copyToClipboard:function(){const e=this,t=document.createElement("textarea");document.body.appendChild(t),t.value=e.newPassword.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),e.$buefy.toast.open({message:"Copied to Clipboard"})},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/User/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,console.log(e.crData),e.users=t.data.users),e.hideFullScreenLoader()}))},changePassword:function(){const e=this;if(e.newPassword.validate()){e.isPwChangeModalLoading=!0;const t={username:e.selectedUsername.value,password:e.newPassword.value};e.showFullScreenLoader(),q.Z.apiRequest("api/user/change-password",t,(function(t){if(200===t.statusCode){e.isPwChangeModalActive=!1,e.isPwChangeModalLoading=!1;const t={type:"is-success",message:'Password changed for user "'+e.selectedUsername.value+'" successfully'};e.$buefy.toast.open(t)}else{e.isPwChangeModalActive=!1,e.isPwChangeModalLoading=!1;const t={type:"is-warning",message:"Password change failed!"};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/user/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"User "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"User "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)',this.loadData()}},kt=Dt,St=(0,b.Z)(kt,Re,Oe,!1,null,null,null),xt=St.exports,Pt=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/users"}},[e._v("Users")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.userData.name.class,message:e.userData.name.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.userData.name.blur()}},model:{value:e.userData.name.value,callback:function(t){e.$set(e.userData.name,"value",t)},expression:"userData.name.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.username.class,message:e.userData.username.message}},[t("template",{slot:"label"},[e._v("Username "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.userData.username.blur()}},model:{value:e.userData.username.value,callback:function(t){e.$set(e.userData.username,"value",t)},expression:"userData.username.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.email.class,message:e.userData.email.message}},[t("template",{slot:"label"},[e._v("Email "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{input:function(t){return e.userData.email.blur()}},model:{value:e.userData.email.value,callback:function(t){e.$set(e.userData.email,"value",t)},expression:"userData.email.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.contactNo.class,message:e.userData.contactNo.message}},[t("template",{slot:"label"},[e._v("Contact No "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"10"},on:{blur:function(t){return e.userData.contactNo.blur()}},model:{value:e.userData.contactNo.value,callback:function(t){e.$set(e.userData.contactNo,"value",t)},expression:"userData.contactNo.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.userType.class,message:e.userData.userType.message}},[t("template",{slot:"label"},[e._v("User Type "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(t){return e.userData.userType.blur()}},model:{value:e.userData.userType.value,callback:function(t){e.$set(e.userData.userType,"value",t)},expression:"userData.userType.value"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select a Type")]),t("option",{key:1,attrs:{value:"BACKEND"}},[e._v("Backend User")]),t("option",{key:2,attrs:{value:"IPGBANK"}},[e._v("IPG Bank User")]),t("option",{key:3,attrs:{value:"AUDITOR"}},[e._v("Auditor")])])],2),"BACKEND"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("Branch "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Branch")]),e._l(e.branchList,(function(a){return t("option",{key:a.id,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],2):e._e(),"IPGBANK"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("IPG Banks "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Bank"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Bank")]),e._l(e.providerList,(function(a){return t("option",{key:a.id,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],2):e._e(),"AUDITOR"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("Branch "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Auditor"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{key:0,attrs:{selected:""},domProps:{value:"AUDITOR"}},[e._v("Auditor")])])],2):e._e(),t("b-field",{attrs:{horizontal:"",type:e.userData.role.class,message:e.userData.role.message}},[t("template",{slot:"label"},[e._v("Role "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Role"},on:{input:function(t){return e.onRoleSelected(e.userData.role.value)},blur:function(t){return e.userData.role.blur()}},model:{value:e.userData.role.value,callback:function(t){e.$set(e.userData.role,"value",t)},expression:"userData.role.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Role")]),e._l(e.roleListRef,(function(a){return t("option",{key:a.roleId,domProps:{value:a.roleId}},[e._v(e._s(a.roleName))])}))],2)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Permissions")]),t("div",{staticClass:"permissions-container"},e._l(e.permissionsListRef,(function(a){return t("div",{key:a.index,staticClass:"permission-group-wrapper"},[t("div",{staticClass:"permission-group-title"},[e._v(e._s(a.type))]),t("div",{staticClass:"permission-group-permission-list"},e._l(a.permissions,(function(a){return t("div",{key:a.index,staticClass:"field"},[t("label",{staticClass:"b-checkbox checkbox check"},[t("input",{attrs:{type:"checkbox",autocomplete:"on","true-value":"true",value:"false",disabled:""},domProps:{checked:a.checked}}),t("span",{staticClass:"check"}),t("span",{staticClass:"control-label"},[e._v(e._s(a.value))])])])})),0)])})),0)],2),t("b-field",{attrs:{horizontal:"",type:e.userData.password.class,message:e.userData.password.message}},[t("template",{slot:"label"},[e._v("Password "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.userData.password.class,grouped:""}},[t("b-input",{on:{blur:function(t){return e.userData.password.blur()}},model:{value:e.userData.password.value,callback:function(t){e.$set(e.userData.password,"value",t)},expression:"userData.password.value"}}),t("p",{staticClass:"control"},[t("button",{staticClass:"button is-primary",on:{click:e.generatePassword}},[e._v("Generate")])]),t("p",{staticClass:"control"},[t("button",{staticClass:"button is-primary",on:{click:e.copyToClipboard}},[e._v("Copy")])])],1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.userData.disabled.value,callback:function(t){e.$set(e.userData.disabled,"value",t)},expression:"userData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.userData.disabled.value,callback:function(t){e.$set(e.userData.disabled,"value",t)},expression:"userData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},It=[];class Tt{constructor(){(0,x.Z)(this,"index",0),(0,x.Z)(this,"type",""),(0,x.Z)(this,"userType",""),(0,x.Z)(this,"permissions",[])}}class At{constructor(){(0,x.Z)(this,"index",0),(0,x.Z)(this,"value",""),(0,x.Z)(this,"checked",!1)}}var Rt={name:"UserCreate",data(){return{branchList:[],roleList:[],permissionsList:[],providerList:[],userData:{userType:new Ct.Y(/^\w+$/,"Please select a type"),name:new Ct.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Name can only have alphanumeric characters and should be at least 3 characters long"),username:new Ct.Y(/^\w{3,}$/,"Username can only have alphanumeric characters with '_' and should be at least 3 characters long"),email:new Ct.Y(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/,"Please enter a valid email"),contactNo:new Ct.Y(/^\d{4,32}$/,"Please enter a valid contact number"),branch:new Ct.Y(/\w+/,"Please select a branch"),role:new Ct.Y(/\w+/,"Please select a role"),password:new Ct.Y(/^(?=(.*\d){2})(?=(.*[a-z]){2})(?=(.*[A-Z]){2})(?=(.*[@$!%*?&()[\]{}\-_+=|/:;"<>]){2})$/,'Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)'),disabled:new Ct.Y},checkBoxVal:!1}},computed:{roleListRef(){const e=this,t=[];return e.roleList.forEach((function(a){a.userType===e.userData.userType.value&&t.push(a)})),t},permissionsListRef(){const e=this,t=[];return e.permissionsList.forEach((function(a){a.userType===e.userData.userType.value&&t.push(a)})),t},userTypeRef(){return this.userData.userType.value}},watch:{userTypeRef(e){const t=this;let a="";switch(e){case"BACKEND":a="a branch";break;case"EXCHANGEHOUSE":a="an exchange house";break;case"IPGBANK":a="a bank";break}t.userData.branch.blur(),t.userData.branch.value="",t.userData.role.value="",t.userData.branch.errorMessage="Please select "+a}},methods:{generatePassword:function(){const e=this;e.userData.password.blur(),e.userData.password.value=e.generateRandomPassword()},copyToClipboard:function(){const e=document.createElement("textarea");document.body.appendChild(e),e.value=this.userData.password.value,e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$buefy.toast.open({message:"Copied to Clipboard"})},initialData:function(){const e=this;q.Z.apiRequest("api/user/initial-create-data",{},(function(t){200===t.statusCode&&(e.branchList=t.data.branchList,e.bankList=t.data.bankList,e.roleList=t.data.roleList,e.providerList=t.data.providerList,t.data.permissionsList.forEach((function(t,a){const s=new Tt;s.index=a,s.type=t.type,s.userType=t.userType,t.permissions.forEach((function(e,t){const a=new At;a.index=t,a.value=e,s.permissions.push(a)})),e.permissionsList.push(s)})))}))},onRoleSelected:function(e){const t=this;let a=null;for(let s=0;s<t.roleList.length;s++)t.roleList[s].roleId===e&&(a=t.roleList[s]);null!==a&&t.permissionsList.forEach((function(e){e.permissions.forEach((function(e){e.checked=a.permissions.includes(e.value)}))}))},validate:function(){const e=this;let t=!0;return Object.keys(e.userData).forEach((function(a){console.log(e.userData[a].validate()),e.userData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={type:e.userData.userType.value,name:e.userData.name.value,email:e.userData.email.value,contact:e.userData.contactNo.value,username:e.userData.username.value,branch_code:e.userData.branch.value,role:e.userData.role.value,password:e.userData.password.value,disabled:e.userData.disabled.value};q.Z.apiRequest("api/user/create",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"User sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else if(422===t.statusCode){const a={type:"is-warning",message:t.data.message};e.$buefy.toast.open(a)}else{const t={type:"is-warning",message:"User save failed!."};e.$buefy.toast.open(t)}}))}}},mounted(){this.userData.disabled.value=0,this.userData.password.regex=this.regex.passwordValidation,this.initialData()}},Ot=Rt,Lt=(0,b.Z)(Ot,Pt,It,!1,null,"0b21c220",null),Ft=Lt.exports,Nt=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/users"}},[e._v("Users")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.userData.name.class,message:e.userData.name.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.userData.name.blur()}},model:{value:e.userData.name.value,callback:function(t){e.$set(e.userData.name,"value",t)},expression:"userData.name.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.username.class,message:e.userData.username.message}},[t("template",{slot:"label"},[e._v("Username "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.userData.username.blur()}},model:{value:e.userData.username.value,callback:function(t){e.$set(e.userData.username,"value",t)},expression:"userData.username.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.email.class,message:e.userData.email.message}},[t("template",{slot:"label"},[e._v("Email "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{input:function(t){return e.userData.email.blur()}},model:{value:e.userData.email.value,callback:function(t){e.$set(e.userData.email,"value",t)},expression:"userData.email.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.contactNo.class,message:e.userData.contactNo.message}},[t("template",{slot:"label"},[e._v("Contact No "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"10"},on:{blur:function(t){return e.userData.contactNo.blur()}},model:{value:e.userData.contactNo.value,callback:function(t){e.$set(e.userData.contactNo,"value",t)},expression:"userData.contactNo.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.userData.userType.class,message:e.userData.userType.message}},[t("template",{slot:"label"},[e._v("User Type "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Type"},on:{input:e.onUserTypeChange,blur:function(t){return e.userData.userType.blur()}},model:{value:e.userData.userType.value,callback:function(t){e.$set(e.userData.userType,"value",t)},expression:"userData.userType.value"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select a Type")]),t("option",{key:1,attrs:{value:"BACKEND"}},[e._v("Backend User")]),t("option",{key:2,attrs:{value:"IPGBANK"}},[e._v("IPG Bank User")]),t("option",{key:3,attrs:{value:"AUDITOR"}},[e._v("Auditor")])])],2),"BACKEND"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("Branch "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Branch")]),e._l(e.branchList,(function(a){return t("option",{key:a.id,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],2):e._e(),"IPGBANK"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("IPG Banks "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Bank"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Bank")]),e._l(e.providerList,(function(a){return t("option",{key:a.id,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],2):e._e(),"AUDITOR"===e.userData.userType.value?t("b-field",{attrs:{horizontal:"",type:e.userData.branch.class,message:e.userData.branch.message}},[t("template",{slot:"label"},[e._v("Branch "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Auditor"},on:{blur:function(t){return e.userData.branch.blur()}},model:{value:e.userData.branch.value,callback:function(t){e.$set(e.userData.branch,"value",t)},expression:"userData.branch.value"}},[t("option",{key:0,attrs:{selected:""},domProps:{value:"AUDITOR"}},[e._v("Auditor")])])],2):e._e(),t("b-field",{attrs:{horizontal:"",type:e.userData.role.class,message:e.userData.role.message}},[t("template",{slot:"label"},[e._v("Role "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Role"},on:{input:function(t){return e.onRoleSelected(e.userData.role.value)},blur:function(t){return e.userData.role.blur()}},model:{value:e.userData.role.value,callback:function(t){e.$set(e.userData.role,"value",t)},expression:"userData.role.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Role")]),e._l(e.roleListRef,(function(a){return t("option",{key:a.roleId,domProps:{value:a.roleId}},[e._v(e._s(a.roleName))])}))],2)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Permissions")]),t("div",{staticClass:"permissions-container"},e._l(e.permissionsListRef,(function(a){return t("div",{key:a.index,staticClass:"permission-group-wrapper"},[t("div",{staticClass:"permission-group-title"},[e._v(e._s(a.type))]),t("div",{staticClass:"permission-group-permission-list"},e._l(a.permissions,(function(a){return t("div",{key:a.index,staticClass:"field"},[t("label",{staticClass:"b-checkbox checkbox check"},[t("input",{attrs:{type:"checkbox",autocomplete:"on","true-value":"true",value:"false",disabled:""},domProps:{checked:a.checked}}),t("span",{staticClass:"check"}),t("span",{staticClass:"control-label"},[e._v(e._s(a.value))])])])})),0)])})),0)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.userData.disabled.value,callback:function(t){e.$set(e.userData.disabled,"value",t)},expression:"userData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.userData.disabled.value,callback:function(t){e.$set(e.userData.disabled,"value",t)},expression:"userData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success",disabled:!e.formChanged},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},zt=[],Ut={name:"UserEdit",data(){return{branchList:[],bankList:[],roleList:[],initialUserData:{},formChanged:!1,permissionsList:[],providerList:[],userData:{name:new Ct.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ct.Y(/^\w+$/,"Please select a type"),username:new Ct.Y(/^\w{3,}$/,"Username can only have alphanumeric characters with '_' and should be at least 3 characters long"),email:new Ct.Y(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/,"Please enter a valid email"),contactNo:new Ct.Y(/^\d{4,32}$/,"Please enter a valid contact number"),branch:new Ct.Y(/\w+/,"Please select a branch"),role:new Ct.Y(/\w+/,"Please select a role"),disabled:new Ct.Y},checkBoxVal:!1}},computed:{roleListRef(){const e=this,t=[];return e.roleList.forEach((function(a){console.log(e.userData.userType.value),a.userType===e.userData.userType.value&&t.push(a)})),t},permissionsListRef(){const e=this,t=[];return e.permissionsList.forEach((function(a){a.userType===e.userData.userType.value&&t.push(a)})),t}},watch:{"userData.name.value":function(){this.formChanged=this.userData.name.value!==this.initialUserData.name},"userData.username.value":function(){this.formChanged=this.userData.username.value!==this.initialUserData.username},"userData.email.value":function(){this.formChanged=this.userData.email.value!==this.initialUserData.email},"userData.contactNo.value":function(){this.formChanged=this.userData.contactNo.value!==this.initialUserData.contactNo},"userData.branch.value":function(){this.formChanged=this.userData.branch.value!==this.initialUserData.branch},"userData.role.value":function(){this.formChanged=this.userData.role.value!==this.initialUserData.role},"userData.disabled.value":function(){this.formChanged=this.userData.disabled.value!==this.initialUserData.disabled}},methods:{onUserTypeChange:function(e){const t=this;let a="";switch(e){case"BACKEND":a="a branch";break;case"IPGBANK":a="a bank";break}t.userData.branch.blur(),t.userData.branch.value="",t.userData.role.value="",t.userData.branch.errorMessage="Please select "+a},initialData:function(){const e=this;q.Z.apiRequest("api/user/initial-create-data",{},(function(t){200===t.statusCode&&(e.branchList=t.data.branchList,e.bankList=t.data.bankList,e.roleList=t.data.roleList,e.providerList=t.data.providerList,t.data.permissionsList.forEach((function(t,a){const s=new Tt;s.index=a,s.type=t.type,s.userType=t.userType,t.permissions.forEach((function(e,t){const a=new At;a.index=t,a.value=e,s.permissions.push(a)})),e.permissionsList.push(s)})),e.getUserForEdit())}))},getUserForEdit:function(){const e=this,t={id:e.$route.params.id};q.Z.apiRequest("api/user/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.customUser;e.initialUserData={name:a.name,userType:a.user_type,username:a.username,email:a.email,contactNo:a.contact,branch:a.branch_code,role:a.role,disabled:a.disabled},console.log(t.data.customUser),e.userData.name.value=a.name,e.userData.userType.value=a.user_type,e.userData.username.value=a.username,e.userData.email.value=a.email,e.userData.contactNo.value=a.contact,e.userData.branch.value=a.branch_code,e.userData.role.value=a.role,e.userData.disabled.value=a.disabled,e.onRoleSelected(a.role)}}))},onRoleSelected:function(e){const t=this;let a=null;for(let s=0;s<t.roleList.length;s++)t.roleList[s].roleId===e&&(a=t.roleList[s]);null!==a&&t.permissionsList.forEach((function(e){e.permissions.forEach((function(e){e.checked=a.permissions.includes(e.value)}))}))},validate:function(){const e=this;let t=!0;return Object.keys(e.userData).forEach((function(a){console.log(e.userData[a].validate()),e.userData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={id:e.$route.params.id,type:e.userData.userType.value,name:e.userData.name.value,email:e.userData.email.value,contact:e.userData.contactNo.value,username:e.userData.username.value,branch_code:e.userData.branch.value,role:e.userData.role.value,disabled:e.userData.disabled.value};q.Z.apiRequest("api/user/edit",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"User sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else if(422===t.statusCode){const a={type:"is-warning",message:t.data.message};e.$buefy.toast.open(a)}else{const t={type:"is-warning",message:"User edit failed!."};e.$buefy.toast.open(t)}}))}}},mounted(){this.userData.disabled.value=0,this.initialData()}},Et=Ut,$t=(0,b.Z)(Et,Nt,zt,!1,null,"3996968a",null),Zt=$t.exports,Vt=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Roles")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("role-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("CreateRole")}}},[e._v("Create Role")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("role-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(65),data:e.roles,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"name",label:"Name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.role_name.value)+" ")]}}])}),t("b-table-column",{attrs:{field:"permissions",label:"Permissions",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-taglist",{staticStyle:{"max-width":"300px"}},e._l(a.row.permissions.value,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary is-light"}},[e._v(e._s(a))])})),1)]}}])}),t("b-table-column",{attrs:{field:"status",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:("Active"===a.row.status.value?"is-success":"is-danger")+" is-light"}},[e._v(e._s(a.row.status.value))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at.value).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at.value).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked.value&&e.hasPermission("role-edit")?t("b-tooltip",{attrs:{label:"Edit"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("EditRole",{id:a.row.id.value})}}})],1):t("b-tooltip",{attrs:{label:"Locked"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),t("br")])},qt=[],Bt={name:"RoleList",components:{ChangeRequest:wt},data(){return{roles:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/role/list",{},(function(t){200===t.statusCode&&(e.roles=t.data.roles,e.crData=t.data.changeRequests),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/role/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Role "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Role "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},jt=Bt,Mt=(0,b.Z)(jt,Vt,qt,!1,null,null,null),Ht=Mt.exports,Yt=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/roles"}},[e._v("Role")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.roleData.role_name.class,message:e.roleData.role_name.message}},[t("template",{slot:"label"},[e._v("Role Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.roleData.role_name.blur()}},model:{value:e.roleData.role_name.value,callback:function(t){e.$set(e.roleData.role_name,"value",t)},expression:"roleData.role_name.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.roleData.userType.class,message:e.roleData.userType.message}},[t("template",{slot:"label"},[e._v("User Type "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(t){return e.roleData.userType.blur()}},model:{value:e.roleData.userType.value,callback:function(t){e.$set(e.roleData.userType,"value",t)},expression:"roleData.userType.value"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select a Type")]),t("option",{key:1,attrs:{value:"BACKEND"}},[e._v("Backend User")]),t("option",{key:2,attrs:{value:"IPGBANK"}},[e._v("IPG Bank User")]),t("option",{key:3,attrs:{value:"AUDITOR"}},[e._v("Auditor")])])],2),t("b-field",{attrs:{horizontal:"",type:e.roleData.user_level.class,message:e.roleData.user_level.message}},[t("template",{slot:"label"},[e._v("User Level "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(t){return e.roleData.user_level.blur()}},model:{value:e.roleData.user_level.value,callback:function(t){e.$set(e.roleData.user_level,"value",t)},expression:"roleData.user_level.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Level")]),e._l(e.userLevels,(function(a){return t("option",{key:a.id,domProps:{value:a.level}},[e._v(e._s(a.title))])}))],2)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",type:e.roleData.permissions.class,message:e.roleData.permissions.message}},[t("template",{slot:"label"},[e._v("Permissions")]),t("div",{staticClass:"permissions-container"},e._l(e.permissionsListRef,(function(a){return t("div",{key:a.index,staticClass:"permission-group-wrapper"},[t("div",{staticClass:"permission-group-title"},[e._v(e._s(a.type))]),t("div",{staticClass:"permission-group-permission-list"},e._l(a.permissions,(function(a){return t("div",{key:a.index,staticClass:"field"},[t("b-field",[t("b-checkbox",{on:{input:function(t){return e.permissionChanged()}},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"permissionItem.checked"}},[e._v(e._s(a.value))])],1)],1)})),0)])})),0)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.roleData.disabled.value,callback:function(t){e.$set(e.roleData.disabled,"value",t)},expression:"roleData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.roleData.disabled.value,callback:function(t){e.$set(e.roleData.disabled,"value",t)},expression:"roleData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},Gt=[],Kt={name:"RoleCreate",data(){return{userLevels:[],permissionsList:[],roleData:{role_name:new Ct.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Role name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ct.Y(/^\w+$/,"Please select a type"),user_level:new Ct.Y(/^[\S\s\d]+$/,"Please select a user level"),permissions:new Ct.Y(/^[\S\s\d]+$/,"Please select at least one permission"),disabled:new Ct.Y},checkBoxVal:!1}},computed:{permissionsListRef(){const e=this,t=[];return e.permissionsList.forEach((function(a){console.log(a.userType),a.userType===e.roleData.userType.value&&t.push(a)})),t}},methods:{permissionChanged:function(){const e=this;e.roleData.permissions.value="",e.permissionsList.forEach((function(t){t.permissions.forEach((function(t){t.checked&&(e.roleData.permissions.value+=(""!==e.roleData.permissions.value?"|":"")+t.value)}))}))},initialData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/role/initial-create-data",{},(function(t){200===t.statusCode&&(e.userLevels=t.data.userLevels,t.data.permissionsList.forEach((function(t,a){const s=new Tt;s.index=a,s.type=t.type,s.userType=t.userType,t.permissions.forEach((function(e,t){const a=new At;a.index=t,a.value=e,s.permissions.push(a)})),e.permissionsList.push(s)}))),e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;return Object.keys(e.roleData).forEach((function(a){e.roleData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=e.roleData.permissions.value.split("|");const a={role_name:e.roleData.role_name.value,user_type:e.roleData.userType.value,user_level:e.roleData.user_level.value,permissions:t,disabled:e.roleData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/role/create",a,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Role sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else if(422===t.statusCode){console.log(t);const a={type:"is-warning",message:t.data.message};e.$buefy.toast.open(a)}else{const t={type:"is-warning",message:"Role save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.roleData.disabled.value=0,this.initialData()}},Wt=Kt,Jt=(0,b.Z)(Wt,Yt,Gt,!1,null,"484cf6e6",null),Xt=Jt.exports,Qt=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/roles"}},[e._v("Role")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.roleData.role_name.class,message:e.roleData.role_name.message}},[t("template",{slot:"label"},[e._v("Role Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.roleData.role_name.blur()}},model:{value:e.roleData.role_name.value,callback:function(t){e.$set(e.roleData.role_name,"value",t)},expression:"roleData.role_name.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.roleData.userType.class,message:e.roleData.userType.message}},[t("template",{slot:"label"},[e._v("User Type "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Type"},on:{blur:function(t){return e.roleData.userType.blur()}},model:{value:e.roleData.userType.value,callback:function(t){e.$set(e.roleData.userType,"value",t)},expression:"roleData.userType.value"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select a Type")]),t("option",{key:1,attrs:{value:"BACKEND"}},[e._v("Backend User")]),t("option",{key:2,attrs:{value:"IPGBANK"}},[e._v("IPG Bank User")]),t("option",{key:3,attrs:{value:"AUDITOR"}},[e._v("Auditor")])])],2),t("b-field",{attrs:{horizontal:"",type:e.roleData.user_level.class,message:e.roleData.user_level.message}},[t("template",{slot:"label"},[e._v("User Level "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-select",{attrs:{placeholder:"Select a Branch"},on:{blur:function(t){return e.roleData.user_level.blur()}},model:{value:e.roleData.user_level.value,callback:function(t){e.$set(e.roleData.user_level,"value",t)},expression:"roleData.user_level.value"}},[t("option",{attrs:{disabled:"",selected:""},domProps:{value:""}},[e._v("Select a Level")]),e._l(e.userLevels,(function(a){return t("option",{key:a.id,domProps:{value:a.level}},[e._v(e._s(a.title))])}))],2)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",type:e.roleData.permissions.class,message:e.roleData.permissions.message}},[t("template",{slot:"label"},[e._v("Permissions")]),t("div",{staticClass:"permissions-container"},e._l(e.permissionsListRef,(function(a){return t("div",{key:a.index,staticClass:"permission-group-wrapper"},[t("div",{staticClass:"permission-group-title"},[e._v(e._s(a.type))]),t("div",{staticClass:"permission-group-permission-list"},e._l(a.permissions,(function(a){return t("div",{key:a.index,staticClass:"field"},[t("b-field",[t("b-checkbox",{on:{input:function(t){return e.permissionChanged()}},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"permissionItem.checked"}},[e._v(e._s(a.value))])],1)],1)})),0)])})),0)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":0},model:{value:e.roleData.disabled.value,callback:function(t){e.$set(e.roleData.disabled,"value",t)},expression:"roleData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":1,type:"is-danger"},model:{value:e.roleData.disabled.value,callback:function(t){e.$set(e.roleData.disabled,"value",t)},expression:"roleData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},ea=[],ta={name:"RoleEdit",data(){return{userLevels:[],permissionsList:[],roleData:{role_name:new Ct.Y(/^([A-Za-z\d]*\s?[A-Za-z\d]+){3,}$/,"Role name can only have alphanumeric characters and should be at least 3 characters long"),userType:new Ct.Y(/^\w+$/,"Please select a type"),user_level:new Ct.Y(/^[\S\s\d]+$/,"Please select a user level"),permissions:new Ct.Y(/^[\S\s\d]+$/,"Please select at least one permission"),disabled:new Ct.Y},checkBoxVal:!1}},computed:{permissionsListRef(){const e=this,t=[];return e.permissionsList.forEach((function(a){console.log(a.userType),a.userType===e.roleData.userType.value&&t.push(a)})),t}},methods:{permissionChanged:function(){const e=this;e.roleData.permissions.value="",e.permissionsList.forEach((function(t){t.permissions.forEach((function(t){t.checked&&(e.roleData.permissions.value+=(""!==e.roleData.permissions.value?"|":"")+t.value)}))}))},getRoleForEdit:function(){const e=this,t={id:e.$route.params.id};q.Z.apiRequest("api/role/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.role;e.roleData.role_name.value=a.role_name,e.roleData.userType.value=a.user_type,e.roleData.user_level.value=a.user_level,e.roleData.disabled.value=a.disabled,a.permissions.forEach((function(t){e.roleData.permissions.value+=(""===e.roleData.permissions.value?"":"|")+t})),e.permissionsList.forEach((function(e){e.permissions.forEach((function(e){e.checked=a.permissions.includes(e.value)}))}))}e.hideFullScreenLoader()}))},initialData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/role/initial-create-data",{},(function(t){200===t.statusCode&&(e.userLevels=t.data.userLevels,t.data.permissionsList.forEach((function(t,a){const s=new Tt;s.index=a,s.type=t.type,s.userType=t.userType,t.permissions.forEach((function(e,t){const a=new At;a.index=t,a.value=e,s.permissions.push(a)})),e.permissionsList.push(s)})),e.getRoleForEdit())}))},validate:function(){const e=this;let t=!0;return Object.keys(e.roleData).forEach((function(a){e.roleData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=e.roleData.permissions.value.split("|");const a={id:e.$route.params.id,role_name:e.roleData.role_name.value,user_type:e.roleData.userType.value,user_level:e.roleData.user_level.value,disabled:e.roleData.disabled.value,permissions:t};q.Z.apiRequest("api/role/edit",a,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Role sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else{const t={type:"is-warning",message:"Role edit failed!."};e.$buefy.toast.open(t)}}))}}},mounted(){this.roleData.disabled.value=0,this.initialData()}},aa=ta,sa=(0,b.Z)(aa,Qt,ea,!1,null,"336dee84",null),ia=sa.exports,na=function(){var e=this,t=e._self._c;return t("section",{staticClass:"hero is-fullheight"},[t("div",{staticClass:"hero-body has-text-centered"},[t("div",{staticStyle:{width:"100%"}},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column"}),t("div",{staticClass:"column is-two-fifths-mobile"},[t("div",{staticClass:"card"},[t("img",{staticClass:"p-4",attrs:{src:a(5738),width:"250px",alt:"logo"}}),t("div",{staticClass:"card-content"},[t("b-field",{attrs:{label:"Old Password","label-position":"on-border",type:e.oldPassword.class,message:e.oldPassword.message}},[t("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(t){return e.oldPassword.blur()}},model:{value:e.oldPassword.value,callback:function(t){e.$set(e.oldPassword,"value",t)},expression:"oldPassword.value"}})],1),t("b-field",{attrs:{label:"New Password","label-position":"on-border",type:e.newPassword.class,message:e.newPassword.message}},[t("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(t){return e.newPassword.blur()}},model:{value:e.newPassword.value,callback:function(t){e.$set(e.newPassword,"value",t)},expression:"newPassword.value"}})],1),t("b-field",{attrs:{label:"Confirm Password","label-position":"on-border",type:e.confirmPassword.class,message:e.confirmPassword.message}},[t("b-input",{attrs:{type:"password",icon:"form-textbox-password",maxlength:"30","password-reveal":"",expanded:""},on:{input:function(t){return e.confirmPassword.blur()}},model:{value:e.confirmPassword.value,callback:function(t){e.$set(e.confirmPassword,"value",t)},expression:"confirmPassword.value"}})],1),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{type:"is-primary",loading:e.isLoading,expanded:""},on:{click:function(t){return e.resetPassword()}}},[e._v("Reset Password")])],1)],1)])]),t("div",{staticClass:"column"})])])])])},oa=[],la={name:"ResetPassword",data(){return{isLoading:!1,oldPassword:new Ct.Y,newPassword:new Ct.Y,confirmPassword:new Ct.Y}},methods:{validate:function(){const e=this;let t=!0;return e.newPassword.validate()||(t=!1),e.oldPassword.validate()||(t=!1),e.confirmPassword.validate()||(t=!1),t&&e.newPassword.value!==e.confirmPassword.value&&(e.newPassword.invalidate("Passwords does not match"),e.confirmPassword.invalidate("Passwords does not match"),t=!1),t},resetPassword:function(){const e=this;if(e.validate()){e.isLoading=!0;const t={username:e.authUser().username,old_password:e.oldPassword.value,new_password:e.newPassword.value};q.Z.apiRequest("api/user/reset-password",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Password reset successful"};e.$buefy.toast.open(t),setTimeout((function(){e.isLoading=!1,e.navigateTo("Dashboard")}),1e3)}else if(406===t.statusCode){e.isLoading=!1;const t={type:"is-warning",message:"Old password is invalid!"};e.$buefy.toast.open(t)}else{e.isLoading=!1;const t={type:"is-warning",message:"Reset password failed!"};e.$buefy.toast.open(t)}}))}}},mounted(){this.confirmPassword.regex=this.oldPassword.regex=/^[\w\W]+$/,this.confirmPassword.errorMessage="Please enter password confirmation",this.oldPassword.errorMessage="Please enter the old-password",this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)'}},ra=la,ca=(0,b.Z)(ra,na,oa,!1,null,"3854d09a",null),ua=ca.exports,da=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Notification")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("notification-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("CreateNotification")}}},[e._v("Create Notification+")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("notification-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.notifications,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id.value",label:"ID",width:"40",sortable:"",numeric:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"title",centered:"",label:"Title",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title)+" ")]}}])}),t("b-table-column",{attrs:{field:"message",label:"Massage",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.message)+" ")]}}])}),t("b-table-column",{attrs:{field:"countries",label:"Countries",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-taglist",e._l(a.row.countries,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary"}},[e._v(e._s(a))])})),1)]}}])}),t("b-table-column",{attrs:{field:"branch",label:"Image"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("img",{staticStyle:{height:"40px"},attrs:{src:e.getImageUrl(a.row.image)}})])]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action"},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked?t("div",{staticClass:"buttons"},[e.hasPermission("notification-edit")?t("b-tooltip",{attrs:{label:"Edit"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("EditNotification",{id:a.row.id})}}})],1):e._e()],1):t("b-tooltip",{attrs:{label:"Locked"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)]}}])})],1)],1),t("br")])},pa=[],ma={name:"NotificationTable",components:{ChangeRequest:wt},data(){return{notifications:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],isPwChangeModalActive:!1,isPwChangeModalLoading:!1,selectedUsername:"",newPassword:new Ct.Y,tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},onChangePasswordClick:function(e){this.selectedUsername=e,this.isPwChangeModalActive=!0,this.newPassword.value="",this.newPassword.blur()},generatePassword:function(){const e=this;e.newPassword.blur(),e.newPassword.value=e.generateRandomPassword()},copyToClipboard:function(){const e=this,t=document.createElement("textarea");document.body.appendChild(t),t.value=e.newPassword.value,t.select(),document.execCommand("copy"),document.body.removeChild(t),e.$buefy.toast.open({message:"Copied to Clipboard"})},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.notifications=t.data.notifications),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/Notifications/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Notification "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Notification "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.newPassword.regex=this.regex.passwordValidation,this.newPassword.errorMessage='Password should contain minimum 8 characters maximum 32, at least two uppercase letters, two lowercase letters, one number and one special character (@#$!%*?&()[]{}-_+=|/\\:;"<>?)',this.loadData()}},ba=ma,fa=(0,b.Z)(ba,da,pa,!1,null,null,null),va=fa.exports,ga=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/notifications"}},[e._v("Notification")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.NotificationData.title.class,message:e.NotificationData.title.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.NotificationData.title.blur()}},model:{value:e.NotificationData.title.value,callback:function(t){e.$set(e.NotificationData.title,"value",t)},expression:"NotificationData.title.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NotificationData.message.class,message:e.NotificationData.message.message}},[t("template",{slot:"label"},[e._v("Message "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{type:"textarea",maxlength:"1000",expanded:""},on:{blur:function(t){return e.NotificationData.message.blur()}},model:{value:e.NotificationData.message.value,callback:function(t){e.$set(e.NotificationData.message,"value",t)},expression:"NotificationData.message.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NotificationData.image.class,message:e.NotificationData.image.message}},[t("template",{slot:"label"},[e._v("image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t("div",{staticClass:"column"},[t("image-upload-component",{attrs:{type:e.NotificationData.image.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.NotificationData.image.value,callback:function(t){e.$set(e.NotificationData.image,"value",t)},expression:"NotificationData.image.value"}})],1),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Countries "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.NotificationData.countries.class,message:e.NotificationData.countries.message}},[t("b-select",{attrs:{placeholder:"Currency"},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Country")]),e._l(e.countryListRef,(function(a){return t("option",{key:a.id,domProps:{value:a}},[e._v(e._s(a.name))])}))],2),t("p",{staticClass:"control"},[t("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(t){return e.addCountryTag()}}})],1)],1),t("div",e._l(e.countryTags,(function(a){return t("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[t("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(t){return e.deleteCountryTag(a)}}},[e._v(" "+e._s(a.code)+" ")])],1)})),1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.NotificationData.disabled.value,callback:function(t){e.$set(e.NotificationData.disabled,"value",t)},expression:"NotificationData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.NotificationData.disabled.value,callback:function(t){e.$set(e.NotificationData.disabled,"value",t)},expression:"NotificationData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},ha=[],_a=function(){var e=this,t=e._self._c;return t("div",[t("b-field",[t("div",[t("div",{staticClass:"tile is-ancestor"},[t("div",{staticClass:"tile is-parent"},[t("div",{class:"product-image-input "+e.type},[t("b-field",[t("div",{style:{"text-align":"center",height:e.imageHeight+"px",width:e.imageWidth+"px"}},[t("div",{staticClass:"is-flex is-vcentered",staticStyle:{height:"100%",width:"100%","justify-content":"center"}},[t("img",{attrs:{src:""===e.image?e.placeholder_image:e.image,alt:""}})]),t("div",{staticClass:"product-image-edit-or-delete-bg"},[t("div",{staticClass:"product-image-edit-or-delete"},[t("b-button",{attrs:{size:"is-medium","icon-right":"plus-circle-outline",type:"is-success",disabled:e.disabled},on:{click:e.selectImage}}),""!==e.image?t("b-button",{attrs:{size:"is-medium","icon-right":"minus-circle-outline",type:"is-danger",disabled:e.disabled},on:{click:e.deleteImage}}):e._e()],1)])])])],1)])])]),t("input",{ref:"imageInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{input:e.pickFile}})]),t("canvas",{ref:"imageCanvas",staticStyle:{display:"none"}})],1)},ya=[];a(8858),a(1318),a(3228);class wa{constructor(e,t,a,s,i,n){(0,x.Z)(this,"maxHeight",0),(0,x.Z)(this,"minHeight",0),(0,x.Z)(this,"maxWidth",0),(0,x.Z)(this,"minWidth",0),(0,x.Z)(this,"maxSize",0),(0,x.Z)(this,"message","Uploaded image is not valid"),e&&(this.maxHeight=e),t&&(this.minHeight=t),a&&(this.maxWidth=a),s&&(this.minWidth=s),i&&(this.maxSize=i),n&&(this.message=n)}}var Ca={name:"ImageUploadComponent",props:["value","index","placeholder_image","imageHeight","imageWidth","imageValidations","type","disabled"],emits:["on-upload"],data(){return{image:""}},methods:{pickFile(){const e=this;let t=e.$refs.imageInput,a=t.files;if(a&&a[0]){const t=new Image,s=URL.createObjectURL(a[0]),i=a[0];t.src=s,t.onload=function(){if(e.validateImage(t.height,t.width,i.size)){e.image=s;const a=e.$refs.imageCanvas;a.width=t.width,a.height=t.height;const i=a.getContext("2d"),n=new Image;n.src=s,n.onload=async function(){i.drawImage(n,0,0);let t=e.imageToBase64();e.$emit("input",t);let a={index:e.index,valid:!0,image:t};e.$emit("on-upload",a)}}else{let t={index:e.index,valid:!1,image:""};e.$emit("on-upload",t)}}}},validateImage:function(e,t,a){const s=this;let i=!0;if(console.log("size: "+a/1024),s.imageValidations){const n=s.imageValidations;if(0!==n.maxHeight&&n.maxHeight<e&&(i=!1),0!==n.maxWidth&&n.maxWidth<t&&(i=!1),0!==n.minHeight&&n.minHeight>e&&(i=!1),0!==n.minWidth&&n.minWidth>t&&(i=!1),0!==n.maxSize&&n.maxSize<a/1024&&(i=!1),!i){const e={type:"is-warning",message:n.message};s.$buefy.toast.open(e)}}return i},selectImage(){const e=this;e.$refs.imageInput.click()},deleteImage(){const e=this;e.$refs.imageInput.value="",e.image="",e.$emit("input","")},imageToBase64(){const e=this,t=e.$refs.imageCanvas;let a=t.toDataURL();return a=a.replace("data:image/png;base64,",""),a}}},Da=Ca,ka=(0,b.Z)(Da,_a,ya,!1,null,"68d4119e",null),Sa=ka.exports,xa={name:"NotificationCreate",components:{ImageUploadComponent:Sa},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),NotificationData:{title:new Ct.Y(/^\w+[\w\s]+$/),message:new Ct.Y(/^[\w\s\S]+$/),countries:new Ct.Y(void 0,"Please select at least one country"),image:new Ct.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ct.Y},checkBoxVal:!1}},computed:{countryListRef(){const e=this;let t=[];return e.countryList.forEach((function(a){e.countryTags.includes(a)||t.push(a)})),t}},methods:{onImageUpload:function(e){this.newsFeedData.image.blur(),e.valid||this.newsFeedData.image.invalidate("Uploaded image is invalid")},addCountryTag:function(){const e=this;e.NotificationData.countries.blur(),""!==e.selectedCountry&&e.countryTags.push(e.selectedCountry),e.selectedCountry="",e.NotificationData.countries.value="",e.countryTags.forEach((function(t,a){e.NotificationData.countries.value+=(0===a?"":"|")+t.code}))},deleteCountryTag:function(e){const t=this;let a=t.countryTags.indexOf(e);t.countryTags.splice(a,1),t.NotificationData.countries.value="",t.countryTags.forEach((function(e,a){t.NotificationData.countries.value+=(0===a?"":"|")+e.code}))},initialData:function(){const e=this;q.Z.apiRequest("api/Notifications/initial-create-data",{},(function(t){200===t.statusCode&&t.data.countries.forEach((function(t){e.countryList.push(t)}))}))},validate:function(){const e=this;let t=!0;return e.NotificationData.image.value||(e.NotificationData.image.invalidate("Please upload a image"),t=!1),Object.keys(e.NotificationData).forEach((function(a){console.log(e.NotificationData[a].validate()),e.NotificationData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=[];e.countryTags.forEach((function(e){t.push(e.code)}));const a={title:e.NotificationData.title.value,message:e.NotificationData.message.value,image:e.NotificationData.image.value,countries:t,disabled:e.NotificationData.disabled.value};q.Z.apiRequest("api/Notifications/create",a,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Notification sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else if(422===t.statusCode){const a={type:"is-warning",message:t.data.message};e.$buefy.toast.open(a)}else{const t={type:"is-warning",message:"Notification save failed!."};e.$buefy.toast.open(t)}}))}}},mounted(){this.NotificationData.disabled.value=0,this.initialData()}},Pa=xa,Ia=(0,b.Z)(Pa,ga,ha,!1,null,"20925a12",null),Ta=Ia.exports,Aa=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/notifications"}},[e._v("Notification")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.NotificationData.title.class,message:e.NotificationData.title.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.NotificationData.title.blur()}},model:{value:e.NotificationData.title.value,callback:function(t){e.$set(e.NotificationData.title,"value",t)},expression:"NotificationData.title.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NotificationData.message.class,message:e.NotificationData.message.message}},[t("template",{slot:"label"},[e._v("Message "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{type:"textarea",maxlength:"1000",expanded:""},on:{blur:function(t){return e.NotificationData.message.blur()}},model:{value:e.NotificationData.message.value,callback:function(t){e.$set(e.NotificationData.message,"value",t)},expression:"NotificationData.message.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NotificationData.image.class,message:e.NotificationData.image.message}},[t("template",{slot:"label"},[e._v("image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t("div",{staticClass:"column"},[t("image-upload-component",{attrs:{type:e.NotificationData.image.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.NotificationData.image.value,callback:function(t){e.$set(e.NotificationData.image,"value",t)},expression:"NotificationData.image.value"}})],1),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Countries "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.NotificationData.countries.class,message:e.NotificationData.countries.message}},[t("b-select",{attrs:{placeholder:"Currency"},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Country")]),e._l(e.countryListRef,(function(a){return t("option",{key:a.id,domProps:{value:a}},[e._v(e._s(a.name))])}))],2),t("p",{staticClass:"control"},[t("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(t){return e.addCountryTag()}}})],1)],1),t("div",e._l(e.countryTags,(function(a){return t("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[t("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(t){return e.deleteCountryTag(a)}}},[e._v(" "+e._s(a.code)+" ")])],1)})),1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.NotificationData.disabled.value,callback:function(t){e.$set(e.NotificationData.disabled,"value",t)},expression:"NotificationData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.NotificationData.disabled.value,callback:function(t){e.$set(e.NotificationData.disabled,"value",t)},expression:"NotificationData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},Ra=[],Oa={name:"EditNotification",components:{ImageUploadComponent:Sa},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),NotificationData:{title:new Ct.Y(/^\w+[\w\s]+$/),message:new Ct.Y(/^[\w\s\S]+$/),countries:new Ct.Y(void 0,"Please select at least one country"),image:new Ct.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ct.Y},checkBoxVal:!1}},computed:{countryListRef(){const e=this;let t=[];return e.countryList.forEach((function(a){e.countryTags.includes(a)||t.push(a)})),t}},methods:{onImageUpload:function(e){this.newsFeedData.image.blur(),e.valid||this.newsFeedData.image.invalidate("Uploaded image is invalid")},loadImage:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},addCountryTag:function(){const e=this;e.NotificationData.countries.blur(),""!==e.selectedCountry&&e.countryTags.push(e.selectedCountry),e.selectedCountry="",e.NotificationData.countries.value="",e.countryTags.forEach((function(t,a){e.NotificationData.countries.value+=(0===a?"":"|")+t.code}))},deleteCountryTag:function(e){const t=this;let a=t.countryTags.indexOf(e);t.countryTags.splice(a,1),t.NotificationData.countries.value="",t.countryTags.forEach((function(e,a){t.NotificationData.countries.value+=(0===a?"":"|")+e.code}))},initialData:function(){const e=this;q.Z.apiRequest("api/advertisement/initial-create-data",{},(function(t){200===t.statusCode&&t.data.countries.forEach((function(t){e.countryList.push(t)})),e.getForEdit()}))},getForEdit:function(){const e=this,t={id:e.$route.params.id};e.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.notification;e.addId=a.id,e.NotificationData.title.value=a.title,e.NotificationData.message.value=a.message,e.NotificationData.image.value=a.image,e.NotificationData.disabled.value=a.disabled,e.placeholder_image=e.loadImage(a.image),a.countries.forEach((function(t,a){let s="";for(let i=0;i<e.countryList.length;i++)t===e.countryList[i].code&&(s=e.countryList[i]);e.countryTags.push({code:s.code,name:s.name}),e.NotificationData.countries.value+=(0===a?"":"|")+t.code}))}e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;return Object.keys(e.NotificationData).forEach((function(a){console.log(e.NotificationData[a].validate()),e.NotificationData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=[];e.countryTags.forEach((function(e){t.push(e.code)}));const a={id:e.$route.params.id,title:e.NotificationData.title.value,message:e.NotificationData.message.value,image:e.NotificationData.image.value,countries:t,disabled:e.NotificationData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/Notifications/edit",a,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Notification sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else{const t={type:"is-warning",message:"Notification save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.NotificationData.disabled.value=0,this.initialData()}},La=Oa,Fa=(0,b.Z)(La,Aa,Ra,!1,null,"515c720f",null),Na=Fa.exports,za=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("News Feed")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("news-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("CreateNewsFeed")}}},[e._v("Create News")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("news-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.news,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"title",label:"Title",sortable:"",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title)+" ")]}}])}),t("b-table-column",{attrs:{field:"content",label:"Content",sortable:"",width:"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.content)+" ")]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),t("b-table-column",{attrs:{field:"image",label:"Image",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{height:"50px"}},[t("img",{attrs:{src:e.getImageUrl(a.row.image)}})])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked?t("div",[e.hasPermission("news-edit")?t("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("EditNewsFeed",{id:a.row.id})}}})],1)],1):t("div",[e._v("-")])]):t("div",[t("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),t("br")])},Ua=[],Ea={name:"NewsFeedList",components:{ChangeRequest:wt},data(){return{news:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.news=t.data.news),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/NewsFeed/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"News "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"News "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},$a=Ea,Za=(0,b.Z)($a,za,Ua,!1,null,null,null),Va=Za.exports,qa=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/newsfeed"}},[e._v("News Feed")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.newsFeedData.title.class,message:e.newsFeedData.title.message}},[t("template",{slot:"label"},[e._v("Title "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.newsFeedData.title.blur()}},model:{value:e.newsFeedData.title.value,callback:function(t){e.$set(e.newsFeedData.title,"value",t)},expression:"newsFeedData.title.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.newsFeedData.content.class,message:e.newsFeedData.content.message}},[t("template",{slot:"label"},[e._v("content "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"1000",type:"textarea",expanded:""},on:{blur:function(t){return e.newsFeedData.content.blur()}},model:{value:e.newsFeedData.content.value,callback:function(t){e.$set(e.newsFeedData.content,"value",t)},expression:"newsFeedData.content.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.newsFeedData.image.class,message:e.newsFeedData.image.message}},[t("template",{slot:"label"},[e._v("image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t("div",{staticClass:"column"},[t("image-upload-component",{attrs:{type:e.newsFeedData.image.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.newsFeedData.image.value,callback:function(t){e.$set(e.newsFeedData.image,"value",t)},expression:"newsFeedData.image.value"}})],1),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.newsFeedData.disabled.value,callback:function(t){e.$set(e.newsFeedData.disabled,"value",t)},expression:"newsFeedData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.newsFeedData.disabled.value,callback:function(t){e.$set(e.newsFeedData.disabled,"value",t)},expression:"newsFeedData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},Ba=[],ja={name:"CreateNewsFeed",components:{ImageUploadComponent:Sa},data(){return{imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),newsFeedData:{title:new Ct.Y(/^\w+[\w\s]+$/),content:new Ct.Y(/^[\w\s\S]+$/),image:new Ct.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ct.Y},checkBoxVal:!1}},watch:{},methods:{onImageUpload:function(e){this.newsFeedData.image.blur(),e.valid||this.newsFeedData.image.invalidate("Uploaded image is invalid")},validate:function(){const e=this;let t=!0;return e.newsFeedData.image.value||(e.newsFeedData.image.invalidate("Please upload a image"),t=!1),Object.keys(e.newsFeedData).forEach((function(a){console.log(e.newsFeedData[a].validate()),e.newsFeedData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={title:e.newsFeedData.title.value,content:e.newsFeedData.content.value,image:e.newsFeedData.image.value,disabled:e.newsFeedData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/create",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"News Feed sent for approval"};e.$buefy.toast.open(t),e.navigateTo("NewsFeed")}else{const t={type:"is-warning",message:"News Feed save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.newsFeedData.disabled.value=0}},Ma=ja,Ha=(0,b.Z)(Ma,qa,Ba,!1,null,"13635899",null),Ya=Ha.exports,Ga=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/newsfeed"}},[e._v("News Feed")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.NewsFeedData.title.class,message:e.NewsFeedData.title.message}},[t("template",{slot:"label"},[e._v("Title "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.NewsFeedData.title.blur()}},model:{value:e.NewsFeedData.title.value,callback:function(t){e.$set(e.NewsFeedData.title,"value",t)},expression:"NewsFeedData.title.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NewsFeedData.content.class,message:e.NewsFeedData.content.message}},[t("template",{slot:"label"},[e._v("Content "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{type:"textarea",maxlength:"1000",expanded:""},on:{blur:function(t){return e.NewsFeedData.content.blur()}},model:{value:e.NewsFeedData.content.value,callback:function(t){e.$set(e.NewsFeedData.content,"value",t)},expression:"NewsFeedData.content.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.NewsFeedData.image.class,message:e.NewsFeedData.image.message}},[t("template",{slot:"label"},[e._v("Image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[t("div",{staticClass:"column"},[t("image-upload-component",{attrs:{type:e.NewsFeedData.image.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.NewsFeedData.image.value,callback:function(t){e.$set(e.NewsFeedData.image,"value",t)},expression:"NewsFeedData.image.value"}})],1),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})])])],2),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.NewsFeedData.disabled.value,callback:function(t){e.$set(e.NewsFeedData.disabled,"value",t)},expression:"NewsFeedData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.NewsFeedData.disabled.value,callback:function(t){e.$set(e.NewsFeedData.disabled,"value",t)},expression:"NewsFeedData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},Ka=[],Wa={name:"EditNotification",components:{ImageUploadComponent:Sa},data(){return{imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),newsId:0,NewsFeedData:{title:new Ct.Y(/^\w+[\w\s]+$/),content:new Ct.Y(/^[\w\s\S]+$/),image:new Ct.Y(void 0,"Please select a image",void 0,!0),disabled:new Ct.Y},checkBoxVal:!1}},methods:{onImageUpload:function(e){this.bankData.logo.blur(),e.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},loadImage:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},getForEdit:function(){const e=this,t={id:e.$route.params.id};e.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.news;e.newsId=a.id,e.NewsFeedData.title.value=a.title,e.NewsFeedData.content.value=a.content,e.NewsFeedData.image.value=a.image,e.NewsFeedData.disabled.value=a.disabled,e.placeholder_image=e.loadImage(a.image)}e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;return Object.keys(e.NewsFeedData).forEach((function(a){console.log(e.NewsFeedData[a].validate()),e.NewsFeedData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={id:e.$route.params.id,title:e.NewsFeedData.title.value,content:e.NewsFeedData.content.value,image:e.NewsFeedData.image.value,disabled:e.NewsFeedData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/NewsFeed/edit",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"News Feed sent for approval"};e.$buefy.toast.open(t),e.navigateTo("NewsFeed")}else{const t={type:"is-warning",message:"News Feed save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.NewsFeedData.disabled.value=0,this.getForEdit()}},Ja=Wa,Xa=(0,b.Z)(Ja,Ga,Ka,!1,null,"c9f10942",null),Qa=Xa.exports,es=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Banks")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("bank-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("BankCreate")}}},[e._v("Create Bank")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("bank-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.banks,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"bank_code",label:"Bank Code",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.bank_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"bank_name",label:"Bank Name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"200px"}},[e._v(e._s(a.row.bank_name))])]}}])}),t("b-table-column",{attrs:{field:"branch",label:"Image"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("img",{staticStyle:{height:"40px"},attrs:{src:e.getImageUrl(a.row.logo)}})])]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked?t("div",[e.hasPermission("bank-edit")?t("div",{staticClass:"b-tooltips"},[t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("BankEdit",{id:a.row.id})}}})],1)],1):t("div",[e._v("-")])]):t("div",[t("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),t("br")])},ts=[],as={name:"BankList",components:{ChangeRequest:wt},data(){return{banks:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:15,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/bank/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.banks=t.data.banks),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/bank/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Bank "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Bank "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},ss=as,is=(0,b.Z)(ss,es,ts,!1,null,null,null),ns=is.exports,os=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/banks"}},[e._v("Banks")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit Bank")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.bankData.bank_code.class,message:e.bankData.bank_code.message}},[t("template",{slot:"label"},[e._v("Bank Code "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:"",readonly:""},on:{blur:function(t){return e.bankData.bank_code.blur()}},model:{value:e.bankData.bank_code.value,callback:function(t){e.$set(e.bankData.bank_code,"value",t)},expression:"bankData.bank_code.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.bankData.bank_name.class,message:e.bankData.bank_name.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.bankData.bank_name.blur()}},model:{value:e.bankData.bank_name.value,callback:function(t){e.$set(e.bankData.bank_name,"value",t)},expression:"bankData.bank_name.value"}})],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",type:e.bankData.logo.class,message:e.bankData.logo.message}},[t("template",{slot:"label"},[e._v("Image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",[t("label",[e._v("(Uploading image size should be less than "+e._s(e.imageValidations.maxSize)+"KB)")]),t("image-upload-component",{attrs:{type:e.bankData.logo.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.bankData.logo.value,callback:function(t){e.$set(e.bankData.logo,"value",t)},expression:"bankData.logo.value"}})],1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.bankData.disabled.value,callback:function(t){e.$set(e.bankData.disabled,"value",t)},expression:"bankData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.bankData.disabled.value,callback:function(t){e.$set(e.bankData.disabled,"value",t)},expression:"bankData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1),t("canvas",{ref:"bankImageCanvas",staticStyle:{display:"none"}})]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.navigateTo("Bank")}}},[e._v("Cancel")])],1)])])])])},ls=[],rs={name:"EditBank",components:{imageUploadComponent:Sa},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,100),placeholder_image:a(9691),bankId:0,bankData:{bank_name:new Ct.Y(/^([a-zA-Z\s&.]){3,}$/,"Name can only have alphanumeric characters with &. and should be at least 3 characters long"),bank_code:new Ct.Y(/^\w{3,}$/,"Bank Code can only have alphanumeric characters with '_' and should be at least 3 characters long"),logo:new Ct.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ct.Y},checkBoxVal:!1}},methods:{onImageUpload:function(e){this.bankData.logo.blur(),e.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},loadImage:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},getForEdit:function(){const e=this,t={id:e.$route.params.id};e.showFullScreenLoader(),q.Z.apiRequest("api/bank/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.bank;e.bankId=a.id,e.bankData.bank_name.value=a.bank_name,e.bankData.bank_code.value=a.bank_code,e.bankData.logo.value=a.logo,e.bankData.disabled.value=a.disabled,e.placeholder_image=e.loadImage(a.logo)}e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;return Object.keys(e.bankData).forEach((function(a){console.log(e.bankData[a].validate()),e.bankData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={id:e.bankId,bank_name:e.bankData.bank_name.value,bank_code:e.bankData.bank_code.value,logo:e.bankData.logo.value,disabled:e.bankData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/bank/edit",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Bank sent for approval"};e.$buefy.toast.open(t),e.navigateTo("Bank")}else if(422===t.statusCode&&t.data.message.includes("Bank code already exists")){const t={type:"is-danger",message:"Bank code already exists. Please choose a different one."};e.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"Bank save failed!"};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.getForEdit()}},cs=rs,us=(0,b.Z)(cs,os,ls,!1,null,"478b81ab",null),ds=us.exports,ps=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/banks"}},[e._v("Bank")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.bankData.bank_code.class,message:e.bankData.bank_code.message}},[t("template",{slot:"label"},[e._v("Bank Code "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.bankData.bank_code.blur()}},model:{value:e.bankData.bank_code.value,callback:function(t){e.$set(e.bankData.bank_code,"value",t)},expression:"bankData.bank_code.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.bankData.bank_name.class,message:e.bankData.bank_name.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.bankData.bank_name.blur()}},model:{value:e.bankData.bank_name.value,callback:function(t){e.$set(e.bankData.bank_name,"value",t)},expression:"bankData.bank_name.value"}})],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",type:e.bankData.logo.class,message:e.bankData.logo.message,required:!0,"required-message":"Please upload a logo"}},[t("template",{slot:"label"},[e._v("Image "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",[t("label",[e._v("(Uploading image size should be less than "+e._s(e.imageValidations.maxSize)+"KB)")]),t("image-upload-component",{attrs:{type:e.bankData.logo.class,index:0,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:e.bankData.logo.value,callback:function(t){e.$set(e.bankData.logo,"value",t)},expression:"bankData.logo.value"}})],1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.bankData.disabled.value,callback:function(t){e.$set(e.bankData.disabled,"value",t)},expression:"bankData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.bankData.disabled.value,callback:function(t){e.$set(e.bankData.disabled,"value",t)},expression:"bankData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1),t("canvas",{ref:"bankImageCanvas",staticStyle:{display:"none"}})]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.navigateTo("Bank")}}},[e._v("Cancel")])],1)])])])])},ms=[],bs={name:"CreateBank",components:{imageUploadComponent:Sa},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,imageValidations:new wa(0,0,0,0,100),placeholder_image:a(9691),imageUploaded:!1,bankId:0,bankData:{bank_name:new Ct.Y(/^([a-zA-Z\s&.]){3,}$/,"Name can only have alphanumeric characters with &. and should be at least 3 characters long"),bank_code:new Ct.Y(/^\w{3,}$/,"Bank Code can only have alphanumeric characters with '_' and should be at least 3 characters long"),logo:new Ct.Y(/[\w/\\]*/,"Please upload an image"),disabled:new Ct.Y},checkBoxVal:!1}},methods:{onImageUpload:function(e){this.bankData.logo.blur(),e.valid||this.bankData.logo.invalidate("Uploaded image is invalid")},validate:function(){const e=this;let t=!0;return e.bankData.logo.value||(e.bankData.logo.invalidate("Please upload a logo"),t=!1),Object.keys(e.bankData).forEach((function(a){console.log(e.bankData[a].validate()),e.bankData[a].validate()||(t=!1)})),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={bank_name:e.bankData.bank_name.value,bank_code:e.bankData.bank_code.value,logo:e.bankData.logo.value,disabled:e.bankData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/bank/create",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Bank sent for approval"};e.$buefy.toast.open(t),e.navigateTo("Bank")}else if(422===t.statusCode&&t.data.message.includes("Bank code already exists")){const t={type:"is-danger",message:"Bank code already exists. Please choose a different one."};e.$buefy.toast.open(t)}else{const t={type:"is-warning",message:"Bank save failed!"};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.bankData.disabled.value=0}},fs=bs,vs=(0,b.Z)(fs,ps,ms,!1,null,"6df7729f",null),gs=vs.exports,hs=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("App User")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"UID","label-position":"on-border"}},[t("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(t){e.searchParams.uid=e.searchParams.uid.trim()}},model:{value:e.searchParams.uid,callback:function(t){e.$set(e.searchParams,"uid",t)},expression:"searchParams.uid"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:e.searchParams.countryCode,callback:function(t){e.$set(e.searchParams,"countryCode",t)},expression:"searchParams.countryCode"}},[t("option",{attrs:{selected:""},domProps:{value:""}},[e._v("All Countries")]),e._l(e.countryList,(function(a){return t("option",{key:a.code,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Fetch Count","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Count",size:"is-small",expanded:""},model:{value:e.searchParams.fetchCount,callback:function(t){e.$set(e.searchParams,"fetchCount",t)},expression:"searchParams.fetchCount"}},[t("option",{attrs:{selected:""},domProps:{value:10}},[e._v("10")]),t("option",{domProps:{value:25}},[e._v("25")]),t("option",{domProps:{value:50}},[e._v("50")]),t("option",{domProps:{value:100}},[e._v("100")]),t("option",{domProps:{value:99999999}},[e._v("All")])])],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),e.hasPermission("app-user-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.appUsers,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"firstName",label:"First Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.firstName)+" ")]}}])}),t("b-table-column",{attrs:{field:"lastName",label:"Last Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.lastName)+" ")]}}])}),t("b-table-column",{attrs:{field:"uidType",label:"UID Type",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uidType)+" ")]}}])}),t("b-table-column",{attrs:{field:"uid",label:"UID",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid)+" ")]}}])}),t("b-table-column",{attrs:{field:"contact",label:"Contact Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.contact)+" ")]}}])}),t("b-table-column",{attrs:{field:"email",label:"Email",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),t("b-table-column",{attrs:{field:"country",label:"Country",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.country)+" ")]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:("Active"===a.row.status?"is-success":"is-danger")+" is-light"}},[e._v(e._s(a.row.status))])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Last Login At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Registered At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"images",label:"Images",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tooltip",{attrs:{label:"Images",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"image"},on:{click:function(t){return e.showUserImages(a.row)}}})],1)]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"columns"},[0===a.row.locked?t("div",{staticClass:"column is-one-fifths"},[e.hasPermission("app-user-edit")?t("div",{staticClass:"b-tooltips",staticStyle:{width:"100px"}},["Active"===a.row.status?t("b-tooltip",{attrs:{label:"Deactivate User",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"circle-off-outline"},on:{click:function(t){return e.disableUser(a.row.id,!0)}}},[e._v("Deactivate")])],1):t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Activate User",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"checkbox-marked-circle-outline"},on:{click:function(t){return e.disableUser(a.row.id,!1)}}},[e._v("Activate")])],1)],1):t("div",[e._v("-")])]):t("div",{staticClass:"column"},[t("b-tooltip",{staticStyle:{width:"100px"},attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1),0===a.row.locked?t("div",{staticClass:"column is-one-fifths"},[e.hasPermission("app-user-edit")?t("div",{staticClass:"b-tooltip",staticStyle:{width:"100px"}},[0===a.row.hold?t("b-tooltip",{attrs:{label:"Hold User",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-warning",size:"is-small"},on:{click:function(t){return e.StartAppUserHoldAction(a.row,!0)}}},[e._v("Hold")])],1):t("b-tooltip",{attrs:{label:"Unhold User",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-info",size:"is-small"},on:{click:function(t){return e.StartAppUserHoldAction(a.row,!1)}}},[e._v("Unhold")])],1)],1):t("div",[e._v("-")])]):t("div",{staticClass:"column"},[t("b-tooltip",{staticStyle:{width:"100px"},attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)])]}}])}),t("b-table-column",{attrs:{field:"reason",label:"Reason",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.user_hold_reason)+" ")]}}])})],1)],1),t("br"),t("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","close-button-aria-label":"Close","aria-modal":""},model:{value:e.isImageModalActive,callback:function(t){e.isImageModalActive=t},expression:"isImageModalActive"}},[t("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v("User Images"),t("b-tag",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.selectedAppUser.uid))])],1),t("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){e.isImageModalActive=!1}}})]),t("section",{staticClass:"modal-card-body"},[t("div",{staticClass:"columns"},[t("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":"on-border"}},[t("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:e.getImageUrl(e.selectedAppUser.selfie)}})]),t("b-field",{staticClass:"column",attrs:{label:"UID Front","label-position":"on-border"}},[t("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:e.getImageUrl(e.selectedAppUser.uidFront)}})]),t("b-field",{staticClass:"column",attrs:{label:"UID Back","label-position":"on-border"}},[t("img",{staticStyle:{height:"150px",border:"1px solid blue"},attrs:{src:e.getImageUrl(e.selectedAppUser.uidBack)}})])],1)]),t("footer",{staticClass:"modal-card-foot"},[t("b-button",{attrs:{label:"Close"},on:{click:function(t){e.isImageModalActive=!1}}})],1)])])],1)},_s=[],ys=a(7092),ws=a(8914),Cs=a(3579),Ds=a.n(Cs);class ks{constructor(e){(0,x.Z)(this,"title",void 0),this.title=e}exportToXlsx(e,t,a,s,i,n,o){const l=this;let r=[[]],c=[];n.forEach((function(e){r[0].push(e.header)})),o.forEach((e=>{let t={};n.forEach((a=>{t[a.dataKey]=e[a.dataKey]})),c.push(t)})),console.log(o),console.log(c);const u=ys.P6.book_new(),d=ys.P6.json_to_sheet([]);d["A1"]={t:"s",v:l.title,s:{font:{sz:24,bold:!0,underline:!1,color:{rgb:"000000"}},alignment:{horizontal:"left",vertical:"center",wrap_text:!0}}},d["A4"]={t:"s",v:"On "+e+" by "+t},d["A6"]={t:"s",v:"Duration"},d["B6"]={t:"s",v:a+" to "+s},d["!merges"]||(d["!merges"]=[]),d["!merges"].push({s:{c:0,r:0},e:{c:26,r:2}}),d["!merges"].push({s:{c:0,r:3},e:{c:26,r:3}}),d["!merges"].push({s:{c:0,r:4},e:{c:26,r:4}}),d["!merges"].push({s:{c:1,r:5},e:{c:26,r:5}}),d["!merges"].push({s:{c:1,r:6},e:{c:26,r:6}}),d["!merges"].push({s:{c:1,r:7},e:{c:26,r:7}}),d["!merges"].push({s:{c:1,r:8},e:{c:26,r:8}}),d["!cols"]=[{wch:10},{wch:15},{wch:10},{wch:20},{wch:15}],ys.P6.sheet_add_aoa(d,r,{origin:"A10"}),ys.P6.sheet_add_json(d,c,{origin:"A11",skipHeader:!0}),ys.P6.book_append_sheet(u,d,"Sheet1"),ys.NC(u,i+".xlsx")}exportToPDF(e,t,a,s,i,n,o){const l=this,r=new ws.jsPDF("l","mm","a1");r.setFontSize(22),r.text(l.title,30,30),r.setTextColor(20),r.setFontSize(10),r.text("On "+e+" by "+t,30,42),r.setTextColor(0),r.setFontSize(12),r.text("Duration   :  "+a+" to "+s,30,60),r.setFontSize(11),r.setTextColor(100);let c=[],u={};for(const d of n)c.push({header:d.header,dataKey:d.dataKey}),"DOUBLE"===d.type&&(u[d.dataKey]={halign:"right"});Ds()(r,{columnStyles:u,body:o,columns:c,startY:100}),r.setProperties({title:l.title,subject:l.title}),r.save(i+".pdf")}}var Ss={name:"AppUserList",components:{ChangeRequest:wt},data(){return{isImageModalActive:!1,filterChanged:!1,crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],countryList:[],searchParams:{uid:"",countryCode:"",fetchCount:10},appUsers:[],selectedAppUser:{},tableHeaders:[],exportWizard:new ks("App Users"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},watch:{searchParams:{handler(){this.filterChanged=!0},deep:!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,new Date,new Date,"appUsers_"+e.formatDate(new Date),e.tableHeaders,e.appUsers)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,new Date,new Date,"appUsers_"+e.formatDate(new Date),e.tableHeaders,e.appUsers)},showUserImages(e){console.log(e),this.selectedAppUser={},this.selectedAppUser=e,this.isImageModalActive=!0},loadData:function(){const e=this;q.Z.apiRequest("api/appUser/list",e.searchParams,(function(t){200===t.statusCode&&(e.appUsers=t.data.appUsers,e.countryList=t.data.countries,e.crData=t.data.changeRequests,e.tableHeaders=t.data.fields,e.filterChanged=!1),e.hideFullScreenLoader()}))},disableUser:function(e,t){const a=this;a.showFullScreenLoader();const s={id:e,disable:t};q.Z.apiRequest("api/appUser/disable",s,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"App user sent for approval"};a.$buefy.toast.open(e)}else{const e={type:"is-warning",message:"App user disable failed"};a.$buefy.toast.open(e)}a.loadData(),a.hideFullScreenLoader()}))},holdAppUser:function(e,t,a){const s=this;s.showFullScreenLoader();const i={id:e,hold:a,description:t};q.Z.apiRequest("api/appUser/hold",i,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"App user sent for approval"};s.$buefy.toast.open(e)}else{const e={type:"is-warning",message:"App user hold failed"};s.$buefy.toast.open(e)}s.loadData(),s.hideFullScreenLoader()}))},canHold:function(e){return"SUCCESS"!==e.ipg_void_status&&"SUCCESS"!==e.ipg_refund_status&&"SUCCESS"!==e.ceft_payment_status&&"SUCCESS"===e.card_payment_status&&this.hasPermission("transaction-hold")&&e.ceft_try_count<100},StartAppUserHoldAction:function(e,t){const a=this;a.hasRatesUpdated?a.GenerateReport():a.$buefy.dialog.prompt({type:"is-danger",title:"Hold/Unhold App User",message:"Confirming this action will hold/unhold the App User (User ID - "+e.id+").<br>Please provide a comment to proceed:",inputAttrs:{required:!0,placeholder:"Enter hold/unhold comment"},onConfirm:s=>{s?a.holdAppUser(e.id,s,t):a.$buefy.toast.open({message:"Hold/Unhold comment is required.",type:"is-danger",position:"is-top",duration:5e3})}})},StartFundTransferAction:function(e){const t=this;t.hasRatesUpdated?t.GenerateReport():t.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will start a manual fund transferring for this transaction (Tran ID - "+e.id+"). <br>If you not sure funds are availabe, please do not take this action. <br>Are you sure to take this action?",onConfirm:()=>t.manualFundTransfer(e)})},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/appUser/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"App user "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"App user "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},xs=Ss,Ps=(0,b.Z)(xs,hs,_s,!1,null,null,null),Is=Ps.exports,Ts=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("App Versions")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("app-version-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("AppVersionCreate")}}},[e._v("Create App Version")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("app-version-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(65),data:e.appVersions,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"appVersion_code",label:"Version",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.version)+" ")]}}])}),t("b-table-column",{attrs:{field:"platforms",label:"Platforms",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-taglist",e._l(a.row.platforms,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary"}},[e._v(e._s(a))])})),1)]}}])}),t("b-table-column",{attrs:{field:"force_update",label:"Force Update",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.force_update?"":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.force_update?"No":"Yes"))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])})],1)],1),t("br")])},As=[],Rs={name:"AppVersionList",components:{ChangeRequest:wt},data(){return{appVersions:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:15,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/AppVersion/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.appVersions=t.data.list),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/AppVersion/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"AppVersion "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"AppVersion "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},Os=Rs,Ls=(0,b.Z)(Os,Ts,As,!1,null,null,null),Fs=Ls.exports,Ns=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/appVersions"}},[e._v("App Version")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("app-version-input",{attrs:{type:e.versionData.version.class,message:e.versionData.version.message,header:"Version"},on:{"on-blur":function(t){return e.versionData.version.blur()}},model:{value:e.versionData.version.value,callback:function(t){e.$set(e.versionData.version,"value",t)},expression:"versionData.version.value"}}),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:"",type:e.versionData.platforms.class,message:e.versionData.platforms.message}},[t("template",{slot:"label"},[e._v("Platforms "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",[t("b-checkbox-button",{attrs:{"native-value":"ANDROID",type:"is-success"},on:{input:function(t){return e.versionData.platforms.blur()}},model:{value:e.versionData.platforms.value,callback:function(t){e.$set(e.versionData.platforms,"value",t)},expression:"versionData.platforms.value"}},[t("b-icon",{attrs:{icon:"android"}}),t("span",[e._v("Android")])],1),t("b-checkbox-button",{attrs:{"native-value":"IOS",type:"is-info"},on:{input:function(t){return e.versionData.platforms.blur()}},model:{value:e.versionData.platforms.value,callback:function(t){e.$set(e.versionData.platforms,"value",t)},expression:"versionData.platforms.value"}},[t("b-icon",{attrs:{icon:"apple-ios"}}),t("span",[e._v("IOS")])],1),t("b-checkbox-button",{attrs:{"native-value":"HUAWEI",type:"is-danger"},on:{input:function(t){return e.versionData.platforms.blur()}},model:{value:e.versionData.platforms.value,callback:function(t){e.$set(e.versionData.platforms,"value",t)},expression:"versionData.platforms.value"}},[t("b-icon",{attrs:{icon:"check"}}),t("span",[e._v("Huawei")])],1)],1)],2),t("b-field",{attrs:{horizontal:""}},[t("div",{staticClass:"block"})]),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Force Update "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-switch",{attrs:{"true-value":1,"false-value":0},model:{value:e.versionData.force_update.value,callback:function(t){e.$set(e.versionData.force_update,"value",t)},expression:"versionData.force_update.value"}},[t("span",{class:1===e.versionData.force_update.value?"has-text-danger":"has-text-success",staticStyle:{"font-weight":"bold"}},[e._v(e._s(1===e.versionData.force_update.value?"Yes":"No"))])])],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.navigateTo("AppVersion")}}},[e._v("Cancel")])],1)])])])])},zs=[],Us=function(){var e=this,t=e._self._c;return t("b-field",{attrs:{horizontal:"",grouped:""}},[t("template",{slot:"label"},[e._v(e._s(e.header)+" "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.versionData.major.class,message:e.versionData.major.message}},[t("b-input",{ref:"major",attrs:{placeholder:"major",maxlength:"4"},on:{input:function(t){return e.onInput(e.versionData.major.value,null)},blur:function(t){return e.onBlur("major")}},nativeOn:{keydown:function(t){return e.onKeyDown.apply(null,arguments)}},model:{value:e.versionData.major.value,callback:function(t){e.$set(e.versionData.major,"value",t)},expression:"versionData.major.value"}})],1),t("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[e._v(".")]),t("b-field",{attrs:{type:e.versionData.minor.class,message:e.versionData.minor.message}},[t("b-input",{ref:"minor",attrs:{placeholder:"minor",maxlength:"4"},on:{input:function(t){return e.onInput(e.versionData.minor.value,"major")},blur:function(t){return e.onBlur("minor")}},nativeOn:{keydown:function(t){return e.onKeyDown.apply(null,arguments)}},model:{value:e.versionData.minor.value,callback:function(t){e.$set(e.versionData.minor,"value",t)},expression:"versionData.minor.value"}})],1),t("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[e._v(".")]),t("b-field",{attrs:{type:e.versionData.patch.class,message:e.versionData.patch.message}},[t("b-input",{ref:"patch",attrs:{placeholder:"patch",maxlength:"4"},on:{input:function(t){return e.onInput(e.versionData.patch.value,"minor")},blur:function(t){return e.onBlur("patch")}},nativeOn:{keydown:function(t){return e.onKeyDown.apply(null,arguments)}},model:{value:e.versionData.patch.value,callback:function(t){e.$set(e.versionData.patch,"value",t)},expression:"versionData.patch.value"}})],1),t("p",{staticStyle:{"font-size":"25px","font-weight":"bold"}},[e._v("+")]),t("b-field",{attrs:{type:e.versionData.build.class,message:e.versionData.build.message}},[t("b-input",{ref:"build",attrs:{placeholder:"build",maxlength:"4"},on:{input:function(t){return e.onInput(e.versionData.build.value,"patch")},blur:function(t){return e.onBlur("build")}},nativeOn:{keydown:function(t){return e.onKeyDown.apply(null,arguments)}},model:{value:e.versionData.build.value,callback:function(t){e.$set(e.versionData.build,"value",t)},expression:"versionData.build.value"}})],1)],2)},Es=[],$s={name:"AppVersionInput",props:["message","type","header"],emits:["on-blur"],data(){return{versionData:{major:new Ct.Y(/\d/,"Please enter a value"),minor:new Ct.Y(/\d/,"Please enter a value"),patch:new Ct.Y(/\d/,"Please enter a value"),build:new Ct.Y(/\d/,"Please enter a value")},version:"",numRegex:/\d/}},watch:{versionData:{handler(){const e=this;e.version=e.versionData.major.value+"."+e.versionData.minor.value+"."+e.versionData.patch.value+"+"+e.versionData.build.value,e.$emit("input",e.version)},deep:!0},type(e){const t=this;"is-danger"===e&&t.validate()}},methods:{validate:function(){const e=this;let t=!0;return Object.keys(e.versionData).forEach((function(a){console.log(e.versionData[a].validate()),e.versionData[a].validate()||(t=!1)})),t},onBlur(e){this.versionData[e].blur(),this.$emit("on-blur")},onInput:function(e,t){const a=this;""===e&&null!==t&&a.$refs[t].focus()},onKeyDown:function(e){const t=this;"Backspace"!==e.key&&"Tab"!==e.key&&(t.numRegex.test(e.key)||e.preventDefault())}},mounted(){}},Zs=$s,Vs=(0,b.Z)(Zs,Us,Es,!1,null,"4cd65743",null),qs=Vs.exports,Bs={name:"CreateAppVersion",components:{AppVersionInput:qs},data(){return{countryList:[],imageHeight:200,imageWidth:300,marginError:15,image:null,placeholder_image:a(9691),versionId:0,platforms:{android:!1,ios:!1,huawei:!1},versionData:{version:new Ct.Y(/^\d+.\d+.\d+\+\d+$/),platforms:new Ct.Y(/^[\w,]+$/,"Please select at least one platform",[],!0),force_update:new Ct.Y(/^\d$/,"",0,!0)},checkBoxVal:!1}},watch:{platforms:{handler(){this.versionData.platforms.value="",this.versionData.platforms.value+=this.platforms.ios?"IOS,":"",this.versionData.platforms.value+=this.platforms.android?"ANDROID,":"",this.versionData.platforms.value+=this.platforms.huawei?"HUAWEI,":""},deep:!0}},methods:{validate:function(){const e=this;let t=!0;return Object.keys(e.versionData).forEach((function(a){console.log(e.versionData[a].validate()),e.versionData[a].validate()||(t=!1)})),0===e.versionData.platforms.value.length&&(t=!1,e.versionData.platforms.invalidate()),t},validateAndSubmit:function(){const e=this;if(e.validate()){const t={appVersion:e.versionData.version.value,platforms:e.versionData.platforms.value,forceUpdate:e.versionData.force_update.value};e.showFullScreenLoader(),q.Z.apiRequest("api/AppVersion/create",t,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"AppVersion sent for approval"};e.$buefy.toast.open(t),e.navigateTo("AppVersion")}else{const t={type:"is-warning",message:"AppVersion save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.versionData.force_update.value=0,this.versionData.platforms.value=[]}},js=Bs,Ms=(0,b.Z)(js,Ns,zs,!1,null,"b67c2430",null),Hs=Ms.exports,Ys=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("IPG Providers")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("ipg-provider-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(55),data:e.ipgProviders,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"provider_bank_code",label:"Provider Bank Code",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.provider_bank_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"provider_bank_code",label:"Provider Bank Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"200px"}},[e._v(e._s(a.row.provider_bank_name))])]}}])}),t("b-table-column",{attrs:{field:"provider_logo",label:"Provider Bank Logo"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{height:"50px"}},[t("img",{attrs:{src:e.getImageUrl(a.row.provider_logo)}})])]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"currency",label:"Currencies",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[e.hasPermission("ipg-provider-currency-view")?t("b-tooltip",{attrs:{label:"Currencies",position:"is-left",type:"is-dark"}},[t("b-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"is-primary",size:"is-small","icon-left":"cash-multiple"},on:{click:function(t){return e.navigateTo("IPGProviderCurrency2",{id:a.row.provider_bank_code})}}})],1):e._e()]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked?t("div",[e.hasPermission("ipg-provider-edit")?t("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[0===a.row.disabled?t("b-tooltip",{attrs:{label:"Deactivate Provider",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"circle-off-outline"},on:{click:function(t){return e.disableProvider(a.row.id,!0)}}},[e._v("Deactivate")])],1):t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Activate User",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-primary",size:"is-small","icon-left":"checkbox-marked-circle-outline"},on:{click:function(t){return e.disableProvider(a.row.id,!1)}}},[e._v("Activate")])],1)],1):e._e()]):t("div",[t("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),t("br")])},Gs=[],Ks={name:"IPGProviderList",components:{ChangeRequest:wt},data(){return{ipgProviders:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.ipgProviders=t.data.providers),e.hideFullScreenLoader()}))},disableProvider:function(e,t){const a=this;a.showFullScreenLoader();const s={id:e,disable:t};q.Z.apiRequest("api/IPGProvider/disable",s,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"IPG Provider sent for approval"};a.$buefy.toast.open(e)}else{const e={type:"is-warning",message:"IPG Provider disable failed"};a.$buefy.toast.open(e)}a.loadData(),a.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/IPGProvider/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"IPG Provider "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"IPG Provider "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},Ws=Ks,Js=(0,b.Z)(Ws,Ys,Gs,!1,null,null,null),Xs=Js.exports,Qs=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v(" IPG Provider Currencies ")]),e.provider.locked?t("b-tooltip",{attrs:{label:"Locked",position:"is-right",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1):e._e(),e.hasRatesUpdated?e._e():t("b-tooltip",{attrs:{label:"Please update rates",position:"is-right",type:"is-dark"}},[t("b-icon",{attrs:{icon:"alert-circle",type:"is-danger",size:"is-medium"}})],1)],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[e.hasPermission("ipg-currency-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading,"custom-change-request":"providerCurrency"},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("section",{staticClass:"columns"},[t("b-field",{staticClass:"column is-one-quarter",attrs:{grouped:""}},[t("template",{slot:"label"},[e._v("Provider Bank Code ")]),t("b-field",[t("b-input",{attrs:{value:e.provider.provider_bank_code,readonly:""}})],1)],2),t("b-field",{staticClass:"column is-one-quarter",attrs:{grouped:""}},[t("template",{slot:"label"},[e._v("Provider Bank Name ")]),t("b-field",[t("b-input",{attrs:{value:e.provider.provider_bank_name,readonly:""}})],1)],2)],1),t("section",{staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-content"},[t("div",{staticStyle:{"margin-bottom":"20px"}},[e._v("Provider Currencies")]),e._l(e.providerCurrencies,(function(a){return t("div",{key:a.id},[t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-one-fifth"},[t("b-field",[t("b-tag",{attrs:{type:"is-primary is-light",size:"is-medium"}},[e._v(e._s(a.currency_code))])],1)],1),t("div",{staticClass:"column"},[t("currency-input",{attrs:{label:"Transaction Rate","max-length":10,decimals:4,"label-position":e.labelPosition,type:a.transaction_rate.class,message:a.transaction_rate.message,disabled:!e.editEnabled},on:{"on-blur":function(e){return a.transaction_rate.blur()}},model:{value:a.transaction_rate.value,callback:function(t){e.$set(a.transaction_rate,"value",t)},expression:"currency.transaction_rate.value"}})],1),t("div",{staticClass:"column"},[t("currency-input",{attrs:{label:"Settlement Rate","max-length":10,decimals:4,"label-position":e.labelPosition,type:a.settlement_rate.class,message:a.settlement_rate.message,disabled:!e.editEnabled},on:{"on-blur":function(e){return a.settlement_rate.blur()}},model:{value:a.settlement_rate.value,callback:function(t){e.$set(a.settlement_rate,"value",t)},expression:"currency.settlement_rate.value"}})],1),t("div",{staticClass:"column is-one-fifth"},[t("b-field",[t("b-switch",{attrs:{type:"is-success",disabled:!e.editEnabled},model:{value:a.is_active,callback:function(t){e.$set(a,"is_active",t)},expression:"currency.is_active"}},[e._v(" "+e._s(a.is_active?"Active":"Inactive")+" ")])],1)],1)])])}))],2)])])],1),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"}),t("div",{staticClass:"column"},[1!==e.provider.locked&&e.hasPermission("ipg-currency-edit")?t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[e.editEnabled?t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]):e._e(),e.editEnabled?e._e():t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){e.editEnabled=!0}}},[e._v("Enable Edit")]),e.editEnabled?t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){e.editEnabled=!1}}},[e._v("Disable Edit")]):e._e()],1):e._e()])])])])},ei=[],ti=function(){var e=this,t=e._self._c;return t("b-field",{attrs:{label:e.label,"label-position":e.labelPosition,type:e.type,message:e.message}},[t("b-input",{attrs:{maxlength:e.maxLength,value:e.inputValue,disabled:e.disabled},on:{blur:function(t){return e.$emit("on-blur")}},nativeOn:{keydown:function(t){return e.onKeyDown.apply(null,arguments)}}})],1)},ai=[],si={name:"CurrencyInput",props:["value","label","labelPosition","type","message","disabled","decimals","maxLength"],emits:["on-blur"],data(){return{inputValue:0,newValue:"0",numRegex:/\d/}},watch:{inputValue(){this.$emit("input",this.inputValue)}},methods:{onKeyDown:function(e){const t=this;if(e.preventDefault(),"Backspace"!==e.key){if(t.numRegex.test(e.key)){const a=10**t.decimals;t.newValue+=e.key;let s=1*t.newValue/a,i=s.toFixed(t.decimals);t.inputValue=t.numberWithCommas(i)}}else{t.newValue="0";let e=1*t.newValue,a=e.toFixed(t.decimals);t.inputValue=t.numberWithCommas(a)}},numberWithCommas:function(e){let t=e.toString().split("."),a=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return a+"."+t[1]}},mounted(){this.inputValue=this.value,this.newValue=this.value+""}},ii=si,ni=(0,b.Z)(ii,ti,ai,!1,null,"33479abd",null),oi=ni.exports;class li{constructor(){(0,x.Z)(this,"id",0),(0,x.Z)(this,"currency_code",""),(0,x.Z)(this,"transaction_rate",new Ct.Y),(0,x.Z)(this,"settlement_rate",new Ct.Y),(0,x.Z)(this,"is_active",!0)}}var ri={name:"IPGProviderCurrencyList",components:{CurrencyInput:oi,ChangeRequest:wt},data(){return{labelPosition:"on-border",editEnabled:!1,hasRatesUpdated:!0,crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],minValue:1e-4,maxValue:9999999999,provider:{provider_bank_code:"",provider_bank_name:""},providerCurrencies:[],provider_bank_code:""}},computed:{},watch:{},methods:{loadData:function(){const e=this;e.providerCurrencies=[],e.isSuperAdmin()?e.provider_bank_code=e.$route.params.id:e.provider_bank_code=e.authUser().branch;const t={provider_bank_code:e.provider_bank_code};e.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/currency/list",t,(function(t){200===t.statusCode&&(t.data.currencies.forEach((function(t){let a=new li;a.id=t.id,a.currency_code=t.currency_code,a.transaction_rate.value=t.transaction_rate,a.settlement_rate.value=t.settlement_rate,a.is_active=0===t.disabled,e.providerCurrencies.push(a)})),e.provider=t.data.provider,e.crData=t.data.changeRequests,e.hasRatesUpdated=t.data.hasRatesUpdated,e.hasRatesUpdated||e.$buefy.dialog.alert({title:"Acknowledgement",message:"Today's <b>Currency Rates</b> has not been updated yet!.",type:"is-danger",hasIcon:!0})),e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;return e.providerCurrencies.forEach((function(a){t=a.transaction_rate.validate(),t=a.settlement_rate.validate(),t&&((a.transaction_rate.value<e.minValue||a.transaction_rate.value>e.maxValue)&&(t=!1,a.transaction_rate.invalidate("value must be greater than "+e.minValue+" and less than "+e.maxValue)),(a.settlement_rate.value<0||a.settlement_rate.value>e.maxValue)&&(t=!1,a.transaction_rate.invalidate("value must be greater than 0.0 and less than "+e.maxValue)))})),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=[];e.providerCurrencies.forEach((function(e){let a={disabled:e.is_active?0:1,provider_bank_code:e.provider_bank_code,currency_code:e.currency_code,transaction_rate:e.transaction_rate.value,settlement_rate:e.settlement_rate.value};t.push(a)}));let a={provider_bank_code:e.provider_bank_code,currencies:t};e.showFullScreenLoader(),q.Z.apiRequest("api/IPGProvider/currency/save",a,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"IPG provider currencies saved"};e.$buefy.toast.open(t),e.editEnabled=!1,e.loadData()}else{const t={type:"is-warning",message:"IPG provider currencies save Failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}},approve_or_reject:function(e){const t=this;t.crIsLoading=!0,q.Z.apiRequest("api/IPGProvider/currency/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"IPG Provider Currency "+e.actionTaken+" successfully"};t.$buefy.toast.open(a)}else{const a={type:"is-warning",message:"IPG Provider Currency "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}location.reload(),t.crIsLoading=!1}))}},mounted(){const e=this;e.loadData()}},ci=ri,ui=(0,b.Z)(ci,Qs,ei,!1,null,null,null),di=ui.exports,pi=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Advertisements")])],1)],1),t("div",{staticClass:"column"},[e.hasPermission("advertisement-create")?t("b-button",{staticClass:"is-pulled-right",attrs:{type:"is-success is-small","icon-right":"plus"},on:{click:function(t){return e.navigateTo("CreateAdvertisement")}}},[e._v("Create Advertisement")]):e._e()],1)])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[e.hasPermission("advertisement-approve")?t("change-request",{attrs:{data:e.crData,"filter-out":e.filterOutFromCR,"is-loading":e.crIsLoading},on:{"approve-or-reject":e.approve_or_reject}}):e._e(),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.advertisements,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"title",label:"Title",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"200px"}},[e._v(e._s(a.row.title))])]}}])}),t("b-table-column",{attrs:{field:"countries",label:"Countries",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-taglist",e._l(a.row.countries,(function(a){return t("b-tag",{key:a.id,attrs:{type:"is-primary"}},[e._v(e._s(a))])})),1)]}}])}),t("b-table-column",{attrs:{field:"valid_from",label:"Valid From",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(e._s(new Date(a.row.valid_from).toLocaleString()))])]}}])}),t("b-table-column",{attrs:{field:"valid_to",label:"Valid To",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(e._s(new Date(a.row.valid_to).toLocaleString()))])]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{attrs:{type:(0===a.row.disabled?"is-success":"is-danger")+" is-light"}},[e._v(e._s(0===a.row.disabled?"Active":"Inactive"))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[0===a.row.locked?t("div",[e.hasPermission("advertisement-edit")?t("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Edit",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small","icon-left":"lead-pencil"},on:{click:function(t){return e.navigateTo("EditAdvertisement",{id:a.row.id})}}})],1)],1):t("div",[e._v("-")])]):t("div",[t("b-tooltip",{attrs:{label:"Locked",position:"is-left",type:"is-dark"}},[t("b-icon",{attrs:{icon:"lock",size:"is-medium"}})],1)],1)]}}])})],1)],1),t("br")])},mi=[],bi={name:"AdvertisementList",components:{ChangeRequest:wt},data(){return{advertisements:[],crData:[],crIsLoading:!1,filterOutFromCR:["id","created_at","updated_at","locked"],tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:5,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{},methods:{getImageUrl:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/list",{},(function(t){200===t.statusCode&&(e.crData=t.data.changeRequests,e.advertisements=t.data.advertisements),e.hideFullScreenLoader()}))},approve_or_reject:function(e){const t=this;this.crIsLoading=!0,q.Z.apiRequest("api/Advertisement/approve",e,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Advertisement "+e.actionTaken+" successfully"};t.$buefy.toast.open(a),location.reload()}else{const a={type:"is-warning",message:"Advertisement "+e.actionTaken+" failed!"};t.$buefy.toast.open(a)}t.crIsLoading=!1}))}},mounted(){this.loadData()}},fi=bi,vi=(0,b.Z)(fi,pi,mi,!1,null,null,null),gi=vi.exports,hi=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/advertisements"}},[e._v("Advertisement")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Create")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.advertisementData.title.class,message:e.advertisementData.title.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.advertisementData.title.blur()}},model:{value:e.advertisementData.title.value,callback:function(t){e.$set(e.advertisementData.title,"value",t)},expression:"advertisementData.title.value"}})],2),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Countries "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.advertisementData.countries.class,message:e.advertisementData.countries.message}},[t("b-select",{attrs:{placeholder:"Currency"},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Country")]),e._l(e.countryListRef,(function(a){return t("option",{key:a.id,domProps:{value:a}},[e._v(e._s(a.name))])}))],2),t("p",{staticClass:"control"},[t("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(t){return e.addCountryTag()}}})],1)],1),t("div",e._l(e.countryTags,(function(a){return t("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[t("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(t){return e.deleteCountryTag(a)}}},[e._v(" "+e._s(a.code)+" ")])],1)})),1)],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.valid_from.class,message:e.advertisementData.valid_from.message}},[t("template",{slot:"label"},[e._v("Valid From "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-datepicker",{attrs:{"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.advertisementData.valid_from.value,callback:function(t){e.$set(e.advertisementData.valid_from,"value",t)},expression:"advertisementData.valid_from.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.valid_to.class,message:e.advertisementData.valid_to.message}},[t("template",{slot:"label"},[e._v("Valid To "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-datepicker",{attrs:{"min-date":e.advertisementData.valid_from.value,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},model:{value:e.advertisementData.valid_to.value,callback:function(t){e.$set(e.advertisementData.valid_to,"value",t)},expression:"advertisementData.valid_to.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.images.class,message:e.advertisementData.images.message}},[t("template",{slot:"label"},[e._v("Images "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[e._l(e.images,(function(a,s){return t("div",{key:a.id,staticClass:"column"},[t("image-upload-component",{attrs:{index:s,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:e.placeholder_image},on:{"on-upload":e.onImageUpload},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"img.value"}}),t("br"),t("b-field",{attrs:{type:a.link.class,message:a.link.message,label:"Advertisement Link","label-position":"on-border"}},[t("b-input",{attrs:{placeholder:"Advertisement link",maxlength:"512",expanded:""},on:{blur:function(e){return a.link.blur()}},model:{value:a.link.value,callback:function(t){e.$set(a.link,"value",t)},expression:"img.link.value"}})],1)],1)})),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})],2)])],2),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.advertisementData.disabled.value,callback:function(t){e.$set(e.advertisementData.disabled,"value",t)},expression:"advertisementData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.advertisementData.disabled.value,callback:function(t){e.$set(e.advertisementData.disabled,"value",t)},expression:"advertisementData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success",disabled:!e.isImageSelected},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},_i=[];class yi{constructor(){(0,x.Z)(this,"value",void 0),(0,x.Z)(this,"image",void 0),(0,x.Z)(this,"link",void 0),(0,x.Z)(this,"originalImage",void 0),(0,x.Z)(this,"isOriginal",void 0),this.value="",this.image="",this.link=new Ct.Y(/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z\d.-]+(:\d+)?)((?:\/[+~%/.\w-_]*)?\??#?)?)$/,"Please enter a valid URL"),this.originalImage="",this.isOriginal=!1}}var wi={name:"CreateAdvertisement",components:{ImageUploadComponent:Sa},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),images:[new yi,new yi,new yi,new yi,new yi],advertisementData:{title:new Ct.Y(/^\w+[\w\s]+$/),countries:new Ct.Y(void 0,"Please select at least one country"),valid_from:new Ct.Y(void 0,void 0,new Date,!0),valid_to:new Ct.Y(void 0,void 0,new Date,!0),images:new Ct.Y(void 0,"Please select at least one image",void 0,!0),disabled:new Ct.Y},checkBoxVal:!1}},computed:{isImageSelected(){return this.images.some((e=>""!==e.value))},countryListRef(){const e=this;let t=[];return e.countryList.forEach((function(a){e.countryTags.includes(a)||t.push(a)})),t}},watch:{},methods:{onImageUpload:function(e){const t=this;t.advertisementData.images.blur(),console.log(e)},addCountryTag:function(){const e=this;e.advertisementData.countries.blur(),""!==e.selectedCountry&&e.countryTags.push(e.selectedCountry),e.selectedCountry="",e.advertisementData.countries.value="",e.countryTags.forEach((function(t,a){e.advertisementData.countries.value+=(0===a?"":"|")+t.code}))},deleteCountryTag:function(e){const t=this;let a=t.countryTags.indexOf(e);t.countryTags.splice(a,1),t.advertisementData.countries.value="",t.countryTags.forEach((function(e,a){t.advertisementData.countries.value+=(0===a?"":"|")+e.code}))},onFromDateChange:function(){const e=this;e.advertisementData.valid_to.value.getTime()<e.advertisementData.valid_from.value.getTime()&&(e.advertisementData.valid_to.value=e.advertisementData.valid_from.value)},initialData:function(){const e=this;q.Z.apiRequest("api/Advertisement/initial-create-data",{},(function(t){200===t.statusCode&&t.data.countries.forEach((function(t){e.countryList.push(t)}))}))},validate:function(){const e=this;let t=!0;Object.keys(e.advertisementData).forEach((function(a){console.log(e.advertisementData[a].validate()),e.advertisementData[a].validate()||(t=!1)}));let a=0;return e.images.forEach((function(e){e.value?(""===e.value&&a++,e.link.validate()||(t=!1)):a++})),a===e.images.length&&e.advertisementData.images.invalidate(),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=[],a=[];e.countryTags.forEach((function(e){t.push(e.code)})),e.images.forEach((function(e){if(""!==e.value){let t={image:e.value,link:e.link.value};a.push(t)}}));let s=e.formatDate(e.advertisementData.valid_from.value),i=e.formatDate(e.advertisementData.valid_to.value);s=s.split(" ")[0]+"T00:00:01",i=i.split(" ")[0]+"T23:59:59";const n={title:e.advertisementData.title.value,countries:t,valid_from:s,valid_to:i,images:a,disabled:e.advertisementData.disabled.value};q.Z.apiRequest("api/Advertisement/create",n,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Advertisement sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else{const t={type:"is-warning",message:"Advertisement save failed!."};e.$buefy.toast.open(t)}}))}}},mounted(){this.advertisementData.disabled.value=0,this.initialData()}},Ci=wi,Di=(0,b.Z)(Ci,hi,_i,!1,null,"18661f94",null),ki=Di.exports,Si=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/advertisements"}},[e._v("Advertisement")]),t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Edit")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"70vh"}},[t("section",[t("b-field",{attrs:{horizontal:"",type:e.advertisementData.title.class,message:e.advertisementData.title.message}},[t("template",{slot:"label"},[e._v("Name "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-input",{attrs:{maxlength:"100",expanded:""},on:{blur:function(t){return e.advertisementData.title.blur()}},model:{value:e.advertisementData.title.value,callback:function(t){e.$set(e.advertisementData.title,"value",t)},expression:"advertisementData.title.value"}})],2),t("b-field",{attrs:{horizontal:""}},[t("template",{slot:"label"},[e._v("Countries "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-field",{attrs:{type:e.advertisementData.countries.class,message:e.advertisementData.countries.message}},[t("b-select",{attrs:{placeholder:"Currency"},model:{value:e.selectedCountry,callback:function(t){e.selectedCountry=t},expression:"selectedCountry"}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select Country")]),e._l(e.countryListRef,(function(a){return t("option",{key:a.id,domProps:{value:a}},[e._v(e._s(a.name))])}))],2),t("p",{staticClass:"control"},[t("b-button",{attrs:{type:"is-primary",label:"Add"},on:{click:function(t){return e.addCountryTag()}}})],1)],1),t("div",e._l(e.countryTags,(function(a){return t("b-tooltip",{key:a.id,staticStyle:{"margin-left":"5px","margin-bottom":"5px"},attrs:{label:a.name}},[t("b-tag",{attrs:{type:"ALL"===a.code?"is-danger":"is-info",size:"is-medium",closable:"","aria-close-label":"Close tag"},on:{close:function(t){return e.deleteCountryTag(a)}}},[e._v(" "+e._s(a.code)+" ")])],1)})),1)],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.valid_from.class,message:e.advertisementData.valid_from.message}},[t("template",{slot:"label"},[e._v("Valid From "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-datepicker",{attrs:{"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.advertisementData.valid_from.value,callback:function(t){e.$set(e.advertisementData.valid_from,"value",t)},expression:"advertisementData.valid_from.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.valid_to.class,message:e.advertisementData.valid_to.message}},[t("template",{slot:"label"},[e._v("Valid To "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("b-datepicker",{attrs:{"min-date":e.advertisementData.valid_from.value,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},model:{value:e.advertisementData.valid_to.value,callback:function(t){e.$set(e.advertisementData.valid_to,"value",t)},expression:"advertisementData.valid_to.value"}})],2),t("b-field",{attrs:{horizontal:"",type:e.advertisementData.images.class,message:e.advertisementData.images.message}},[t("template",{slot:"label"},[e._v("Images "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{},[t("div",{staticClass:"columns is-align-content-space-evenly is-flex-wrap-wrap"},[e._l(e.images,(function(a,s){return t("div",{key:a.id,staticClass:"column"},[t("image-upload-component",{attrs:{index:s,"image-height":e.imageHeight,"image-width":e.imageWidth,"image-validations":e.imageValidations,placeholder_image:""===a.originalImage?e.placeholder_image:e.loadImage(a.originalImage)},on:{"on-upload":e.onImageUpload},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"img.value"}}),t("br"),t("b-field",{attrs:{type:a.link.class,message:a.link.message,label:"Advertisement Link","label-position":"on-border"}},[t("b-input",{attrs:{placeholder:"Advertisement link",maxlength:"512",expanded:""},on:{blur:function(e){return a.link.blur()}},model:{value:a.link.value,callback:function(t){e.$set(a.link,"value",t)},expression:"img.link.value"}})],1)],1)})),t("div",{staticClass:"column",staticStyle:{"text-align":"center",height:"200px",width:"200px"}})],2)])],2),t("b-field",{attrs:{horizontal:"",message:" "}},[t("template",{slot:"label"},[e._v("Status "),t("span",{staticClass:"has-text-danger"},[e._v("*")])]),t("div",{staticClass:"block"},[t("b-radio",{attrs:{name:"status","native-value":"0"},model:{value:e.advertisementData.disabled.value,callback:function(t){e.$set(e.advertisementData.disabled,"value",t)},expression:"advertisementData.disabled.value"}},[e._v(" Active ")]),t("b-radio",{attrs:{name:"status","native-value":"1",type:"is-danger"},model:{value:e.advertisementData.disabled.value,callback:function(t){e.$set(e.advertisementData.disabled,"value",t)},expression:"advertisementData.disabled.value"}},[e._v(" Not Active ")])],1)],2)],1)]),t("footer",{staticClass:"card-footer"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("p",{staticClass:"column has-text-danger is-italic"},[e._v("Fields marked with "),t("big",[e._v("*")]),e._v(" are mandatory")],1)]),t("div",{staticClass:"column"},[t("div",{staticClass:"buttons is-pulled-right",staticStyle:{margin:"5px"}},[t("b-button",{attrs:{loading:!1,type:"is-success"},on:{click:function(t){return e.validateAndSubmit()}}},[e._v("Save")]),t("b-button",{attrs:{type:"is-danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Cancel")])],1)])])])])},xi=[],Pi={name:"EditAdvertisement",components:{ImageUploadComponent:Sa},data(){return{countryList:[{code:"ALL",name:"All Countries"}],selectedCountry:"",countryTags:[],imageHeight:200,imageWidth:300,imageValidations:new wa(0,0,0,0,0),placeholder_image:a(9691),images:[new yi,new yi,new yi,new yi,new yi],addId:"",advertisementData:{title:new Ct.Y(/^\w+[\w\s]+$/),countries:new Ct.Y(void 0,"Please select at least one country"),valid_from:new Ct.Y(void 0,void 0,new Date,!0),valid_to:new Ct.Y(void 0,void 0,new Date,!0),images:new Ct.Y(void 0,"Please select at least one image",void 0,!0),disabled:new Ct.Y},checkBoxVal:!1}},computed:{countryListRef(){const e=this;let t=[];return e.countryList.forEach((function(a){e.countryTags.includes(a)||t.push(a)})),t}},methods:{loadImage:function(e){return Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},onImageUpload:function(e){const t=this;t.advertisementData.images.blur(),console.log(e)},addCountryTag:function(){const e=this;e.advertisementData.countries.blur(),""!==e.selectedCountry&&e.countryTags.push(e.selectedCountry),e.selectedCountry="",e.advertisementData.countries.value="",e.countryTags.forEach((function(t,a){e.advertisementData.countries.value+=(0===a?"":"|")+t.code}))},deleteCountryTag:function(e){const t=this;let a=t.countryTags.indexOf(e);t.countryTags.splice(a,1),t.advertisementData.countries.value="",t.countryTags.forEach((function(e,a){t.advertisementData.countries.value+=(0===a?"":"|")+e.code}))},onFromDateChange:function(){const e=this;e.advertisementData.valid_to.value.getTime()<e.advertisementData.valid_from.value.getTime()&&(e.advertisementData.valid_to.value=e.advertisementData.valid_from.value)},initialData:function(){const e=this;q.Z.apiRequest("api/Advertisement/initial-create-data",{},(function(t){200===t.statusCode&&t.data.countries.forEach((function(t){e.countryList.push(t)})),e.getForEdit()}))},getForEdit:function(){const e=this,t={id:e.$route.params.id};e.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/get-for-edit",t,(function(t){if(200===t.statusCode){const a=t.data.advertisement;e.addId=a.id,e.advertisementData.title.value=a.title,e.advertisementData.valid_from.value=new Date(a.valid_from),e.advertisementData.valid_to.value=new Date(a.valid_to),a.countries.forEach((function(t,a){let s="";for(let i=0;i<e.countryList.length;i++)t===e.countryList[i].code&&(s=e.countryList[i]);e.countryTags.push({code:s.code,name:s.name}),e.advertisementData.countries.value+=(0===a?"":"|")+t.code})),a.images.forEach((function(t,a){e.images[a].originalImage=t.image,e.images[a].link.value=t.link}))}e.hideFullScreenLoader()}))},validate:function(){const e=this;let t=!0;Object.keys(e.advertisementData).forEach((function(a){console.log(e.advertisementData[a].validate()),e.advertisementData[a].validate()||(t=!1)}));let a=0;return e.images.forEach((function(e){""===e.value&&""===e.originalImage?a++:e.link.validate()||(t=!1)})),a===e.images.length&&e.advertisementData.images.invalidate(),t},validateAndSubmit:function(){const e=this;if(e.validate()){let t=[],a=[];e.countryTags.forEach((function(e){t.push(e.code)})),e.images.forEach((function(e){if(""===e.value&&""!==e.originalImage){let t={image:e.originalImage,link:e.link.value};a.push(t)}else if(""!==e.value){let t={image:e.value,link:e.link.value};a.push(t)}}));let s=e.formatDate(e.advertisementData.valid_from.value),i=e.formatDate(e.advertisementData.valid_to.value);s=s.split(" ")[0]+"T00:00:01",i=i.split(" ")[0]+"T23:59:59";const n={id:e.$route.params.id,title:e.advertisementData.title.value,countries:t,valid_from:s,valid_to:i,images:a,disabled:e.advertisementData.disabled.value};e.showFullScreenLoader(),q.Z.apiRequest("api/Advertisement/edit",n,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Advertisement sent for approval"};e.$buefy.toast.open(t),e.$router.go(-1)}else{const t={type:"is-warning",message:"Advertisement save failed!."};e.$buefy.toast.open(t)}e.hideFullScreenLoader()}))}}},mounted(){this.advertisementData.disabled.value=0,this.initialData()}},Ii=Pi,Ti=(0,b.Z)(Ii,Si,xi,!1,null,"597e91a6",null),Ai=Ti.exports,Ri=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("App Users")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"UID","label-position":"on-border"}},[t("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(t){e.searchParams.uid=e.searchParams.uid.trim()}},model:{value:e.searchParams.uid,callback:function(t){e.$set(e.searchParams,"uid",t)},expression:"searchParams.uid"}})],1),t("b-field",{staticClass:"column is-small",attrs:{label:"KYC Status","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:e.searchParams.kycStatus,callback:function(t){e.$set(e.searchParams,"kycStatus",t)},expression:"searchParams.kycStatus"}},[t("option",{attrs:{selected:""},domProps:{value:"PENDING"}},[e._v("Pending")]),t("option",{domProps:{value:"APPROVED"}},[e._v("Approved")]),t("option",{domProps:{value:"REJECTED"}},[e._v("Rejected")]),t("option",{domProps:{value:""}},[e._v("All")])])],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Fetch Count","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Count",size:"is-small",expanded:""},model:{value:e.searchParams.fetchCount,callback:function(t){e.$set(e.searchParams,"fetchCount",t)},expression:"searchParams.fetchCount"}},[t("option",{attrs:{selected:""},domProps:{value:10}},[e._v("10")]),t("option",{domProps:{value:25}},[e._v("25")]),t("option",{domProps:{value:50}},[e._v("50")]),t("option",{domProps:{value:100}},[e._v("100")]),t("option",{domProps:{value:99999999}},[e._v("All")])])],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")])],1)])],1),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.KYCUsers,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.kycId)+" ")]}}])}),t("b-table-column",{attrs:{field:"firstName",label:"First Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.first_name)+" ")]}}])}),t("b-table-column",{attrs:{field:"lastName",label:"Last Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.last_name)+" ")]}}])}),t("b-table-column",{attrs:{field:"uidType",label:"UID Type",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid_type)+" ")]}}])}),t("b-table-column",{attrs:{field:"uid",label:"UID",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid)+" ")]}}])}),t("b-table-column",{attrs:{field:"contact",label:"Contact Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phone_no)+" ")]}}])}),t("b-table-column",{attrs:{field:"email",label:"Email",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),t("b-table-column",{attrs:{field:"disabled",label:"KYC Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-tag",{staticClass:"is-light",attrs:{type:e.getKycStatusClass(a.row.status)}},[e._v(" "+e._s(a.row.status)+" ")])]}}])}),t("b-table-column",{attrs:{label:"Actions",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-button",{attrs:{size:"is-small",type:"is-warning"},on:{click:function(t){return e.openModal(a.row)}}},[e._v("Review")])]}}])})],1)],1),t("br"),t("b-modal",{attrs:{title:"KYC Information","destroy-on-hide":!1,width:"800px","full-screen":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("header",{staticClass:"modal-card-head"},[t("p",{staticClass:"modal-card-title"},[e._v("KYC Information "),t("b-tag",[e._v(e._s(e.KYCUser.uid))]),e._v(" "),t("b-tag",{staticClass:"is-light",staticStyle:{"margin-left":"10px"},attrs:{type:e.getKycStatusClass(e.KYCUser.status)}},[e._v(" "+e._s(e.KYCUser.status))])],1)]),t("section",{staticClass:"modal-card-body"},[t("div",{staticClass:"columns"},[e.submittedData?t("div",{staticClass:"column"},[t("p",{staticClass:"subtitle is-5",staticStyle:{color:"rgba(0, 0, 0, 0.349)"}},[e._v("Submitted Information [ "+e._s(e.formatDateTime(e.KYCUser.created_at))+" ]")]),t("p",{staticClass:"subtitle"},[e._v("Personal Details")]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-fifths"},e._l(Object.assign({},...Object.keys(e.submittedData).slice(0,-4).map((t=>({[t]:e.submittedData[t]})))),(function(a,s){return t("div",{key:s,staticClass:"field-and-switch"},[t("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":e.labelPosition}},[t("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),0),t("div",{staticClass:"column switches-column"},e._l(Object.assign({},...Object.keys(e.submittedData).slice(0,-4).map((t=>({[t]:e.submittedData[t]})))),(function(a,s){return t("div",{key:s,staticClass:"field-and-switch"},[t("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger",disabled:""},model:{value:a.approved,callback:function(t){e.$set(a,"approved",t)},expression:"field.approved"}},[t("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(a.approved?"Approve":"Reject")+" ")])])],1)})),0)]),t("hr",{staticClass:"mb-4 mt-0",staticStyle:{"background-color":"#9c9c9c",border:"none",height:"0.5px"}}),t("h4",{staticClass:"subtitle"},[e._v("Personal Documents")]),t("br"),t("div",{staticClass:"columns mb-0"},[t("b-field",{staticClass:"column",attrs:{label:"Image 1","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:e.getImageUrl(e.submittedData.image1.value)}})]),t("b-field",{staticClass:"column",attrs:{label:"Image 2","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:e.getImageUrl(e.submittedData.image2.value)}})])],1),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:e.submittedData.image1.approved?"is-success":"is-danger",disabled:""},model:{value:e.submittedData.image1.approved,callback:function(t){e.$set(e.submittedData.image1,"approved",t)},expression:"submittedData.image1.approved"}},[t("span",{class:!0===e.submittedData.image1.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.submittedData.image1.approved?"Approve":"Reject"))])])],1),t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:!0===e.submittedData.image2.approved?"is-success":"is-danger",disabled:""},model:{value:e.submittedData.image2.approved.rejected,callback:function(t){e.$set(e.submittedData.image2.approved,"rejected",t)},expression:"submittedData.image2.approved.rejected"}},[t("span",{class:!0===e.submittedData.image2.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.submittedData.image2.approved?"Approve":"Reject"))])])],1)]),t("div",{staticClass:"columns mt-4"},[t("b-field",{staticClass:"column",attrs:{label:"Image 3","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:e.getImageUrl(e.submittedData.image3.value)}})]),t("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:e.getImageUrl(e.submittedData.userImage.value)}})])],1),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:e.submittedData.image3.approved?"is-success":"is-danger",disabled:""},model:{value:e.submittedData.image3.approved,callback:function(t){e.$set(e.submittedData.image3,"approved",t)},expression:"submittedData.image3.approved"}},[t("span",{class:!0===e.submittedData.image3.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.submittedData.image3.approved?"Approve":"Reject"))])])],1),t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:!0===e.submittedData.userImage.approved?"is-success":"is-danger",disabled:""},model:{value:e.submittedData.userImage.approved,callback:function(t){e.$set(e.submittedData.userImage,"approved",t)},expression:"submittedData.userImage.approved"}},[t("span",{class:!0===e.submittedData.userImage.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.submittedData.userImage.approved?"Approve":"Reject"))])])],1)])]):e._e(),t("div",{staticClass:"column"},[t("p",{staticClass:"subtitle is-5",staticStyle:{color:"rgba(0, 0, 0, 0.349)"}},[e._v("Resubmitted Information [ "+e._s(e.formatDateTime(e.KYCUser.created_at))+" ]")]),t("p",{staticClass:"subtitle"},[e._v("Personal Details")]),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-three-fifths"},e._l(Object.assign({},...Object.keys(e.currentData).slice(0,-4).map((t=>({[t]:e.currentData[t]})))),(function(a,s){return t("div",{key:s,staticClass:"field-and-switch"},[t("b-field",{staticClass:"mt-2 mb-2",attrs:{label:a.title,"label-position":e.labelPosition}},[t("b-input",{attrs:{value:a.value,readonly:""}})],1)],1)})),0),t("div",{staticClass:"column switches-column"},e._l(Object.assign({},...Object.keys(e.currentData).slice(0,-4).map((t=>({[t]:e.currentData[t]})))),(function(a,s){return t("div",{key:s,staticClass:"field-and-switch"},[t("b-switch",{staticClass:"m-4",attrs:{type:a.approved?"is-success":"is-danger"},model:{value:a.approved,callback:function(t){e.$set(a,"approved",t)},expression:"field.approved"}},[t("span",{class:a.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(a.approved?"Approve":"Reject")+" ")])])],1)})),0)]),t("hr",{staticClass:"mb-4 mt-0",staticStyle:{"background-color":"#9c9c9c",border:"none",height:"0.5px"}}),t("h4",{staticClass:"subtitle"},[e._v("Personal Documents")]),t("br"),t("div",{staticClass:"columns mb-0"},[t("b-field",{staticClass:"column",attrs:{label:"Image 1","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:e.getImageUrl(e.currentData.image1.value)}})]),t("b-field",{staticClass:"column",attrs:{label:"Image 2","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"400px"},attrs:{src:e.getImageUrl(e.currentData.image2.value)}})])],1),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:e.currentData.image1.approved?"is-success":"is-danger"},model:{value:e.currentData.image1.approved,callback:function(t){e.$set(e.currentData.image1,"approved",t)},expression:"currentData.image1.approved"}},[t("span",{class:!0===e.currentData.image1.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.currentData.image1.approved?"Approve":"Reject"))])])],1),t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:!0===e.currentData.image2.approved?"is-success":"is-danger"},model:{value:e.currentData.image2.approved,callback:function(t){e.$set(e.currentData.image2,"approved",t)},expression:"currentData.image2.approved"}},[t("span",{class:!0===e.currentData.image2.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.currentData.image2.approved?"Approve":"Reject"))])])],1)]),t("div",{staticClass:"columns mt-4"},[t("b-field",{staticClass:"column",attrs:{label:"Image 3","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:e.getImageUrl(e.currentData.image3.value)}})]),t("b-field",{staticClass:"column",attrs:{label:"Selfie","label-position":e.labelPosition}},[t("img",{staticStyle:{border:"1px solid blue",width:"300px"},attrs:{src:e.getImageUrl(e.currentData.userImage.value)}})])],1),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:!0===e.currentData.image3.approved?"is-success":"is-danger"},model:{value:e.currentData.image3.approved,callback:function(t){e.$set(e.currentData.image3,"approved",t)},expression:"currentData.image3.approved"}},[t("span",{class:!0===e.currentData.image3.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.currentData.image3.approved?"Approve":"Reject"))])])],1),t("div",{staticClass:"column"},[t("b-switch",{attrs:{type:!0===e.currentData.userImage.approved?"is-success":"is-danger"},model:{value:e.currentData.userImage.approved,callback:function(t){e.$set(e.currentData.userImage,"approved",t)},expression:"currentData.userImage.approved"}},[t("span",{class:!0===e.currentData.userImage.approved?"has-text-success":"has-text-danger",staticStyle:{"font-weight":"bold"}},[e._v(e._s(!0===e.currentData.userImage.approved?"Approve":"Reject"))])])],1)])])])]),t("footer",{staticClass:"modal-card-foot",staticStyle:{display:"flex","justify-content":"flex-end"}},[null!==e.submittedData?t("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.updateRequest(e.KYCUser.kycId,e.currentData)}}},[e._v("Update KYC data")]):e._e(),null===e.submittedData?t("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.createRequest(e.KYCUser.userId,e.currentData)}}},[e._v("Create KYC request")]):e._e(),t("b-button",{on:{click:function(t){e.isKycModalActive=!1}}},[e._v("Cancel")])],1)]},proxy:!0}]),model:{value:e.isKycModalActive,callback:function(t){e.isKycModalActive=t},expression:"isKycModalActive"}})],1)},Oi=[],Li={name:"KYC",components:{},data(){return{filterChanged:!1,isKycModalActive:!1,currentData:{},searchParams:{uid:"",kycStatus:"",fetchCount:10},submittedData:{},KYCUsers:[],KYCUser:{},selectedAppUser:{},tableHeaders:[],exportWizard:new ks("App Users"),labelPosition:"on-border",tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0}}},computed:{getKycStatusClass(){return e=>"APPROVED"===e?"is-success":"PENDING"===e?"is-warning":"is-danger"}},watch:{searchParams:{handler(){this.filterChanged=!0},deep:!0}},methods:{getImageUrl:function(e){return console.log(Je.$.$api_url+e+"?"+(new Date).getTime()),Je.$.$api_url+"/"+e+"?"+(new Date).getTime()},showUserImages(e){console.log(e),this.selectedAppUser={},this.selectedAppUser=e,this.isImageModalActive=!0},loadData:function(){const e=this;e.showFullScreenLoader(),q.Z.apiRequest("api/kyc/get-all",e.searchParams,(function(t){200===t.statusCode&&(e.KYCUsers=t.data.kycList),e.hideFullScreenLoader()}))},openModal(e){this.KYCUser=e,this.currentData=e.currentData,this.submittedData=e.submittedData,this.isKycModalActive=!0},createRequest(e,t){const a=this,s={userId:e,kycData:t};q.Z.apiRequest("api/kyc/create-request",s,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"KYC request created"};a.$buefy.toast.open(e),location.reload()}else{const e={type:"is-warning",message:"KYC request create failed!"};a.$buefy.toast.open(e)}a.isKycModalActive=!1}))},updateRequest(e,t){const a=this,s={kycId:e,kycData:t};q.Z.apiRequest("api/kyc/update-status",s,(function(e){if(200===e.statusCode){const e={type:"is-success",message:"KYC updated successfully"};a.$buefy.toast.open(e),location.reload()}else{const e={type:"is-warning",message:"KYC update failed!"};a.$buefy.toast.open(e)}a.isKycModalActive=!1}))}},mounted(){this.loadData()}},Fi=Li,Ni=(0,b.Z)(Fi,Ri,Oi,!1,null,null,null),zi=Ni.exports,Ui=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Bill Transactions")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","min-date":e.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){e.filterChanged=!0}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:e.countryCode,callback:function(t){e.countryCode=t},expression:"countryCode"}},[t("option",{attrs:{selected:""},domProps:{value:""}},[e._v("All Countries")]),e._l(e.countryList,(function(a){return t("option",{key:a.code,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[t("b-input",{attrs:{size:"is-small",expanded:""},model:{value:e.userUID,callback:function(t){e.userUID=t},expression:"userUID"}})],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),t("b-table",{staticClass:"my-table",attrs:{height:e.vhToPixels(55),data:e.filteredList,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.trace)+" ")]}}])}),t("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid)+" ")]}}])}),t("b-table-column",{attrs:{field:"country",label:"Country",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100px"}},[e._v(e._s(a.row.country))])]}}])}),t("b-table-column",{attrs:{field:"billerbank_code",label:"Biller Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.biller_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),t("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.account_number)+" ")]}}])}),t("b-table-column",{attrs:{field:"currency-code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currency_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),t("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[new Date(a.row.card_payment_time).getFullYear()<1e3?t("p",{staticClass:"expanded-col"},[e._v("-")]):t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.card_payment_status))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.card_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_transaction_id))])]}}])}),t("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Deduction Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:e.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"bill_payment_time",label:"Bill Payments Time",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.bill_payment_time)+" "+a.row.currency_code))])]}}])}),t("b-table-column",{attrs:{field:"bill_payment_status",label:"Bill Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.bill_payment_status))])]}}])}),t("b-table-column",{attrs:{field:"bill_payment_description",label:"Bill Payments Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.bill_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_void_status))])]}}])}),t("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Void Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),t("br")])},Ei=[],$i={name:"BillTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("Bill Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,e.fromDate,e.toDate,"billTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,e.fromDate,e.toDate,"billTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},onFromDateChange:function(){const e=this;e.toDate.getTime()<e.fromDate.getTime()&&(e.toDate=e.fromDate)},loadData:function(){const e=this;e.fromDate.setSeconds(1),e.toDate.setSeconds(0);let t={from_date:e.formatDateTime(e.fromDate),to_date:e.formatDateTime(e.toDate),country_code:e.countryCode,user_uid:e.userUID};console.log(t),e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/billTransactions",t,(function(t){200===t.statusCode&&(e.transactions=t.data.transactions,e.filteredList=t.data.filteredList,e.tableHeaders=t.data.fields,e.countryList=t.data.countries,e.filterChanged=!1),e.hideFullScreenLoader()}))}},mounted(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);let t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.fromDate=e,this.toDate=t,this.loadData()}},Zi=$i,Vi=(0,b.Z)(Zi,Ui,Ei,!1,null,null,null),qi=Vi.exports,Bi=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Send Money Transactions")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-small",attrs:{label:"From","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),t("b-field",{staticClass:"column is-small",attrs:{label:"To","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","min-date":e.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){e.filterChanged=!0}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),t("b-field",{staticClass:"column is-small",attrs:{label:"Transaction Status","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:e.transactionStatus,callback:function(t){e.transactionStatus=t},expression:"transactionStatus"}},[t("option",{attrs:{selected:""},domProps:{value:"PENDING"}},[e._v("Pending")]),t("option",{domProps:{value:"SUCCESS"}},[e._v("Success")]),t("option",{domProps:{value:"FAILED"}},[e._v("Failed")]),t("option",{domProps:{value:""}},[e._v("All")])])],1),t("b-field",{staticClass:"column is-small",attrs:{label:"Reminting Accounts Type","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a type",size:"is-small",expanded:""},model:{value:e.accountsType,callback:function(t){e.accountsType=t},expression:"accountsType"}},[t("option",{attrs:{selected:""},domProps:{value:"LKR"}},[e._v("LKR")]),t("option",{domProps:{value:"USD"}},[e._v("USD")]),e._v("aa "),t("option",{domProps:{value:""}},[e._v("All")])])],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[t("b-input",{attrs:{size:"is-small",expanded:""},model:{value:e.userUID,callback:function(t){e.userUID=t},expression:"userUID"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),t("b-table",{attrs:{height:e.vhToPixels(55),data:e.filteredList,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"tran_type",label:"Transaction Type",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.tran_type)+" ")]}}])}),t("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.trace)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100px"}},[e._v(e._s(a.row.country))])]}}])}),t("b-table-column",{attrs:{field:"bank_code",label:"Bank Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.bank_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),t("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.account_number)+" ")]}}])}),t("b-table-column",{attrs:{field:"remittance_currency",label:"Remittance Curreny",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.account_type)+" ")]}}])}),t("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currency_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),t("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.card_payment_status))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.card_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_transaction_id))])]}}])}),t("b-table-column",{attrs:{field:"ipg_charge",label:"IPG Commission",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_commission))])]}}])}),t("b-table-column",{attrs:{field:"Bank_charge",label:"Bank Commission",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.bank_charge))])]}}])}),t("b-table-column",{attrs:{field:"remitting_amount",label:"Remitting Amounts",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.beneficiary_received_amount_lkr))])]}}])}),t("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Deduction Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.exchange_rate_final,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:e.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"ceft_payment_time",label:"CEFT Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ceft_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ceft_payment_status",label:"CEFT Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(" "+e._s(a.row.ceft_payment_status))])]}}])}),t("b-table-column",{attrs:{field:"ceft_payment_description",label:"CEFT Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(" "+e._s(a.row.ceft_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ceft_transaction_id",label:"CEFT Transaction ID",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(" "+e._s(a.row.ceft_transaction_id))])]}}])}),t("b-table-column",{attrs:{field:"ceft_try_count",label:"CEFT Try Count",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(" "+e._s(a.row.ceft_try_count)+" ")])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_void_status))])]}}])}),t("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Void Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"ipg_refund_payment_time",label:"IPG Refund Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ipg_refund_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Refund Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_refund_status))])]}}])}),t("b-table-column",{attrs:{field:"void_data",label:"Refund Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Refund Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Refund Tran ID","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_refund_tran_id,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Description","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_refund_description,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Code","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_refund_code,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Message","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_refund_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.created_at)))])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.updated_at)))])]}}])}),t("b-table-column",{attrs:{field:"action",label:"Action",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"columns"},[e.canHold(a.row)?t("div",{staticClass:"column"},[t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Hold Fund-transfer",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-warning","icon-left":"timer-stop",size:"is-small"},on:{click:function(t){return e.StartTransferHoldAction(a.row)}}})],1)],1):e._e(),e.canFundTransfer(a.row)?t("div",{staticClass:"column"},[t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Manual Fund transfer",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-info","icon-left":"autorenew",size:"is-small"},on:{click:function(t){return e.StartFundTransferAction(a.row)}}})],1)],1):e._e(),e.canRefund(a.row)?t("div",{staticClass:"column"},[t("div",{staticClass:"b-tooltips",staticStyle:{width:"150px"}},[e.isToday(a.row.card_payment_time)?t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Void Transaction",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small",label:"Void"},on:{click:function(t){return e.StartRefundAction("void",a.row.id)}}})],1):t("b-tooltip",{staticStyle:{"margin-left":"10px"},attrs:{label:"Refund Transaction",position:"is-left",type:"is-dark"}},[t("b-button",{attrs:{type:"is-danger",size:"is-small",label:"Refund"},on:{click:function(t){return e.StartRefundAction("refund",a.row.id)}}})],1)],1)]):e._e()])]}}])})],1)],1),t("br")])},ji=[],Mi={name:"CEFTTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",userUID:"",transactionStatus:"",accountsType:"",countryList:[],transactions:[],filteredList:[],exportWizard:new ks("CEFT Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,e.fromDate,e.toDate,"ceftTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,e.fromDate,e.toDate,"ceftTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},onFromDateChange:function(){const e=this;e.toDate.getTime()<e.fromDate.getTime()&&(e.toDate=e.fromDate)},canRefund:function(e){return"SUCCESS"!==e.ipg_void_status&&"SUCCESS"!==e.ipg_refund_status&&e.refund_requested&&this.hasPermission("transaction-refund")},canFundTransfer:function(e){return"SUCCESS"!==e.ipg_void_status&&"SUCCESS"!==e.ipg_refund_status&&"SUCCESS"!==e.ceft_payment_status&&"SUCCESS"===e.card_payment_status&&this.hasPermission("transaction-retry")},canHold:function(e){return"SUCCESS"!==e.ipg_void_status&&"SUCCESS"!==e.ipg_refund_status&&"SUCCESS"!==e.ceft_payment_status&&"SUCCESS"===e.card_payment_status&&this.hasPermission("transaction-hold")&&e.ceft_try_count<100},isToday:function(e){let t=this.formatDate((new Date).toLocaleString()),a=this.formatDate(e);return t===a},loadData:function(){const e=this;e.fromDate.setSeconds(1),e.toDate.setSeconds(0);let t={from_date:e.formatDateTime(e.fromDate),to_date:e.formatDateTime(e.toDate),account_type:e.accountsType,status:e.transactionStatus,user_uid:e.userUID};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/get-ceftTransaction",t,(function(t){200===t.statusCode&&(e.transactions=t.data.transactions,e.filteredList=t.data.filteredList,e.tableHeaders=t.data.fields,e.countryList=t.data.countries,e.filterChanged=!1),e.hideFullScreenLoader()}))},StartTransferHoldAction:function(e){const t=this;t.hasRatesUpdated?t.GenerateReport():t.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will hold the fund-transfer of the customer (Tran ID - "+e.id+").<br> Do you want to continue?",onConfirm:()=>t.holdFundTransfer(e.id,"")})},StartRefundAction:function(e,t){const a=this;a.hasRatesUpdated?a.GenerateReport():a.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will refund the card payment of the customer (Tran ID - "+t+").<br> Do you want to continue?",onConfirm:()=>"void"===e?a.voidTransaction(t):a.refundTransaction(t)})},StartFundTransferAction:function(e){const t=this;t.hasRatesUpdated?t.GenerateReport():t.$buefy.dialog.confirm({type:"is-danger",title:"Warning!",message:"Taking this action will start a manual fund transferring for this transaction (Tran ID - "+e.id+"). <br>If you not sure funds are availabe, please do not take this action. <br>Are you sure to take this action?",onConfirm:()=>t.manualFundTransfer(e)})},voidTransaction:function(e){const t=this;let a={transactionID:e};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/void",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Transaction voided successfully: Id - "+e};t.$buefy.toast.open(a),t.loadData()}else{const e={type:"is-warning",message:a.data.message};t.$buefy.toast.open(e),t.hideFullScreenLoader()}}))},refundTransaction:function(e){const t=this;let a={transactionID:e};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/refund",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Transaction refunded successfully: Id - "+e};t.$buefy.toast.open(a),t.loadData()}else{const e={type:"is-warning",message:a.data.message};t.$buefy.toast.open(e),t.hideFullScreenLoader()}}))},manualFundTransfer:function(e){const t=this;let a={trace:e.trace};t.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/manualFundTransfer",a,(function(a){if(200===a.statusCode){const a={type:"is-success",message:"Fund transfer successful: Id - "+e.id};t.$buefy.toast.open(a),t.loadData()}else{const e={type:"is-warning",message:a.data.message};t.$buefy.toast.open(e),t.hideFullScreenLoader()}}))},holdFundTransfer:function(e,t){const a=this;let s={id:e,description:t};a.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/ceft/hold",s,(function(t){if(200===t.statusCode){const t={type:"is-success",message:"Transaction hold successful: Id - "+e};a.$buefy.toast.open(t),a.loadData()}else{const e={type:"is-warning",message:t.data.message};a.$buefy.toast.open(e),a.hideFullScreenLoader()}}))}},mounted(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);let t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.fromDate=e,this.toDate=t,this.loadData()}},Hi=Mi,Yi=(0,b.Z)(Hi,Bi,ji,!1,null,null,null),Gi=Yi.exports,Ki=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Thyaga Transactions")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","min-date":e.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){e.filterChanged=!0}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:e.countryCode,callback:function(t){e.countryCode=t},expression:"countryCode"}},[t("option",{attrs:{selected:""},domProps:{value:""}},[e._v("All Countries")]),e._l(e.countryList,(function(a){return t("option",{key:a.code,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[t("b-input",{attrs:{size:"is-small",expanded:""},model:{value:e.userUID,callback:function(t){e.userUID=t},expression:"userUID"}})],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),t("b-table",{attrs:{height:e.vhToPixels(55),data:e.filteredList,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.trace)+" ")]}}])}),t("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.uid)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100px"}},[e._v(e._s(a.row.country))])]}}])}),t("b-table-column",{attrs:{field:"mobile_number",label:"Receiver Phone",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.mobile_number)+" ")]}}])}),t("b-table-column",{attrs:{field:"receiver_name",label:"Receiver Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.receiver_name)+" ")]}}])}),t("b-table-column",{attrs:{field:"send_later",label:"Send Later",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.send_later?"Yes":"No")+" ")]}}])}),t("b-table-column",{attrs:{field:"send_at",label:"Send At",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.send_at)))])]}}])}),t("b-table-column",{attrs:{field:"sender_name",label:"Sender Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sender_name)+" ")]}}])}),t("b-table-column",{attrs:{field:"via_email",label:"Via Email",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.via_email?"Yes":"No")+" ")]}}])}),t("b-table-column",{attrs:{field:"via_sms",label:"Via SMS",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.via_sms?"Yes":"No")+" ")]}}])}),t("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),t("b-table-column",{attrs:{field:"account_number",label:"Account Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.account_number)+" ")]}}])}),t("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currency_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),t("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.card_payment_status))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.card_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_transaction_id))])]}}])}),t("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Deduction Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Beneficiary Received Amount (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:e.numberWithCommas(a.row.beneficiary_received_amount_lkr),size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"thyaga_payment_time",label:"Thyaga Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[new Date(a.row.thyaga_payment_time).getFullYear()<1e3?t("p",{staticClass:"expanded-col"},[e._v("-")]):t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(new Date(a.row.thyaga_payment_time).toLocaleString()))])]}}])}),t("b-table-column",{attrs:{field:"thyaga_payment_status",label:"Thyaga Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.thyaga_payment_status))])]}}])}),t("b-table-column",{attrs:{field:"thyaga_payment_description",label:"Thyaga Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.thyaga_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_void_status))])]}}])}),t("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Void Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),t("br")])},Wi=[],Ji={name:"ThyagaTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("Thyaga Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,e.fromDate,e.toDate,"thyagaTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,e.fromDate,e.toDate,"thyagaTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},onFromDateChange:function(){const e=this;e.toDate.getTime()<e.fromDate.getTime()&&(e.toDate=e.fromDate)},loadData:function(){const e=this;e.fromDate.setSeconds(1),e.toDate.setSeconds(0);let t={from_date:e.formatDateTime(e.fromDate),to_date:e.formatDateTime(e.toDate),country_code:e.countryCode,user_uid:e.userUID};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/thyagaTransactions",t,(function(t){200===t.statusCode&&(e.transactions=t.data.transactions,e.filteredList=t.data.filteredList,e.tableHeaders=t.data.fields,e.countryList=t.data.countries,e.filterChanged=!1),e.hideFullScreenLoader()}))}},mounted(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);let t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.fromDate=e,this.toDate=t,this.loadData()}},Xi=Ji,Qi=(0,b.Z)(Xi,Ki,Wi,!1,null,null,null),en=Qi.exports,tn=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("EChannelling Transactions")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","min-date":e.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){e.filterChanged=!0}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Country","label-position":"on-border"}},[t("b-select",{attrs:{placeholder:"Select a Country",size:"is-small",expanded:""},model:{value:e.countryCode,callback:function(t){e.countryCode=t},expression:"countryCode"}},[t("option",{attrs:{selected:""},domProps:{value:""}},[e._v("All Countries")]),e._l(e.countryList,(function(a){return t("option",{key:a.code,domProps:{value:a.code}},[e._v(e._s(a.name))])}))],2)],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"User UID","label-position":"on-border"}},[t("b-input",{attrs:{size:"is-small",expanded:""},model:{value:e.userUID,callback:function(t){e.userUID=t},expression:"userUID"}})],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),t("b-table",{attrs:{height:e.vhToPixels(55),data:e.filteredList,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Trace Number",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.trace)+" ")]}}])}),t("b-table-column",{attrs:{field:"ec_transaction_id",label:"Echannelling Reference",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.ec_transaction_id)+" ")]}}])}),t("b-table-column",{attrs:{field:"trace",label:"Country",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100px"}},[e._v(e._s(a.row.country))])]}}])}),t("b-table-column",{attrs:{field:"NIC/Passport",label:"NIC/Passport",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{width:"100px"}},[e._v(e._s(a.row.uid))])]}}])}),t("b-table-column",{attrs:{field:"patient_name",label:"Patient Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.patient_name))])]}}])}),t("b-table-column",{attrs:{field:"receiver_name",label:"Patient Mobile",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.patient_mobile)+" ")]}}])}),t("b-table-column",{attrs:{field:"hospital_name",label:"Hospital Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.hospital_name))])]}}])}),t("b-table-column",{attrs:{field:"doctor_name",label:"Doctor Name",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.doctor_name))])]}}])}),t("b-table-column",{attrs:{field:"appointment_day",label:"Appointment Day",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.appointment_day)+" ")]}}])}),t("b-table-column",{attrs:{field:"appointment_date",label:"Appointment Date",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.appointment_date)+" ")]}}])}),t("b-table-column",{attrs:{field:"start_time",label:"Start Time",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.start_time)+" ")]}}])}),t("b-table-column",{attrs:{field:"initiated_time",label:"Tran Initiated Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.initiated_time)))])]}}])}),t("b-table-column",{attrs:{field:"currency_code",label:"Currency Code",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currency_code)+" ")]}}])}),t("b-table-column",{attrs:{field:"amount",label:"Amount",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.amount)+" "+a.row.currency_code))])]}}])}),t("b-table-column",{attrs:{field:"doctor_charge_lkr",label:"Doctor Charge (LKR)",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.doctor_charge_lkr)+" LKR"))])]}}])}),t("b-table-column",{attrs:{field:"hospital_charge_lkr",label:"Hospital Charge (LKR)",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.hospital_charge_lkr)+" LKR"))])]}}])}),t("b-table-column",{attrs:{field:"ec_charge_lkr",label:"EChannelling Charge (LKR)",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.ec_charge_lkr)+" LKR"))])]}}])}),t("b-table-column",{attrs:{field:"total_lkr",label:"Total Charge (LKR)",sortable:"",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticStyle:{width:"100px"}},[e._v(e._s(e.numberWithCommas(a.row.total_lkr)+" LKR"))])]}}])}),t("b-table-column",{attrs:{field:"card_payment_time",label:"Card Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.card_payment_time)))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_status",label:"Card Payment Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.card_payment_status))])]}}])}),t("b-table-column",{attrs:{width:"200",field:"card_payment_description",label:"Card Payment Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.card_payment_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_transaction_id",label:"IPG Transaction ID",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_transaction_id))])]}}])}),t("b-table-column",{attrs:{field:"ipg_data",label:"IPG Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Deduction Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Exchange Rate (LKR)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.exchange_rate_lkr,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Rate (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_rate,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"IPG Commission ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:e.numberWithCommas(a.row.ipg_commission),size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Bank Charge ("+a.row.currency_code+")","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.bank_charge,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Refund Commission (%)","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.refund_commission,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"ec_booking_time",label:"EChannelling Booking Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ec_booking_time)))])]}}])}),t("b-table-column",{attrs:{field:"ec_booking_status",label:"EChannelling Booking Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ec_booking_status))])]}}])}),t("b-table-column",{attrs:{field:"ec_booking_description",label:"EChannelling Booking Description",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col",staticStyle:{width:"200px"}},[e._v(e._s(a.row.ec_booking_description))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_payment_time",label:"IPG Void Payment Time",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(e._s(e.getDateTimeForDisplaying(a.row.ipg_void_payment_time)))])]}}])}),t("b-table-column",{attrs:{field:"ipg_void_status",label:"IPG Void Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"expanded-col"},[e._v(e._s(a.row.ipg_void_status))])]}}])}),t("b-table-column",{attrs:{field:"void_data",label:"Void Details",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("b-collapse",{attrs:{open:!1,"aria-id":"contentIdForA11y1"},scopedSlots:e._u([{key:"trigger",fn:function(e){return[t("b-tooltip",{attrs:{label:"Click to view"}},[t("b-button",{attrs:{label:"","icon-right":"arrow-down-drop-circle-outline",size:"is-small",type:"is-primary","aria-controls":"contentIdForA11y1","aria-expanded":e.open}})],1)]}}],null,!0)},[t("div",{staticClass:"notification"},[t("div",{staticClass:"content",staticStyle:{width:"20rem"}},[t("h5",[e._v(" IPG Deduction Details ")]),t("section",{staticClass:"card-content"},[t("div",{staticClass:"content pt-auto"},[t("b-field",{attrs:{label:"Void Tran ID","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_tran_id,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Description","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_description,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Code","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_code,size:"is-small",readonly:""}})],1),t("b-field",{attrs:{label:"Void Message","custom-class":"is-small"}},[t("b-input",{attrs:{value:a.row.ipg_void_message,size:"is-small",readonly:""}})],1)],1)])])])])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.created_at))+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(e.getDateTimeForDisplaying(a.row.updated_at))+" ")])]}}])})],1)],1),t("br")])},an=[],sn={name:"EChannellingTransactions",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,countryCode:"",countryList:[],transactions:[],filteredList:[],userUID:"",exportWizard:new ks("EChannelling Transactions"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,e.fromDate,e.toDate,"echannellingTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,e.fromDate,e.toDate,"echannellingTransactions_"+e.formatDateTime(new Date),e.tableHeaders,e.filteredList)},onFromDateChange:function(){const e=this;e.toDate.getTime()<e.fromDate.getTime()&&(e.toDate=e.fromDate)},loadData:function(){const e=this;e.fromDate.setSeconds(1),e.toDate.setSeconds(0);let t={from_date:e.formatDateTime(e.fromDate),to_date:e.formatDateTime(e.toDate),country_code:e.countryCode,user_uid:e.userUID};e.showFullScreenLoader(),q.Z.apiRequest("api/Transaction/echannellingTransactions",t,(function(t){200===t.statusCode&&(e.transactions=t.data.transactions,e.filteredList=t.data.filteredList,e.tableHeaders=t.data.fields,e.countryList=t.data.countries,e.filterChanged=!1),e.hideFullScreenLoader()}))}},mounted(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0);let t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(59),this.fromDate=e,this.toDate=t,this.loadData()}},nn=sn,on=(0,b.Z)(nn,tn,an,!1,null,null,null),ln=on.exports,rn=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"card-header p-3"},[t("div",{staticClass:"columns",staticStyle:{width:"100%"}},[t("div",{staticClass:"column"},[t("b-breadcrumb",{attrs:{align:"is-left"}},[t("b-breadcrumb-item",{attrs:{tag:"router-link",to:"",active:""}},[e._v("Activity Log Report")])],1)],1),t("div",{staticClass:"column"})])]),t("div",{staticClass:"card-content",staticStyle:{overflow:"auto",height:"83vh"}},[t("div",{staticClass:"columns",staticStyle:{"margin-top":"10px"}},[t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"From","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){return e.onFromDateChange()}},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"To","label-position":"on-border"}},[t("b-datetimepicker",{attrs:{size:"is-small","min-date":e.fromDate,"show-week-number":!1,locale:"en-CA",placeholder:"Click to select...",icon:"calendar-today","trap-focus":""},on:{input:function(t){e.filterChanged=!0}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),t("b-field",{staticClass:"column is-one-fifths is-small",attrs:{label:"Username","label-position":"on-border"}},[t("b-input",{attrs:{maxlength:"30",size:"is-small"},on:{blur:function(t){e.username=e.username.trim()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("b-field",{staticClass:"column",attrs:{label:""}},[t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-small",type:"is-success"},on:{click:e.loadData}},[e._v("Search")]),t("b-tooltip",{attrs:{label:"Download as Excel"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"microsoft-excel"},on:{click:e.generateXlsx}})],1),t("b-tooltip",{staticStyle:{"margin-left":"5px"},attrs:{label:"Download as PDF"}},[t("b-button",{attrs:{size:"is-small",disabled:e.filterChanged,type:"is-info","icon-right":"file-pdf-box"},on:{click:e.generatePdf}})],1)],1)])],1),t("b-table",{attrs:{height:e.vhToPixels(50),data:e.transactions,paginated:e.tableOptions.isPaginated,"per-page":e.tableOptions.perPage,"current-page":e.tableOptions.currentPage,"pagination-simple":e.tableOptions.isPaginationSimple,"pagination-position":e.tableOptions.paginationPosition,"default-sort-direction":e.tableOptions.defaultSortDirection,"pagination-rounded":e.tableOptions.isPaginationRounded,"sort-icon":e.tableOptions.sortIcon,"sort-icon-size":e.tableOptions.sortIconSize,"default-sort":"id","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page","sticky-header":e.tableOptions.stickyHeaders,"page-input":e.tableOptions.hasInput,"pagination-order":e.tableOptions.paginationOrder,"page-input-position":e.tableOptions.inputPosition,"debounce-page-input":e.tableOptions.inputDebounce},on:{"update:currentPage":function(t){return e.$set(e.tableOptions,"currentPage",t)},"update:current-page":function(t){return e.$set(e.tableOptions,"currentPage",t)}}},[t("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),t("b-table-column",{attrs:{field:"level",label:"Log Level",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{class:"tag is-"+a.row.level.toLowerCase()},[e._v(e._s(a.row.level))])]}}])}),t("b-table-column",{attrs:{field:"type",label:"Log Type",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.type)+" ")]}}])}),t("b-table-column",{attrs:{field:"user",label:"User",width:"200",sortable:"",numeric:"",sticky:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.user)+" ")]}}])}),t("b-table-column",{attrs:{field:"description",label:"Description",width:"1000",numeric:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"has-text-left"},[e._v(e._s(a.row.description))])]}}])}),t("b-table-column",{attrs:{field:"created_at",label:"Created At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(new Date(a.row.created_at).toLocaleString())+" ")])]}}])}),t("b-table-column",{attrs:{field:"updated_at",label:"Updated At",sortable:"",centered:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"tag is-success expanded-col"},[e._v(" "+e._s(new Date(a.row.updated_at).toLocaleString())+" ")])]}}])})],1)],1),t("br")])},cn=[],un={name:"ActivityLogs",components:{},data(){return{fromDate:new Date,toDate:new Date,filterChanged:!1,username:"",transactions:[],filteredList:[],exportWizard:new ks("Activity Logs"),tableOptions:{isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!1,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-small",currentPage:1,perPage:10,hasInput:!1,paginationOrder:"",inputPosition:"",inputDebounce:"",stickyHeaders:!0},tableHeaders:[]}},computed:{},watch:{fromDate(){this.filterChanged=!0},toDate(){this.filterChanged=!0}},methods:{getImageUrl:function(e){return Je.$.$api_url+e+"?"+(new Date).getTime()},generateXlsx:function(){const e=this;e.exportWizard.exportToXlsx(new Date,e.authUser().username,e.fromDate,e.toDate,"activityLogs_"+e.formatDate(new Date),e.tableHeaders,e.filteredList)},generatePdf:function(){const e=this;e.exportWizard.exportToPDF(new Date,e.authUser().username,e.fromDate,e.toDate,"activityLogs_"+e.formatDate(new Date),e.tableHeaders,e.filteredList)},onFromDateChange:function(){const e=this;e.toDate.getTime()<e.fromDate.getTime()&&(e.toDate=e.fromDate)},loadData:function(){const e=this;e.fromDate.setSeconds(1),e.toDate.setSeconds(0);let t={from:e.formatDateTime(e.fromDate),to:e.formatDateTime(e.toDate),username:e.username};e.showFullScreenLoader(),q.Z.apiRequest("api/report/get-activity-report",t,(function(t){200===t.statusCode&&(e.transactions=t.data.logs,e.filteredList=t.data.filteredList,e.tableHeaders=t.data.fields,e.filterChanged=!1),e.hideFullScreenLoader()}))}},mounted(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(1);let t=new Date;t.setHours(23),t.setMinutes(59),t.setSeconds(0),this.fromDate=e,this.toDate=t,this.loadData()}},dn=un,pn=(0,b.Z)(dn,rn,cn,!1,null,null,null),mn=pn.exports;const bn=[{path:"/login",name:"Login",component:()=>a.e(463).then(a.bind(a,5463)),hidden:!0},{path:"/Terms&Conditions",name:"TermsAndConditionsModal",component:()=>a.e(888).then(a.bind(a,3888)),hidden:!0},{path:"/resetPassword",name:"ResetPassword",component:ua,hidden:!0},{path:"/",hidden:!0,redirect:"Login"},{path:"/#",component:N,isVisible:()=>!0,redirect:()=>"Dashboard",meta:{type:"menu",icon:"view-dashboard",title:"Dashboard",isActive:!1},children:[{path:"/dashboard",name:"Dashboard",component:Ae,meta:{type:"",icon:"view-dashboard",title:"Dashboard",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>U.Z.hasPermission("kyc-view"),redirect:()=>{if(U.Z.hasPermission("kyc-view"))return"KYC"},meta:{type:"menu",icon:"account-check",title:"KYC",isActive:!1},children:[{path:"/kyc",name:"KYC",component:zi,meta:{type:"",icon:"account-check",title:"KYC",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>U.Z.hasSuperPermission()||U.Z.hasPermission("user-view"),redirect:"",meta:{type:"menu",icon:"cog",title:"Administrator",isActive:!1},children:[{path:"/users",name:"Users",isVisible:()=>U.Z.hasPermission("user-view"),component:xt,meta:{type:"menu-item",title:"Users",icon:"account-multiple",isActive:!1,middleware:[z]}},{path:"/users/create",name:"CreateUser",component:Ft,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/users/edit/:id",name:"EditUser",component:Zt,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/roles",name:"Roles",isVisible:()=>U.Z.hasPermission("role-view"),component:Ht,meta:{type:"menu-item",title:"Roles",icon:"human-male-board",isActive:!1,middleware:[z]}},{path:"/roles/create",name:"CreateRole",component:Xt,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/roles/edit/:id",name:"EditRole",component:ia,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/banks",name:"Bank",isVisible:()=>U.Z.hasPermission("bank-view"),component:ns,meta:{type:"menu-item",title:"Banks",icon:"bank",isActive:!1,middleware:[z]}},{path:"/banks/create",name:"BankCreate",component:gs,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/banks/edit/:id",name:"BankEdit",component:ds,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/provider",name:"IPGProvider",isVisible:()=>U.Z.hasPermission("ipg-provider-view"),component:Xs,meta:{type:"menu-item",title:"IPG Providers",icon:"home",isActive:!1,middleware:[z]}},{path:"/advertisements",name:"Advertisements",isVisible:()=>U.Z.hasPermission("advertisement-view"),component:gi,meta:{type:"menu-item",title:"Advertisements",icon:"television-classic",isActive:!1,middleware:[z]}},{path:"/advertisements/create",name:"CreateAdvertisement",component:ki,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/advertisements/edit/:id",name:"EditAdvertisement",component:Ai,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/appUsers",name:"AppUser",isVisible:()=>U.Z.hasPermission("app-user-view"),component:Is,meta:{type:"menu-item",title:"App Users",icon:"account-card-outline",isActive:!1,middleware:[z]}},{path:"/appVersions",name:"AppVersion",isVisible:()=>U.Z.hasPermission("app-version-view"),component:Fs,meta:{type:"menu-item",title:"App Versions",icon:"cellphone-play",isActive:!1,middleware:[z]}},{path:"/appVersions/create",name:"AppVersionCreate",component:Hs,meta:{type:"",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>!U.Z.hasSuperPermission()&&U.Z.hasPermission("ipg-currency-view"),redirect:"IPGProviderCurrency1",meta:{type:"menu",icon:"store-cog",title:"IPG Provider Currencies",isActive:!1},children:[{path:"/ipgProviderCurrencies/",name:"IPGProviderCurrency1",component:di,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/ipgProviderCurrencies/:id",name:"IPGProviderCurrency2",component:di,meta:{type:"",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>U.Z.hasPermission("bill-payment-report-view")||U.Z.hasPermission("send-money-report-view")||U.Z.hasPermission("thyaga-report-view")||U.Z.hasPermission("echannelling-report-view")||U.Z.hasPermission("track-remit-report-view"),meta:{type:"menu",icon:"script-text",title:"Reports",isActive:!1},children:[{path:"/transaction/ceft",name:"CEFTTransaction",isVisible:()=>U.Z.hasPermission("send-money-report-view"),component:Gi,meta:{type:"menu-item",title:"Send Money",icon:"cash-fast",isActive:!1,middleware:[z]}},{path:"/transaction/bill",name:"BillTransaction",isVisible:()=>U.Z.hasPermission("bill-payment-report-view"),component:qi,meta:{type:"menu-item",title:"Bill",icon:"receipt-text",isActive:!1,middleware:[z]}},{path:"/transaction/thyaga",name:"ThyagaTransaction",isVisible:()=>U.Z.hasPermission("thyaga-report-view"),component:en,meta:{type:"menu-item",title:"Thyaga",icon:"gift",isActive:!1,middleware:[z]}},{path:"/transaction/eChannelling",name:"EChannellingTransaction",isVisible:()=>U.Z.hasPermission("echannelling-report-view"),component:ln,meta:{type:"menu-item",title:"EChannelling",icon:"stethoscope",isActive:!1,middleware:[z]}},{path:"/activityLogs",name:"ActivityLogs",isVisible:()=>U.Z.hasPermission("activity-log-report-view"),component:mn,meta:{type:"menu-item",title:"Activity Log Report",icon:"format-list-text",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>U.Z.hasPermission("notification-view"),redirect:()=>{if(U.Z.hasPermission("notification-view"))return"Notifications"},meta:{type:"menu",icon:"bell-badge",title:"Notification",isActive:!1},children:[{path:"/notifications",name:"Notifications",component:va,meta:{type:"",icon:"bell-badge",title:"Notification",isActive:!1,middleware:[z]}},{path:"/notifications/create",name:"CreateNotification",component:Ta,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/notifications/edit/:id",name:"EditNotification",component:Na,meta:{type:"",isActive:!1,middleware:[z]}}]},{path:"/#",component:N,isVisible:()=>U.Z.hasPermission("news-view")||U.Z.hasSuperPermission(),redirect:()=>{if(U.Z.hasPermission("news-view"))return"NewsFeed"},meta:{type:"menu",icon:"newspaper-variant-outline",title:"NewsFeed",isActive:!1},children:[{path:"/newsfeed",name:"NewsFeed",component:Va,meta:{type:"",icon:"newspaper-variant-outline",title:"NewsFeed",isActive:!1,middleware:[z]}},{path:"/newsfeed/create",name:"CreateNewsFeed",component:Ya,meta:{type:"",isActive:!1,middleware:[z]}},{path:"/newsfeed/edit/:id",name:"EditNewsFeed",component:Qa,meta:{type:"",isActive:!1,middleware:[z]}}]}];var fn=bn;s.ZP.use(i.ZP);const vn=new i.ZP({mode:"history",routes:fn});vn.beforeEach(((e,t,a)=>{const s=e.meta.middleware,i={to:e,from:t,next:a,router:vn,store:o.Z};if(!s)return a();s[0]({...i,next:n(i,s,1)})}));var gn=vn},4239:function(e,t,a){var s=a(6369),i=a(3822);s.ZP.use(i.ZP),t.Z=new i.ZP.Store({state:{isFirstLogin:!1},mutations:{setFirstLogin(e,t){e.isFirstLogin=t}},actions:{},modules:{}})},9426:function(e,t,a){e.exports=a.p+"img/TR.457607c6.png"},5701:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASkAAADNCAYAAADkO4aiAAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABbKSURBVHgB7Z1NluQ2DoRJuxftpW/gOaKXPu2UD+DnpXPRbkxJJEgApNILZ3chNPHNVKWkrPajfgiCARCqpfPXX/JLecJPP9W3khi2/2Nh+z+WO7f/0/Hrz7/++uVv+fLf6//EeYL/KUlh+z8Wtv9juXv7fyiEEJIYGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGpopAghqaGRIoSkhkaKEJIaGilCSGo+FUII+WB+//OPy+9opAghH8rPv/1a6t/yviX9SDXbnO4RQlIg3S55A3VAI0UIycFhn4KBOqCRIoSkoF4cpyZFCPl4JPhQZtZHT4oQ8rE8NseMxaKRIoSkhtM9QkgCDtdpjewdx+hJEUI+ls+6Ie8mKcrnQiNFCPlgHs+/ppEihOTgjPCFMJ/QSBFCMiDrp078aKQIITkwclR93xbmSRFCUmGmeWK2mYJACEmCFaOmW0VPihCSALnYZwoCISQtzVBxukcIycOacE4jRQhJgOwPHxnoNFKE3IBnNcK//P215OZIOd+bInkP89FIEQJOqxHeDNHheUioFV5rLchQOCfkJlgD1QxT2xaRgsdsMz0pQm6C9aDkq1zX402JN6TW4NJIEXIHZLNjZ33p8bWkxkLjyukeIfg8yg0Qv8iYy2IIIamIVRBKW2R8QE+KEHTOypbrspJqthE59H5hPSlCbsCY7kmxcyWJ8yZQaKQIuSEVK7S3gSkIhNwPW4/J7wAgl8foSRFyB64M0eFQIfTyJ4aURoqQm7Bd/XJ0/uxL9ywxDYHCOSH3YV39Aiaab94PeizvoSZFyC2QJ8dxRPT4DuNj3SE9KUJuAXo0r7FbC00jRQg8j575WGKqVMFMlfIN5nSPkLuwzJUKEHK5T0+KkLsAnVxee/vrso6PRoqQ2wOQg6Bi1Pgs/TXGnO4RcoJdI/wAf43egrDoHSEns0Z4FHXKxTHyPaGRImTQ64P3cL5WEWilbJNz9Uqo9ykTZo3zCY0UIQEJPV6APSl0A3VAI0XIQe/Lp1a7m/GRb8z1CmlG9wgxoDoe4K/WC+kH/mRopAg5WbMgkTr+aVzl2fo9AFwaQmWeFCGDpfxu2z70HBw7pe/Zk7JfHwOGMVg0UoRcMF9QCdDRRxPr3Ae2URYK54QoEne7d4JSNE7Gr81xXOhJEXIALufAC+dPoJEi5AbcIB3K4IMYnO4Rcirn2hXiMhgkF6VHxRCRTamWvsCYnhQh5fPT99RhdHtbIBwwwmfnq7rNBcaEKI/3/qBdwb4FoJwdBSYRAXnOZ9sumqdWWeOckEG9OIQyewpvWLkDQk+KvBL4eky7yD1sHuStVHQaKfLvafWYovah+sgd6jEhvV0TFJElj+LM+Od798jrkO0+jom6h/cBOyRspqg6baWRIq9BQpmT3ltG1nZ2rpw+GHlH5u+RiQBmssQJa2Ofwjn59/QFuuJz8M6REErDlYtjCP3clTrp+yja1PH8bKZ7J5X1pMg3oY/qR/j+XhpualwXr2GhcWY+989NGgKrIJAXYhMHd0mF2cG3prLr5Ag8nn9NI0VeDm6Wzs6wohhZYD7PzZg+IVwWQ16Gqbl2Pmi2b8NE8OMUicbpu2A8qZiIeuzSSJEXcaE/ofRzFZpDdLJaMTo9Ej7jNgih+UxBIC/CjoCyOYYJTPa2xByQ/rl9/U1CxLS39MGib9OTIi/iahQHnTIhNluw1/a0GfYq/tNIkRfQRAX7HoAac3aSs/p8QI2/CVd+N40UeQGfp2DeObeBEp6lnUDZ6zk0VN+TeLWpSZFvB1LfdvaIRukjqW6LmhR5CY9yR+5SlwkX1pMiL+XK+0B6J5QHqi6Tje7ZiB6Kod1d6t50elLkNcjFD07xXWyMYXLXWxAirN0Tt5GXoRHSSJEXcTk1EpQouBXOZ8eu+l1mtIpAx3uACENEXxdzkUJBI0VeguxGcSSWQF7zTMRmoWfl87MvEUaI08pefksjRV6EmN+NGr6DQZfIdNIL6PBxi6dWlkaKvBDxeoKM7QINloBe1uudPm7x3MrSSJHXYKdLu23ybZGuqY1SFGVdx4eESQ6mkSKv5SahPFxtzRomkMXFio9ZjKVVzJMir0V2B0DexCBuD+49BitgeV7jOfHtpidFXsIM1ce5HkqpkLImPsIaKFQ/UHVMD40UeQmiI6FqISaZEwYJEUrYZTGA1rVf67UqGd8WQ17JNhmvwKBNHR0FSc9R5GI7OzYZtX+qd05NipAOtOZvvVap4Xh+7Gv34n2gJ0WIomF8u94NZO2bbCuith8EO1X3mvkJPSnyImTdhXp7MXb7Yw2mttmCFjBBShtdPdvdzopGiryGER2TuY2o6Vgg2+96eoHB1Ta30WIK5+TVjAwEoA5iVmUA52jfFFZBIK8E3XMqc9rkZnqYNfsap8SGcwK7J4hGinxToBbnwtKqCLiyMm55CU43r5sj1KTIiwhKc1/sClE07kBsdg6aYX2fr8qPXWiWzZoejPPZxyqYJ5WG3//84/K7L38DuOsxu9wK51B9Htnzi4YWy+BW22TTdBqpBPz826+lIhiif+AoDjemd0cI2e6Dcp4DXJYnoPwfijfYplOTyghC/mBES+26Q1gn4ZvbJ6rHwa+ohhYxh176/2cyKo1UFqSsxqnvQzxqN3hHnT8FwavIuWxDLd5rP2Oh8bwZNFIZOPN0rIUKHkkBQqsgFPOJIpy71SQyiq7B3ABta90cS860q+toTU0qEyo+j/ePlfWhy8qyrMQYKoT2bzPkrRCNwmFs/UI4NH+KC4yzspnmjWP4mnpyHgU/EdUWjPMuFcQYET4pnKfGW6gbSD3ku1DDNli+105T692ARioNsk1kgxjgn7/bEYD9e9+wnCsxYjOSkNZRm7qZYdNIJUKiWKsiNMTzJmXWYio+kTN9CP8xJUAjoFtpEAPgkeJKDmTGeRaOTvKpa7fo2khZDRUEMgyTRK8W5UUS0KwRbb0HNFJpeDa1u4HhAmLKzYjXvXdvwJUxdqZnm00jlYX4IKH2kYD05TF4wKX8++3TQOEVHrS2VRdMU5PKyk2cp6GxkW+KhM+5U2EufxX/qSkVNFKJmP4GWq9+FPsSgyY4S0hOTU5MMYr7ydlnRMmqr2UlTk1N4IJGKg2ajGfuUnxzSVpmCN+3VtxHeuQf9hOjueXRIEFNtCVs9nGOmlQWNh1iSArpO8uRKNUepeFFwSHbIyidvO4uObCuaa87jVRiWHn3Y4HyQkZRTrMcxobLkhOnpVM8p5HKhYgPb6Bxh2hkwbz0jZ18jhThq1sNjZpUFmKpXSmriJseWX/O4B7ICmkJBSh2fT4rIs7A2iAMQvNjEq1d4HMbTwq+Rjg6V6M1yht0Zf1EWhYzmxmvdu3+SW7GJKL6Sgi3me65GuEmlHnWp4YKLYVZOZCm0Kg9ebMAop6I7eR2PM+N9Zxsq1GypJwHZSYVx7N0H01K1m1BKbh2IOPXxXfJ6e2vUVODmarW3qE1mI/TwU82dnVsgvSB85pbJ6MfvJEmtdFDSgHqJAZY5TYkukBdezG/AW1sR0RMJeTW+pr9JB5Tj9Kx2s6+72GkHhfHN/WSIYj6CARXajPOSehIjlb52KLTVd9ujHvQDNVMatb9e0734nGQ6Mz+eAEE0FAFgySCJpzHAIUsEbPM1K5namPtudx4ujfenFbQwawigIVdklQrmB7VsVNVtERgKTPgEtMQ7mOkFklKZpVFcCAK4cXABdhsz5XeHW3GOYno9aGNazX6e+YZuomRUlFqP81ILxwemCoCamTHcRREDap5wiCSpA5ku42SwuKmp+bxh7FVXfAf7a+zG9wq47zOBUzFlgpByHj2U7orETo7vsCdwFRx2NP7CsQ4sTw9aI9OKdsKDsfPjaZ7F9M7hD7yAJnSPUHK6vmhlQmR6IX0/fRTJxPdnqV324mgPVXj7YGm4TcTzv32LeRmGE1nBa2DjM4teJ1cNoEj/QYkvD2u+TSy7djNUhD8zRl7EJUhnzxICEsPN83HGiR8B5n5RjW/l/v5vd1fzPRUP/sSJQwTZRNoxeV7/X9UQcCeSQFh/Q9x8jMKs7PMeV96Y2ume7azlxDSz45KmPb6H79v5EmFjlD7L6C04fFyUMR5al/CXns3EZhpRkM7N/KKpEV47gcEwBO3a/asS3hvT8qF8UtyHl2g1ehkSEWA8NenUbLaQglbWXEtNNIOWAaI+0QaJzZqzbgpw5PCr8ekZxgTc2rBSNXZGSOwHmIudF16fXJiE7Gc8BObqT11nQLx/McUCpucehopV4+p7P4aADt82JciVoR0vONtK18uv4UxVXrJdduquADMJtsBA6Mm2fRep+C8rufLz86Zap7UfNnH+k8EUCOxPjrEHTqme3oDpkeoD5kqPblZW4i0SNdK/maBDFxHjyV4cdrdftvlSbo9TZPt2G4ERJpy+Gne8Kpg6NUhuyc4W45R/nia1zmao2A7tPRnf3QXBOG5f9pzqKMLZB/kHu/tn4O0HaYP9sK5VeCOs4WQpOJtkHkcQv00YrMgBu9tdEzcI5SeYyYhzbgOw2rHbIDwklE3vL8B4mjMuMvU0ZRuvsx0w5pktGlexA4n2TGaWrv0/Wbh+exuVzNBEBARY2iLG+eyY9cYjkcmBDMyozJylfX9e26MGKN49KQgHBEzhMRtCPpQUuvwRmbEL/k59GRCHQjblNVnEKOB1+LiDWyJAYDcXEVSp3De/+p6kpF8vmeFf/CFupfT1uz0dq9iOZ4meGBlWQRnxKYcHNSeXBuPZyV6T3rs2P60fmX/CdCcTza+rfqQOJLUermBbsG+6SjRMTGGqbqoHsLlH6kTuh+nfkDMc2lbxpOyfyYX29mJogigVyXRWvU0kOSo/Oc6NZCBdZgXmlabcweAXu6z7ZtxOytzUKhmYGt7P8Q/9Z+6C9bZIWd8I7yx2c9/QmfnEBNdsk1HeYG0TA9k9G+IZ//hHhexciYY1Yxs7bcYIxXXitlytgjYdpcoohcIJDxkUNR1UwdxiFMR9wE11TtWLIxrLGWJUCKkCjrvu/jCd8aTao8Tone+1jjXXaCeLn0UGdMmMYa35McVqJ7vTqv9JzvROOk2Bo8lsudAmO6FSYQ1Wn4xjAwbhseiqVWslOF+Auc83N4koPF8/+RgiCL+eps4TPgWBS9HAdT4L8WlIVijtQrnOH0iIOu+gKiGhv2lh1A+/RRpXHoBeZ78Na5GgcZ4guRynEbpATVsa4Rvv3YP0ZmyxnWqnm0fyegCO7JRCxmb6c9prrjYNRWlBO8cJKqLACC0f68Ftt9eODefeG8vmW+LGXpOCSJ6YsQEKaT/b9vjk2LFWb3y47uSnc9jy45z8w04JT1eEhRXNxFj4JsnMIvjtP1mpIbuPA1V1X2gUJOGLBFnq7NzRBcEQSV8tI7hHrSGoLTfMD3CWnCe/gIq03gkbB2nFDQpmVnadjaLEMN89iQh3DzTfhu6PztMene9F+1THeT8lCGEwnTyfgK2jlfwqXIjPv2jH4LgvNYy/ad+8CSkIJSyXV7yFeFUJfyYY9mnew/bDfoIUi+8q5Q8TGQmJBxUlDHCX/9xHMfCXgJRWVTED8xlJgZfLIuJIUtEP9I4jjAPmowpq8iaFJmZKZ+Ji1k0jRCAodzWs1yIjunuXBJTi13tNmu5YlR13UeGdb97Ur3qF9YM3BMz5EWGGA2RcSteAtRlJicgy0qiWD4vO05lURswWtYiJmc+M2IWYABqtKoyleYFrpqUs2n6ifOQ2fVW4wyAakqNalL9flSAxcWNqSfEFkN5gsW0FUlTMxfeJkS6wQ6A9fmpu1ItxhOpBcRZbJzeSAl1dcav/OhUT7fF7CNgMyZEDwhG3MVitUAV0CFU2Y1RQvEEfTvH3Pu88htNyri7SBZYYnGvOPnIjS6HOXq06BR13qv8XHUMGAMlrt1zG+OVVgfxkbFR4vzI9thxdFlgjMr0og6CaA4w3RsDwshRMw8dwG2xiqZrN+Bj1c5hmiukMcJrget+VmKJH7tYZLMsRuUqoEGw9BYv+g1G6dSD6Pf5XJ382DpAZojAuQPm8be6Jgra5vb6KqNtFgxsO+209Tj+afvnMrUciJH8PThZzzPZibcoiXgzCunVQYxu7sPeCozsXIwj66jh+6ychslpBPatQ/n7QL3YPtgvMDaHYG6ScQ8XXSF9P+kvR9RzwOnbE/EDRPvE80YUtMtfuzcxrr/mGlWB0ZbX2YTLkypx+G7elJSRCZqdWkwipDsZnDwRKd5zHfsgJ7B7yMZOcqrxwud++4HI2A7b1UyZEK6/NnMX4fYpCOI3xz8CMFQjr0gP9BEEZUSXcGNcdAZB+H9yHKcCtTgvpHbNowI8/9V82gAGxkxiTbkRGTdg9aRsxjNqQXfbMVBmTnUO3D7SMdwpNMRoVAAn0PuEGyDaCIF5+QvG4Ka0AaIpm+f1H9ZVvCdlNSh7Z1AyhnVqqotzderUIh75sV7UOKbaQsnNyPIfJ1H7MaAuLj6q1DdhBjr1REagpeJE+OZ1F3dsTveOpXs/7pPBzn8LIDwflRWjgd0Z3KyInaramAxIH7eDwvkBFsLXsL2Y0RwL8/w4b+MAITrsJY7zWG2zCu9JlRDhEPVKkFSdhs8WxphuHDQZRLCG8LIRbi++y4tNWkHo1gEpU0vr+wOkpSMGbfayLMZmV+xcsLTIOjVCUhPsVE8HQvuiyuxEL/zqu7xIMVptmb4tUBUBWQcHlHSWmCdlmzyM1IwudS2hljA7zI9m3O4WGqOYq9ULwWr5/F3GE4XAXJbUf/W6UvAIlEO+9WKHkZoRMb92zP7j1PSMbfka6kfBRGdC0l0tWOV3ZRqnoduODo/VSdoG2hDtkYvtrFgvPBqqWfSuP1Cq4YjYbayqa2fn7uHjA4SHTCQ8TOJzXxAQ84PWS3ZT1Rq+Q8GK0DCMfCf72Y67V1q5XJ0y/xbnZFvjVw8w/2O2RDbCJwJ6Dog6bfRY7QABInaEvLT55COEvdp19qs/NUK8FL1bBKzoe2WlF+lrUQ4ZhrYnDWOgU9bSQxdjhMAIISs7lz07uwrhWJ6IRvdcN8d4fI4UqE9TU3Y5T7XuX8RgXV9z3ukZkXs7daoY7ReJWqCMc8HwBHXkrt3YjkyvAtHdh9zRzsVO9VAqi9bQh+dggTPILfl1dron9s3F4ueEIL28dY7o8qK0vxSn6diRHEP47C6gudZICedR/4tCbmoeXh5Yp60YN+Fqiv2D+yuRqSv0fUi3t6vQdh1iduKN8W0G8KRikMI8S+nb/1inp8/yvjJy1cFBxgjXfmtoj748UxBMqL5qne1CvhvhDTdi8nTSv8G4rUpyWtQiGZTcxLYjdvQDCdtYuuBqZI+H/4fdH0jIEYG4SZspahXBmHM8/OjRImSq8WChz4992ATiDdi+7VcGKzX2uoM5GU1/nf3XPv1jgXH9JIslG/sAI/nwCUE9wJ3+tIwqmbEDWy3OE0cY6LR+kXZw5QwAIBhZO0CX4GwAKP/VaOIa4VNDZZbFbEaOvgMxEpoUhHEmtQeTvyJEl7TMTC2xFG+BeUHoCJJtp36Z0Sj2MlAjeiR9G8mT3WmCiq1x/jaLVZh/fD5w9S39SFjK21yQG93Gr28lOUf7z5hkEKCb4crf/ne2z0g3t28lOe36h8FBv6v1rSSntX8dFHrg4q3k582K5fY8/gcBUyCjt6REfwAAAABJRU5ErkJggg=="},1501:function(e,t,a){e.exports=a.p+"img/a.b09d72f8.png"},9271:function(e,t,a){e.exports=a.p+"img/b.31f25c85.png"},3537:function(e,t,a){e.exports=a.p+"img/c.2a14e55d.png"},6621:function(e,t,a){e.exports=a.p+"img/d.358cc75b.png"},4931:function(e,t,a){e.exports=a.p+"img/e.a33ef951.png"},5738:function(e,t,a){e.exports=a.p+"img/amana.b059c6ed.png"},9691:function(e,t,a){e.exports=a.p+"img/image-placeholder.38fc21e0.png"}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(l=!1,n<o&&(o=n));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var n=Object.create(null);a.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&s;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){o[e]=function(){return s[e]}}));return o["default"]=function(){return s},a.d(n,o),n}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{128:"42fac0da",269:"85e94e4d",463:"3ee7e934",617:"30808edc",888:"9a5a624a"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".783c830f.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="amana-pay-project:";a.l=function(s,i,n,o){if(e[s])e[s].push(i);else{var l,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+n){l=d;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+n),l.src=s),e[s]=[i];var p=function(t,a){l.onerror=l.onload=null,clearTimeout(m);var i=e[s];if(delete e[s],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,s,i){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var o=function(a){if(n.onerror=n.onload=null,"load"===a.type)s();else{var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");r.code="CSS_CHUNK_LOAD_FAILED",r.type=o,r.request=l,n.parentNode&&n.parentNode.removeChild(n),i(r)}};return n.onerror=n.onload=o,n.href=t,a?a.parentNode.insertBefore(n,a.nextSibling):document.head.appendChild(n),n},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],n=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===e||n===t))return i}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){i=o[s],n=i.getAttribute("data-href");if(n===e||n===t)return i}},s=function(s){return new Promise((function(i,n){var o=a.miniCssF(s),l=a.p+o;if(t(o,l))return i();e(s,l,null,i,n)}))},i={143:0};a.f.miniCss=function(e,t){var a={463:1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=s(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise((function(a,s){i=e[t]=[a,s]}));s.push(i[2]=n);var o=a.p+a.u(t),l=new Error,r=function(s){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,i[1](l)}};a.l(o,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,o=s[0],l=s[1],r=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(r)var u=r(a)}for(t&&t(s);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkamana_pay_project"]=self["webpackChunkamana_pay_project"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(4321)}));s=a.O(s)})();
//# sourceMappingURL=app.c548593c.js.map